/*! For license information please see scripting-host.js.LICENSE.txt */
(()=>{var t={267:(t,e,r)=>{function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var r,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;return _assertThisInitialized(t)}(this,r)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var n=r(23),o=r(96),i=r(187),a=function(t){"use strict";_inherits(Feature,i);var e=_createSuper(Feature);function Feature(t,r){var n;_classCallCheck(this,Feature),(n=e.call(this)).metadata={},n.parcel=t,n.uuid=r.uuid,n._content=r,n.gui=null;var i=o(function(){var t={position:n._content.position,rotation:n._content.rotation,scale:n._content.scale};n._position.toArray(t.position),n._rotation.toArray(t.rotation),n._scale.toArray(t.scale),n.set(t)},10,{leading:!1,trailing:!0}),a=function handler(t){return{set:function set(t,e,r){return t[e]=r,i(),r}}};return n._position=new Vector3,n.position=new Proxy(n._position,a()),n._rotation=new Vector3,n.rotation=new Proxy(n._rotation,a()),n._scale=new Vector3,n.scale=new Proxy(n._scale,a()),n.updateVectors(),n}return _createClass(Feature,[{key:"id",get:function get(){return this._content.id}},{key:"type",get:function get(){return this._content.type}},{key:"description",get:function get(){return this._content}},{key:"get",value:function get(t){return this._content[t]}},{key:"getSummary",value:function getSummary(){return"position: ".concat(this.position.toArray())}},{key:"set",value:function set(t){Object.assign(this._content,t);var e=Array.from(Object.keys(t))||[];(e.includes("position")||e.includes("scale")||e.includes("rotation"))&&this.updateVectors(),this.save(t)}},{key:"updateVectors",value:function updateVectors(){this._position.set(this._content.position[0],this._content.position[1],this._content.position[2]),this._rotation.set(this._content.rotation[0],this._content.rotation[1],this._content.rotation[2]),this._scale.set(this._content.scale[0],this._content.scale[1],this._content.scale[2])}},{key:"clone",value:function clone(){var t=JSON.parse(JSON.stringify(this.description));delete t.id,delete t.uuid;var e=this.parcel.createFeature(this.type);return e.set(t),e}},{key:"save",value:function save(t){this.parcel.broadcast({type:"update",uuid:this.uuid,content:t})}},{key:"createAnimation",value:function createAnimation(t){return new Animation(null,t,30,Animation.ANIMATIONTYPE_VECTOR3)}},{key:"startAnimations",value:function startAnimations(t){var e=this,r=t.map(function(t){var r=t.clone();return r._keys.unshift({frame:0,value:e[r.targetProperty].clone()}),r.serialize()});this.parcel.broadcast({type:"animate",uuid:this.uuid,animations:r})}},{key:"createBasicGui",value:function createBasicGui(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=new n(this,e);return r.id=t,this.gui=r,r}},{key:"removeGui",value:function removeGui(){this.gui&&(this.gui.destroy(),this.gui=null)}},{key:"remove",value:function remove(){this.removeGui(),this.parcel.removeFeature(this)}}]),Feature}(),s=function(t){"use strict";_inherits(Audio,a);var e=_createSuper(Audio);function Audio(){return _classCallCheck(this,Audio),e.apply(this,arguments)}return _createClass(Audio,[{key:"play",value:function play(){this.parcel.broadcast({type:"play",uuid:this.uuid})}},{key:"pause",value:function pause(){this.parcel.broadcast({type:"pause",uuid:this.uuid})}},{key:"stop",value:function stop(){this.parcel.broadcast({type:"stop",uuid:this.uuid})}},{key:"createBasicGui",value:function createBasicGui(){console.error("Gui not supported on 2D features.")}}]),Audio}(),u=function(t){"use strict";_inherits(NftImage,a);var e=_createSuper(NftImage);function NftImage(t,r){var n;return _classCallCheck(this,NftImage),function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}(_assertThisInitialized(n=e.call(this,t,r)),"getNftData",o(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n._getNftData(t)},500,{leading:!1,trailing:!0})),n}return _createClass(NftImage,[{key:"_getNftData",value:function _getNftData(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this._content.url)return null;var e=this._content.url.split("/")[4],n=this._content.url.split("/")[5],o="https://img.cryptovoxels.com/node/opensea?contract=".concat(e,"&token=").concat(n,"&force_update=1");return(void 0!==r.g&&r.g.fetchJson?fetchJson(o):fetch(o).then(function(t){return t.json()})).then(function(e){return t&&t(e),e})}},{key:"createBasicGui",value:function createBasicGui(){console.error("Gui not supported on 2D features.")}}]),NftImage}(),c=function(t){"use strict";_inherits(TextInput,a);var e=_createSuper(TextInput);function TextInput(t,r){var n;return _classCallCheck(this,TextInput),(n=e.call(this,t,r)).on("changed",function(t){n.text=t.text}),n}return _createClass(TextInput,[{key:"createBasicGui",value:function createBasicGui(){console.error("Gui not supported on 2D features.")}}]),TextInput}(),l=function(t){"use strict";_inherits(SliderInput,a);var e=_createSuper(SliderInput);function SliderInput(t,r){var n;return _classCallCheck(this,SliderInput),(n=e.call(this,t,r)).on("changed",function(t){n.value=t.value}),n}return _createClass(SliderInput,[{key:"createBasicGui",value:function createBasicGui(){console.error("Gui not supported on 2D features.")}}]),SliderInput}(),f=function(t){"use strict";_inherits(Video,a);var e=_createSuper(Video);function Video(){return _classCallCheck(this,Video),e.apply(this,arguments)}return _createClass(Video,[{key:"play",value:function play(){this.parcel.broadcast({type:"play",uuid:this.uuid})}},{key:"pause",value:function pause(){this.parcel.broadcast({type:"pause",uuid:this.uuid})}},{key:"stop",value:function stop(){this.parcel.broadcast({type:"stop",uuid:this.uuid})}},{key:"createBasicGui",value:function createBasicGui(){console.error("Gui not supported on 2D features.")}}]),Video}(),h=function(t){"use strict";_inherits(Youtube,a);var e=_createSuper(Youtube);function Youtube(){return _classCallCheck(this,Youtube),e.apply(this,arguments)}return _createClass(Youtube,[{key:"play",value:function play(){this.parcel.broadcast({type:"play",uuid:this.uuid})}},{key:"pause",value:function pause(){this.parcel.broadcast({type:"pause",uuid:this.uuid})}},{key:"stop",value:function stop(){this.parcel.broadcast({type:"stop",uuid:this.uuid})}},{key:"createBasicGui",value:function createBasicGui(){console.error("Gui not supported on 2D features.")}}]),Youtube}(),p=function(t){"use strict";_inherits(VidScreen,a);var e=_createSuper(VidScreen);function VidScreen(t,r){var n;return _classCallCheck(this,VidScreen),(n=e.call(this,t,r)).on("start",function(){return n.start()}),n.on("stop",function(){return n.stop()}),n}return _createClass(VidScreen,[{key:"start",value:function start(){var t=this;this.screen=new Uint8Array(12288),this.screenWidth=64,this.screenHeight=64,this._interval=setInterval(function(){t.emit("frame"),postMessage({type:"screen",uuid:t.uuid,screen:t.screen})},1e3/30)}},{key:"stop",value:function stop(){clearInterval(this._interval)}},{key:"createBasicGui",value:function createBasicGui(){console.error("Gui not supported on 2D features.")}}]),VidScreen}();a.create=function(t,e){return"audio"===e.type?new s(t,e):"video"===e.type?new f(t,e):"youtube"===e.type?new h(t,e):"vid-screen"===e.type?new p(t,e):"text-input"===e.type?new c(t,e):"slider-input"===e.type?new l(t,e):"nft-image"===e.type?new u(t,e):new a(t,e)},t.exports=a},23:(t,e,r)=>{function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var r,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}var n=r(171),o=r(187),i=function(){"use strict";function FeatureBasicGUI(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{billBoardMode:2};_classCallCheck(this,FeatureBasicGUI),function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}(this,"billBoardMode",1),this.feature=t,this.uuid=n(),this._listOfControls=[],this.showing=!1,e&&(0==e.billBoardMode||1==e.billBoardMode||2==e.billBoardMode?this.billBoardMode=e.billBoardMode:this.billBoardMode=2)}return _createClass(FeatureBasicGUI,[{key:"addButton",value:function addButton(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0];e||(e="unknown"+this._listOfControls.length+1),t||(t="Text");var n=new a(this,{type:"button",id:e,text:t,positionInGrid:r});return this.replacesOldControl(n)?n:(this._listOfControls.length>15&&this._listOfControls.pop(),this._listOfControls.push(n),n)}},{key:"addText",value:function addText(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];t||(t="Text");var r=new a(this,{type:"text",text:t,positionInGrid:e});return this.replacesOldControl(r)?r:(this._listOfControls.length>15&&this._listOfControls.pop(),this._listOfControls.push(r),r)}},{key:"replacesOldControl",value:function replacesOldControl(t){var e=this.getControlByPosition(t.positionInGrid);if(e){var r=this._listOfControls.indexOf(e);return this._listOfControls[r]=t,!0}return!1}},{key:"defaultControl",get:function get(){return{type:"text",text:"Text",positionInGrid:[0,0]}}},{key:"removeControl",value:function removeControl(t){var e=this.getControlById(t);this._listOfControls.splice(this._listOfControls.indexOf(e),1)}},{key:"getControlById",value:function getControlById(t){return this._listOfControls.find(function(e){return e.id==t})}},{key:"getControlByUuid",value:function getControlByUuid(t){return this._listOfControls.find(function(e){return e.uuid==t})}},{key:"getControlByPosition",value:function getControlByPosition(t){return this._listOfControls.find(function(e){return e.positionInGrid[0]==t[0]&&e.positionInGrid[1]==t[1]})}},{key:"listOfControls",get:function get(){return Array.from(this._listOfControls).map(function(t){return t.summary})}},{key:"show",value:function show(){this._listOfControls&&this._listOfControls.length||(this._listOfControls[0]=new a(this,this.defaultControl)),this._listOfControls.length>15&&(this._listOfControls=this._listOfControls.slice(0,15)),this.feature.parcel.broadcast({type:"create-feature-gui",uuid:this.feature.uuid,gui:{uuid:this.uuid,listOfControls:this.listOfControls,billBoardMode:this.billBoardMode}}),this.showing=!0}},{key:"destroy",value:function destroy(){this.feature.parcel.broadcast({type:"destroy-feature-gui",uuid:this.feature.uuid}),this._listOfControls=[],this.showing=!1}}]),FeatureBasicGUI}(),a=function(t){"use strict";!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}(guiControl,o);var e=_createSuper(guiControl);function guiControl(t,r){var o;return _classCallCheck(this,guiControl),r||(r={type:"text",id:null,text:"Text",positionInGrid:[0,0]}),(o=e.call(this)).gui=t,o.uuid=n(),o.type=r.type||"text",o.id=r.id,o.text=r.text||"Text",o.positionInGrid=r.positionInGrid||[0,0],o}return _createClass(guiControl,[{key:"summary",get:function get(){return{uuid:this.uuid,type:this.type,id:this.id,text:this.text,positionInGrid:this.positionInGrid}}},{key:"update",value:function update(){this.gui&&this.gui.showing&&this.gui.feature.parcel.broadcast({type:"update-feature-gui",uuid:this.gui.feature.uuid,control:this.summary})}}]),guiControl}();t.exports=i},569:t=>{t.exports={animations:[{name:"Idle",animation:0},{name:"Dance",animation:3},{name:"Wave",animation:1},{name:"Sitting",animation:5},{name:"Spin",animation:6},{name:"Savage",animation:7},{name:"Kick",animation:8},{name:"Uprock",animation:9},{name:"Floss",animation:10},{name:"Backflip",animation:11}],emojis:["üòÇ","üòç","ü§©","ü§£","üòä","üò≠","üòò","üòÖ","üòÅ","üò¢","ü§î","üòÜ","üôÑ","üòâ","‚ò∫Ô∏è","ü§ó","üòî","üòé","üòá","ü§≠","üò±","üòå","üëç","üëè","üëã","üôå","‚úåÔ∏è","üëå","üôè","üî•","üéâ","üíØ","‚ö°Ô∏è","‚ù§Ô∏è","üíî","üíñ","üíô","üåπ","üå∏","üé∂","ü§¶","ü§∑","‚ú®","üí™","üòã","üíó","üíö","üòè","üíõ","üôÇ","üíì","üòÑ","üòÄ","üñ§","üòÉ","üôà","üëá","üòí","‚ù£Ô∏è"]}},719:(t,e,r)=>{function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var r,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;return _assertThisInitialized(t)}(this,r)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var n=r(187),o=r(486).throttle,i=r(569).emojis,a=r(569).animations,s=function(t){"use strict";!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}(Player,n);var e=_createSuper(Player);function Player(t,r){var n;return function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Player),_defineProperty(_assertThisInitialized(n=e.call(this)),"emote",o(function(t){i.includes(t)&&n.parcel.broadcast({type:"player-emote",uuid:n.uuid,emote:t})},500,{leading:!0,trailing:!1})),_defineProperty(_assertThisInitialized(n),"animate",o(function(t){var e=a.find(function(e){return e.name==t});e&&n.parcel.broadcast({type:"player-animate",uuid:n.uuid,animation:e.animation})},1e4,{leading:!0,trailing:!1})),Object.assign(_assertThisInitialized(n),t),n.parcel=r,n.uuid=t&&t.uuid,n.name=t&&t.name,n.wallet=t&&t.wallet,n.position=new Vector3,n.rotation=new Vector3,n.collectibles=t&&t.collectibles,n}return function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(Player,[{key:"teleportTo",value:function teleportTo(t){var e=this;t&&""!=t&&(this._numTeleport++>5?setTimeout(function(){e._numTeleport=0},4e3):(this._numTeleport++,this.parcel.broadcast({type:"player-teleport",uuid:this.uuid,coordinates:t})))}},{key:"hasWearable",value:function hasWearable(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return!!this.collectibles.find(function(r){var n=r.collection_id||1;return r.wearable_id==t&&e==n})}},{key:"isAnonymous",get:function get(){return this.name.toLowerCase()=="Anonymous".toLowerCase()}},{key:"onMove",value:function onMove(t){this.position.set(t.position[0],t.position[1],t.position[2]),this.rotation.set(t.rotation[0],t.rotation[1],t.rotation[2]),this.emit("move",t)}}]),Player}();t.exports=s},225:t=>{function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var e=function Blocks(t,e,r){return t+(e?0:32768)+(r<<6)};e.empty=0;var r=function(){"use strict";function VoxelField(t){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,VoxelField),this.parcel=t;var e=(t.x2-t.x1)/.5,r=(t.y2-t.y1)/.5,n=(t.z2-t.z1)/.5;this.resolution=[e,r,n]}return function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(VoxelField,[{key:"width",get:function get(){return this.resolution[0]}},{key:"height",get:function get(){return this.resolution[1]}},{key:"depth",get:function get(){return this.resolution[2]}},{key:"serialize",value:function serialize(){console.log("Not implemented")}}]),VoxelField}();t.exports={Blocks:e,VoxelField:r}},187:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function ReflectApply(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function ReflectOwnKeys(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function NumberIsNaN(t){return t!=t};function EventEmitter(){EventEmitter.init.call(this)}t.exports=EventEmitter,t.exports.once=function once(t,e){return new Promise(function(r,n){function errorListener(r){t.removeListener(e,resolver),n(r)}function resolver(){"function"==typeof t.removeListener&&t.removeListener("error",errorListener),r([].slice.call(arguments))}eventTargetAgnosticAddListener(t,e,resolver,{once:!0}),"error"!==e&&function addErrorHandlerIfEventEmitter(t,e,r){"function"==typeof t.on&&eventTargetAgnosticAddListener(t,"error",e,r)}(t,errorListener,{once:!0})})},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var i=10;function checkListener(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function _getMaxListeners(t){return void 0===t._maxListeners?EventEmitter.defaultMaxListeners:t._maxListeners}function _addListener(t,e,r,n){var o,i,a;if(checkListener(r),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),a=i[e]),void 0===a)a=i[e]=r,++t._eventsCount;else if("function"==typeof a?a=i[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=_getMaxListeners(t))>0&&a.length>o&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,function ProcessEmitWarning(t){console&&console.warn&&console.warn(t)}(s)}return t}function _onceWrap(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(n);return o.listener=r,n.wrapFn=o,o}function _listeners(t,e,r){var n=t._events;if(void 0===n)return[];var o=n[e];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function unwrapListeners(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(o):arrayClone(o,o.length)}function listenerCount(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function arrayClone(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function eventTargetAgnosticAddListener(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,function wrapListener(o){n.once&&t.removeEventListener(e,wrapListener),r(o)})}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");i=t}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function emit(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var o="error"===t,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)n(u,this,e);else{var c=u.length,l=arrayClone(u,c);for(r=0;r<c;++r)n(l[r],this,e)}return!0},EventEmitter.prototype.addListener=function addListener(t,e){return _addListener(this,t,e,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(t,e){return _addListener(this,t,e,!0)},EventEmitter.prototype.once=function once(t,e){return checkListener(e),this.on(t,_onceWrap(this,t,e)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(t,e){return checkListener(e),this.prependListener(t,_onceWrap(this,t,e)),this},EventEmitter.prototype.removeListener=function removeListener(t,e){var r,n,o,i,a;if(checkListener(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function spliceOne(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,o),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},EventEmitter.prototype.listeners=function listeners(t){return _listeners(this,t,!0)},EventEmitter.prototype.rawListeners=function rawListeners(t){return _listeners(this,t,!1)},EventEmitter.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):listenerCount.call(t,e)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?e(this._events):[]}},96:(t,e,r)=>{var n="Expected a function",o=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,f="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,h="object"==typeof self&&self&&self.Object===Object&&self,p=f||h||Function("return this")(),y=Object.prototype.toString,d=Math.max,g=Math.min,v=function(){return p.Date.now()};function debounce(t,e,r){var o,i,a,s,u,c,l=0,f=!1,h=!1,p=!0;if("function"!=typeof t)throw new TypeError(n);function invokeFunc(e){var r=o,n=i;return o=i=void 0,l=e,s=t.apply(n,r)}function shouldInvoke(t){var r=t-c;return void 0===c||r>=e||r<0||h&&t-l>=a}function timerExpired(){var t=v();if(shouldInvoke(t))return trailingEdge(t);u=setTimeout(timerExpired,function remainingWait(t){var r=e-(t-c);return h?g(r,a-(t-l)):r}(t))}function trailingEdge(t){return u=void 0,p&&o?invokeFunc(t):(o=i=void 0,s)}function debounced(){var t=v(),r=shouldInvoke(t);if(o=arguments,i=this,c=t,r){if(void 0===u)return function leadingEdge(t){return l=t,u=setTimeout(timerExpired,e),f?invokeFunc(t):s}(c);if(h)return u=setTimeout(timerExpired,e),invokeFunc(c)}return void 0===u&&(u=setTimeout(timerExpired,e)),s}return e=toNumber(e)||0,isObject(r)&&(f=!!r.leading,a=(h="maxWait"in r)?d(toNumber(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p),debounced.cancel=function cancel(){void 0!==u&&clearTimeout(u),l=0,o=c=i=u=void 0},debounced.flush=function flush(){return void 0===u?s:trailingEdge(v())},debounced}function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function toNumber(t){if("number"==typeof t)return t;if(function isSymbol(t){return"symbol"==typeof t||function isObjectLike(t){return!!t&&"object"==typeof t}(t)&&y.call(t)==i}(t))return o;if(isObject(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=isObject(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var r=u.test(t);return r||c.test(t)?l(t.slice(2),r?2:8):s.test(t)?o:+t}t.exports=function throttle(t,e,r){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError(n);return isObject(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),debounce(t,e,{leading:o,maxWait:e,trailing:i})}},486:function(t,e,r){var n;t=r.nmd(t),function(){var o,i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",h=1,p=2,y=4,d=1,g=2,v=1,m=2,_=4,b=8,T=16,A=32,x=64,C=128,R=256,I=512,w=30,E="...",O=800,P=16,M=1,L=2,S=1/0,F=9007199254740991,N=1.7976931348623157e308,z=NaN,V=4294967295,k=V-1,j=V>>>1,U=[["ary",C],["bind",v],["bindKey",m],["curry",b],["curryRight",T],["flip",I],["partial",A],["partialRight",x],["rearg",R]],D="[object Arguments]",K="[object Array]",B="[object AsyncFunction]",W="[object Boolean]",q="[object Date]",G="[object DOMException]",H="[object Error]",Q="[object Function]",Y="[object GeneratorFunction]",X="[object Map]",Z="[object Number]",$="[object Null]",J="[object Object]",tt="[object Proxy]",et="[object RegExp]",rt="[object Set]",nt="[object String]",ot="[object Symbol]",it="[object Undefined]",at="[object WeakMap]",st="[object WeakSet]",ut="[object ArrayBuffer]",ct="[object DataView]",lt="[object Float32Array]",ft="[object Float64Array]",ht="[object Int8Array]",pt="[object Int16Array]",yt="[object Int32Array]",dt="[object Uint8Array]",gt="[object Uint8ClampedArray]",vt="[object Uint16Array]",mt="[object Uint32Array]",_t=/\b__p \+= '';/g,bt=/\b(__p \+=) '' \+/g,Tt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,At=/&(?:amp|lt|gt|quot|#39);/g,xt=/[&<>"']/g,Ct=RegExp(At.source),Rt=RegExp(xt.source),It=/<%-([\s\S]+?)%>/g,wt=/<%([\s\S]+?)%>/g,Et=/<%=([\s\S]+?)%>/g,Ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pt=/^\w*$/,Mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lt=/[\\^$.*+?()[\]{}|]/g,St=RegExp(Lt.source),Ft=/^\s+/,Nt=/\s/,zt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vt=/\{\n\/\* \[wrapped with (.+)\] \*/,kt=/,? & /,jt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ut=/[()=,{}\[\]\/\s]/,Dt=/\\(\\)?/g,Kt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Bt=/\w*$/,Wt=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Gt=/^\[object .+?Constructor\]$/,Ht=/^0o[0-7]+$/i,Qt=/^(?:0|[1-9]\d*)$/,Yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,Zt=/['\n\r\u2028\u2029\\]/g,$t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Jt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+Jt+"]",re="["+$t+"]",ne="\\d+",oe="[\\u2700-\\u27bf]",ie="[a-z\\xdf-\\xf6\\xf8-\\xff]",ae="[^\\ud800-\\udfff"+Jt+ne+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",se="\\ud83c[\\udffb-\\udfff]",ue="[^\\ud800-\\udfff]",ce="(?:\\ud83c[\\udde6-\\uddff]){2}",le="[\\ud800-\\udbff][\\udc00-\\udfff]",fe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",he="(?:"+ie+"|"+ae+")",pe="(?:"+fe+"|"+ae+")",ye="(?:"+re+"|"+se+")"+"?",de="[\\ufe0e\\ufe0f]?"+ye+("(?:\\u200d(?:"+[ue,ce,le].join("|")+")[\\ufe0e\\ufe0f]?"+ye+")*"),ge="(?:"+[oe,ce,le].join("|")+")"+de,ve="(?:"+[ue+re+"?",re,ce,le,te].join("|")+")",me=RegExp("['‚Äô]","g"),_e=RegExp(re,"g"),be=RegExp(se+"(?="+se+")|"+ve+de,"g"),Te=RegExp([fe+"?"+ie+"+(?:['‚Äô](?:d|ll|m|re|s|t|ve))?(?="+[ee,fe,"$"].join("|")+")",pe+"+(?:['‚Äô](?:D|LL|M|RE|S|T|VE))?(?="+[ee,fe+he,"$"].join("|")+")",fe+"?"+he+"+(?:['‚Äô](?:d|ll|m|re|s|t|ve))?",fe+"+(?:['‚Äô](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ne,ge].join("|"),"g"),Ae=RegExp("[\\u200d\\ud800-\\udfff"+$t+"\\ufe0e\\ufe0f]"),xe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ce=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Re=-1,Ie={};Ie[lt]=Ie[ft]=Ie[ht]=Ie[pt]=Ie[yt]=Ie[dt]=Ie[gt]=Ie[vt]=Ie[mt]=!0,Ie[D]=Ie[K]=Ie[ut]=Ie[W]=Ie[ct]=Ie[q]=Ie[H]=Ie[Q]=Ie[X]=Ie[Z]=Ie[J]=Ie[et]=Ie[rt]=Ie[nt]=Ie[at]=!1;var we={};we[D]=we[K]=we[ut]=we[ct]=we[W]=we[q]=we[lt]=we[ft]=we[ht]=we[pt]=we[yt]=we[X]=we[Z]=we[J]=we[et]=we[rt]=we[nt]=we[ot]=we[dt]=we[gt]=we[vt]=we[mt]=!0,we[H]=we[Q]=we[at]=!1;var Ee={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Oe=parseFloat,Pe=parseInt,Me="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,Le="object"==typeof self&&self&&self.Object===Object&&self,Se=Me||Le||Function("return this")(),Fe=e&&!e.nodeType&&e,Ne=Fe&&t&&!t.nodeType&&t,ze=Ne&&Ne.exports===Fe,Ve=ze&&Me.process,ke=function(){try{var t=Ne&&Ne.require&&Ne.require("util").types;return t||Ve&&Ve.binding&&Ve.binding("util")}catch(t){}}(),je=ke&&ke.isArrayBuffer,Ue=ke&&ke.isDate,De=ke&&ke.isMap,Ke=ke&&ke.isRegExp,Be=ke&&ke.isSet,We=ke&&ke.isTypedArray;function apply(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function arrayAggregator(t,e,r,n){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(n,a,r(a),t)}return n}function arrayEach(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function arrayEachRight(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function arrayEvery(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function arrayFilter(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}function arrayIncludes(t,e){return!!(null==t?0:t.length)&&baseIndexOf(t,e,0)>-1}function arrayIncludesWith(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}function arrayMap(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}function arrayPush(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function arrayReduce(t,e,r,n){var o=-1,i=null==t?0:t.length;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function arrayReduceRight(t,e,r,n){var o=null==t?0:t.length;for(n&&o&&(r=t[--o]);o--;)r=e(r,t[o],o,t);return r}function arraySome(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var qe=baseProperty("length");function baseFindKey(t,e,r){var n;return r(t,function(t,r,o){if(e(t,r,o))return n=r,!1}),n}function baseFindIndex(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function baseIndexOf(t,e,r){return e==e?function strictIndexOf(t,e,r){var n=r-1,o=t.length;for(;++n<o;)if(t[n]===e)return n;return-1}(t,e,r):baseFindIndex(t,baseIsNaN,r)}function baseIndexOfWith(t,e,r,n){for(var o=r-1,i=t.length;++o<i;)if(n(t[o],e))return o;return-1}function baseIsNaN(t){return t!=t}function baseMean(t,e){var r=null==t?0:t.length;return r?baseSum(t,e)/r:z}function baseProperty(t){return function(e){return null==e?o:e[t]}}function basePropertyOf(t){return function(e){return null==t?o:t[e]}}function baseReduce(t,e,r,n,o){return o(t,function(t,o,i){r=n?(n=!1,t):e(r,t,o,i)}),r}function baseSum(t,e){for(var r,n=-1,i=t.length;++n<i;){var a=e(t[n]);a!==o&&(r=r===o?a:r+a)}return r}function baseTimes(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function baseTrim(t){return t?t.slice(0,trimmedEndIndex(t)+1).replace(Ft,""):t}function baseUnary(t){return function(e){return t(e)}}function baseValues(t,e){return arrayMap(e,function(e){return t[e]})}function cacheHas(t,e){return t.has(e)}function charsStartIndex(t,e){for(var r=-1,n=t.length;++r<n&&baseIndexOf(e,t[r],0)>-1;);return r}function charsEndIndex(t,e){for(var r=t.length;r--&&baseIndexOf(e,t[r],0)>-1;);return r}var Ge=basePropertyOf({"√Ä":"A","√Å":"A","√Ç":"A","√É":"A","√Ñ":"A","√Ö":"A","√†":"a","√°":"a","√¢":"a","√£":"a","√§":"a","√•":"a","√á":"C","√ß":"c","√ê":"D","√∞":"d","√à":"E","√â":"E","√ä":"E","√ã":"E","√®":"e","√©":"e","√™":"e","√´":"e","√å":"I","√ç":"I","√é":"I","√è":"I","√¨":"i","√≠":"i","√Æ":"i","√Ø":"i","√ë":"N","√±":"n","√í":"O","√ì":"O","√î":"O","√ï":"O","√ñ":"O","√ò":"O","√≤":"o","√≥":"o","√¥":"o","√µ":"o","√∂":"o","√∏":"o","√ô":"U","√ö":"U","√õ":"U","√ú":"U","√π":"u","√∫":"u","√ª":"u","√º":"u","√ù":"Y","√Ω":"y","√ø":"y","√Ü":"Ae","√¶":"ae","√û":"Th","√æ":"th","√ü":"ss","ƒÄ":"A","ƒÇ":"A","ƒÑ":"A","ƒÅ":"a","ƒÉ":"a","ƒÖ":"a","ƒÜ":"C","ƒà":"C","ƒä":"C","ƒå":"C","ƒá":"c","ƒâ":"c","ƒã":"c","ƒç":"c","ƒé":"D","ƒê":"D","ƒè":"d","ƒë":"d","ƒí":"E","ƒî":"E","ƒñ":"E","ƒò":"E","ƒö":"E","ƒì":"e","ƒï":"e","ƒó":"e","ƒô":"e","ƒõ":"e","ƒú":"G","ƒû":"G","ƒ†":"G","ƒ¢":"G","ƒù":"g","ƒü":"g","ƒ°":"g","ƒ£":"g","ƒ§":"H","ƒ¶":"H","ƒ•":"h","ƒß":"h","ƒ®":"I","ƒ™":"I","ƒ¨":"I","ƒÆ":"I","ƒ∞":"I","ƒ©":"i","ƒ´":"i","ƒ≠":"i","ƒØ":"i","ƒ±":"i","ƒ¥":"J","ƒµ":"j","ƒ∂":"K","ƒ∑":"k","ƒ∏":"k","ƒπ":"L","ƒª":"L","ƒΩ":"L","ƒø":"L","≈Å":"L","ƒ∫":"l","ƒº":"l","ƒæ":"l","≈Ä":"l","≈Ç":"l","≈É":"N","≈Ö":"N","≈á":"N","≈ä":"N","≈Ñ":"n","≈Ü":"n","≈à":"n","≈ã":"n","≈å":"O","≈é":"O","≈ê":"O","≈ç":"o","≈è":"o","≈ë":"o","≈î":"R","≈ñ":"R","≈ò":"R","≈ï":"r","≈ó":"r","≈ô":"r","≈ö":"S","≈ú":"S","≈û":"S","≈†":"S","≈õ":"s","≈ù":"s","≈ü":"s","≈°":"s","≈¢":"T","≈§":"T","≈¶":"T","≈£":"t","≈•":"t","≈ß":"t","≈®":"U","≈™":"U","≈¨":"U","≈Æ":"U","≈∞":"U","≈≤":"U","≈©":"u","≈´":"u","≈≠":"u","≈Ø":"u","≈±":"u","≈≥":"u","≈¥":"W","≈µ":"w","≈∂":"Y","≈∑":"y","≈∏":"Y","≈π":"Z","≈ª":"Z","≈Ω":"Z","≈∫":"z","≈º":"z","≈æ":"z","ƒ≤":"IJ","ƒ≥":"ij","≈í":"Oe","≈ì":"oe","≈â":"'n","≈ø":"s"}),He=basePropertyOf({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function escapeStringChar(t){return"\\"+Ee[t]}function hasUnicode(t){return Ae.test(t)}function mapToArray(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function overArg(t,e){return function(r){return t(e(r))}}function replaceHolders(t,e){for(var r=-1,n=t.length,o=0,i=[];++r<n;){var a=t[r];a!==e&&a!==f||(t[r]=f,i[o++]=r)}return i}function setToArray(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function setToPairs(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=[t,t]}),r}function stringSize(t){return hasUnicode(t)?function unicodeSize(t){var e=be.lastIndex=0;for(;be.test(t);)++e;return e}(t):qe(t)}function stringToArray(t){return hasUnicode(t)?function unicodeToArray(t){return t.match(be)||[]}(t):function asciiToArray(t){return t.split("")}(t)}function trimmedEndIndex(t){for(var e=t.length;e--&&Nt.test(t.charAt(e)););return e}var Qe=basePropertyOf({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ye=function runInContext(t){var e,r=(t=null==t?Se:Ye.defaults(Se.Object(),t,Ye.pick(Se,Ce))).Array,n=t.Date,Nt=t.Error,$t=t.Function,Jt=t.Math,te=t.Object,ee=t.RegExp,re=t.String,ne=t.TypeError,oe=r.prototype,ie=$t.prototype,ae=te.prototype,se=t["__core-js_shared__"],ue=ie.toString,ce=ae.hasOwnProperty,le=0,fe=(e=/[^.]+$/.exec(se&&se.keys&&se.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",he=ae.toString,pe=ue.call(te),ye=Se._,de=ee("^"+ue.call(ce).replace(Lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ge=ze?t.Buffer:o,ve=t.Symbol,be=t.Uint8Array,Ae=ge?ge.allocUnsafe:o,Ee=overArg(te.getPrototypeOf,te),Me=te.create,Le=ae.propertyIsEnumerable,Fe=oe.splice,Ne=ve?ve.isConcatSpreadable:o,Ve=ve?ve.iterator:o,ke=ve?ve.toStringTag:o,qe=function(){try{var t=getNative(te,"defineProperty");return t({},"",{}),t}catch(t){}}(),Xe=t.clearTimeout!==Se.clearTimeout&&t.clearTimeout,Ze=n&&n.now!==Se.Date.now&&n.now,$e=t.setTimeout!==Se.setTimeout&&t.setTimeout,Je=Jt.ceil,tr=Jt.floor,er=te.getOwnPropertySymbols,rr=ge?ge.isBuffer:o,nr=t.isFinite,or=oe.join,ir=overArg(te.keys,te),ar=Jt.max,sr=Jt.min,ur=n.now,cr=t.parseInt,lr=Jt.random,fr=oe.reverse,hr=getNative(t,"DataView"),pr=getNative(t,"Map"),yr=getNative(t,"Promise"),dr=getNative(t,"Set"),gr=getNative(t,"WeakMap"),vr=getNative(te,"create"),mr=gr&&new gr,_r={},br=toSource(hr),Tr=toSource(pr),Ar=toSource(yr),xr=toSource(dr),Cr=toSource(gr),Rr=ve?ve.prototype:o,Ir=Rr?Rr.valueOf:o,wr=Rr?Rr.toString:o;function lodash(t){if(isObjectLike(t)&&!Ln(t)&&!(t instanceof LazyWrapper)){if(t instanceof LodashWrapper)return t;if(ce.call(t,"__wrapped__"))return wrapperClone(t)}return new LodashWrapper(t)}var Er=function(){function object(){}return function(t){if(!isObject(t))return{};if(Me)return Me(t);object.prototype=t;var e=new object;return object.prototype=o,e}}();function baseLodash(){}function LodashWrapper(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function LazyWrapper(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function Hash(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ListCache(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function MapCache(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function SetCache(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new MapCache;++e<r;)this.add(t[e])}function Stack(t){var e=this.__data__=new ListCache(t);this.size=e.size}function arrayLikeKeys(t,e){var r=Ln(t),n=!r&&Mn(t),o=!r&&!n&&Fn(t),i=!r&&!n&&!o&&jn(t),a=r||n||o||i,s=a?baseTimes(t.length,re):[],u=s.length;for(var c in t)!e&&!ce.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||isIndex(c,u))||s.push(c);return s}function arraySample(t){var e=t.length;return e?t[baseRandom(0,e-1)]:o}function arraySampleSize(t,e){return shuffleSelf(copyArray(t),baseClamp(e,0,t.length))}function arrayShuffle(t){return shuffleSelf(copyArray(t))}function assignMergeValue(t,e,r){(r===o||eq(t[e],r))&&(r!==o||e in t)||baseAssignValue(t,e,r)}function assignValue(t,e,r){var n=t[e];ce.call(t,e)&&eq(n,r)&&(r!==o||e in t)||baseAssignValue(t,e,r)}function assocIndexOf(t,e){for(var r=t.length;r--;)if(eq(t[r][0],e))return r;return-1}function baseAggregator(t,e,r,n){return Or(t,function(t,o,i){e(n,t,r(t),i)}),n}function baseAssign(t,e){return t&&copyObject(e,keys(e),t)}function baseAssignValue(t,e,r){"__proto__"==e&&qe?qe(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function baseAt(t,e){for(var n=-1,i=e.length,a=r(i),s=null==t;++n<i;)a[n]=s?o:get(t,e[n]);return a}function baseClamp(t,e,r){return t==t&&(r!==o&&(t=t<=r?t:r),e!==o&&(t=t>=e?t:e)),t}function baseClone(t,e,r,n,i,a){var s,u=e&h,c=e&p,l=e&y;if(r&&(s=i?r(t,n,i,a):r(t)),s!==o)return s;if(!isObject(t))return t;var f=Ln(t);if(f){if(s=function initCloneArray(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&ce.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!u)return copyArray(t,s)}else{var d=Dr(t),g=d==Q||d==Y;if(Fn(t))return cloneBuffer(t,u);if(d==J||d==D||g&&!i){if(s=c||g?{}:initCloneObject(t),!u)return c?function copySymbolsIn(t,e){return copyObject(t,Ur(t),e)}(t,function baseAssignIn(t,e){return t&&copyObject(e,keysIn(e),t)}(s,t)):function copySymbols(t,e){return copyObject(t,jr(t),e)}(t,baseAssign(s,t))}else{if(!we[d])return i?t:{};s=function initCloneByTag(t,e,r){var n=t.constructor;switch(e){case ut:return cloneArrayBuffer(t);case W:case q:return new n(+t);case ct:return function cloneDataView(t,e){var r=e?cloneArrayBuffer(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case lt:case ft:case ht:case pt:case yt:case dt:case gt:case vt:case mt:return cloneTypedArray(t,r);case X:return new n;case Z:case nt:return new n(t);case et:return function cloneRegExp(t){var e=new t.constructor(t.source,Bt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case rt:return new n;case ot:return function cloneSymbol(t){return Ir?te(Ir.call(t)):{}}(t)}}(t,d,u)}}a||(a=new Stack);var v=a.get(t);if(v)return v;a.set(t,s),kn(t)?t.forEach(function(n){s.add(baseClone(n,e,r,n,t,a))}):zn(t)&&t.forEach(function(n,o){s.set(o,baseClone(n,e,r,o,t,a))});var m=f?o:(l?c?getAllKeysIn:getAllKeys:c?keysIn:keys)(t);return arrayEach(m||t,function(n,o){m&&(n=t[o=n]),assignValue(s,o,baseClone(n,e,r,o,t,a))}),s}function baseConformsTo(t,e,r){var n=r.length;if(null==t)return!n;for(t=te(t);n--;){var i=r[n],a=e[i],s=t[i];if(s===o&&!(i in t)||!a(s))return!1}return!0}function baseDelay(t,e,r){if("function"!=typeof t)throw new ne(s);return Wr(function(){t.apply(o,r)},e)}function baseDifference(t,e,r,n){var o=-1,a=arrayIncludes,s=!0,u=t.length,c=[],l=e.length;if(!u)return c;r&&(e=arrayMap(e,baseUnary(r))),n?(a=arrayIncludesWith,s=!1):e.length>=i&&(a=cacheHas,s=!1,e=new SetCache(e));t:for(;++o<u;){var f=t[o],h=null==r?f:r(f);if(f=n||0!==f?f:0,s&&h==h){for(var p=l;p--;)if(e[p]===h)continue t;c.push(f)}else a(e,h,n)||c.push(f)}return c}lodash.templateSettings={escape:It,evaluate:wt,interpolate:Et,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=Er(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=Er(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=function hashClear(){this.__data__=vr?vr(null):{},this.size=0},Hash.prototype.delete=function hashDelete(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Hash.prototype.get=function hashGet(t){var e=this.__data__;if(vr){var r=e[t];return r===c?o:r}return ce.call(e,t)?e[t]:o},Hash.prototype.has=function hashHas(t){var e=this.__data__;return vr?e[t]!==o:ce.call(e,t)},Hash.prototype.set=function hashSet(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=vr&&e===o?c:e,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(t){var e=this.__data__,r=assocIndexOf(e,t);return!(r<0||(r==e.length-1?e.pop():Fe.call(e,r,1),--this.size,0))},ListCache.prototype.get=function listCacheGet(t){var e=this.__data__,r=assocIndexOf(e,t);return r<0?o:e[r][1]},ListCache.prototype.has=function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1},ListCache.prototype.set=function listCacheSet(t,e){var r=this.__data__,n=assocIndexOf(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(pr||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(t){var e=getMapData(this,t).delete(t);return this.size-=e?1:0,e},MapCache.prototype.get=function mapCacheGet(t){return getMapData(this,t).get(t)},MapCache.prototype.has=function mapCacheHas(t){return getMapData(this,t).has(t)},MapCache.prototype.set=function mapCacheSet(t,e){var r=getMapData(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(t){return this.__data__.set(t,c),this},SetCache.prototype.has=function setCacheHas(t){return this.__data__.has(t)},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Stack.prototype.get=function stackGet(t){return this.__data__.get(t)},Stack.prototype.has=function stackHas(t){return this.__data__.has(t)},Stack.prototype.set=function stackSet(t,e){var r=this.__data__;if(r instanceof ListCache){var n=r.__data__;if(!pr||n.length<i-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new MapCache(n)}return r.set(t,e),this.size=r.size,this};var Or=createBaseEach(baseForOwn),Pr=createBaseEach(baseForOwnRight,!0);function baseEvery(t,e){var r=!0;return Or(t,function(t,n,o){return r=!!e(t,n,o)}),r}function baseExtremum(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],s=e(a);if(null!=s&&(u===o?s==s&&!isSymbol(s):r(s,u)))var u=s,c=a}return c}function baseFilter(t,e){var r=[];return Or(t,function(t,n,o){e(t,n,o)&&r.push(t)}),r}function baseFlatten(t,e,r,n,o){var i=-1,a=t.length;for(r||(r=isFlattenable),o||(o=[]);++i<a;){var s=t[i];e>0&&r(s)?e>1?baseFlatten(s,e-1,r,n,o):arrayPush(o,s):n||(o[o.length]=s)}return o}var Mr=createBaseFor(),Lr=createBaseFor(!0);function baseForOwn(t,e){return t&&Mr(t,e,keys)}function baseForOwnRight(t,e){return t&&Lr(t,e,keys)}function baseFunctions(t,e){return arrayFilter(e,function(e){return isFunction(t[e])})}function baseGet(t,e){for(var r=0,n=(e=castPath(e,t)).length;null!=t&&r<n;)t=t[toKey(e[r++])];return r&&r==n?t:o}function baseGetAllKeys(t,e,r){var n=e(t);return Ln(t)?n:arrayPush(n,r(t))}function baseGetTag(t){return null==t?t===o?it:$:ke&&ke in te(t)?function getRawTag(t){var e=ce.call(t,ke),r=t[ke];try{t[ke]=o;var n=!0}catch(t){}var i=he.call(t);return n&&(e?t[ke]=r:delete t[ke]),i}(t):function objectToString(t){return he.call(t)}(t)}function baseGt(t,e){return t>e}function baseHas(t,e){return null!=t&&ce.call(t,e)}function baseHasIn(t,e){return null!=t&&e in te(t)}function baseIntersection(t,e,n){for(var i=n?arrayIncludesWith:arrayIncludes,a=t[0].length,s=t.length,u=s,c=r(s),l=1/0,f=[];u--;){var h=t[u];u&&e&&(h=arrayMap(h,baseUnary(e))),l=sr(h.length,l),c[u]=!n&&(e||a>=120&&h.length>=120)?new SetCache(u&&h):o}h=t[0];var p=-1,y=c[0];t:for(;++p<a&&f.length<l;){var d=h[p],g=e?e(d):d;if(d=n||0!==d?d:0,!(y?cacheHas(y,g):i(f,g,n))){for(u=s;--u;){var v=c[u];if(!(v?cacheHas(v,g):i(t[u],g,n)))continue t}y&&y.push(g),f.push(d)}}return f}function baseInvoke(t,e,r){var n=null==(t=parent(t,e=castPath(e,t)))?t:t[toKey(last(e))];return null==n?o:apply(n,t,r)}function baseIsArguments(t){return isObjectLike(t)&&baseGetTag(t)==D}function baseIsEqual(t,e,r,n,i){return t===e||(null==t||null==e||!isObjectLike(t)&&!isObjectLike(e)?t!=t&&e!=e:function baseIsEqualDeep(t,e,r,n,i,a){var s=Ln(t),u=Ln(e),c=s?K:Dr(t),l=u?K:Dr(e),f=(c=c==D?J:c)==J,h=(l=l==D?J:l)==J,p=c==l;if(p&&Fn(t)){if(!Fn(e))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new Stack),s||jn(t)?equalArrays(t,e,r,n,i,a):function equalByTag(t,e,r,n,o,i,a){switch(r){case ct:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!i(new be(t),new be(e)));case W:case q:case Z:return eq(+t,+e);case H:return t.name==e.name&&t.message==e.message;case et:case nt:return t==e+"";case X:var s=mapToArray;case rt:var u=n&d;if(s||(s=setToArray),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;n|=g,a.set(t,e);var l=equalArrays(s(t),s(e),n,o,i,a);return a.delete(t),l;case ot:if(Ir)return Ir.call(t)==Ir.call(e)}return!1}(t,e,c,r,n,i,a);if(!(r&d)){var y=f&&ce.call(t,"__wrapped__"),v=h&&ce.call(e,"__wrapped__");if(y||v){var m=y?t.value():t,_=v?e.value():e;return a||(a=new Stack),i(m,_,r,n,a)}}return!!p&&(a||(a=new Stack),function equalObjects(t,e,r,n,i,a){var s=r&d,u=getAllKeys(t),c=u.length,l=getAllKeys(e).length;if(c!=l&&!s)return!1;for(var f=c;f--;){var h=u[f];if(!(s?h in e:ce.call(e,h)))return!1}var p=a.get(t),y=a.get(e);if(p&&y)return p==e&&y==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=s;++f<c;){h=u[f];var m=t[h],_=e[h];if(n)var b=s?n(_,m,h,e,t,a):n(m,_,h,t,e,a);if(!(b===o?m===_||i(m,_,r,n,a):b)){g=!1;break}v||(v="constructor"==h)}if(g&&!v){var T=t.constructor,A=e.constructor;T!=A&&"constructor"in t&&"constructor"in e&&!("function"==typeof T&&T instanceof T&&"function"==typeof A&&A instanceof A)&&(g=!1)}return a.delete(t),a.delete(e),g}(t,e,r,n,i,a))}(t,e,r,n,baseIsEqual,i))}function baseIsMatch(t,e,r,n){var i=r.length,a=i,s=!n;if(null==t)return!a;for(t=te(t);i--;){var u=r[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var c=(u=r[i])[0],l=t[c],f=u[1];if(s&&u[2]){if(l===o&&!(c in t))return!1}else{var h=new Stack;if(n)var p=n(l,f,c,t,e,h);if(!(p===o?baseIsEqual(f,l,d|g,n,h):p))return!1}}return!0}function baseIsNative(t){return!(!isObject(t)||function isMasked(t){return!!fe&&fe in t}(t))&&(isFunction(t)?de:Gt).test(toSource(t))}function baseIteratee(t){return"function"==typeof t?t:null==t?identity:"object"==typeof t?Ln(t)?baseMatchesProperty(t[0],t[1]):baseMatches(t):property(t)}function baseKeys(t){if(!isPrototype(t))return ir(t);var e=[];for(var r in te(t))ce.call(t,r)&&"constructor"!=r&&e.push(r);return e}function baseKeysIn(t){if(!isObject(t))return function nativeKeysIn(t){var e=[];if(null!=t)for(var r in te(t))e.push(r);return e}(t);var e=isPrototype(t),r=[];for(var n in t)("constructor"!=n||!e&&ce.call(t,n))&&r.push(n);return r}function baseLt(t,e){return t<e}function baseMap(t,e){var n=-1,o=isArrayLike(t)?r(t.length):[];return Or(t,function(t,r,i){o[++n]=e(t,r,i)}),o}function baseMatches(t){var e=getMatchData(t);return 1==e.length&&e[0][2]?matchesStrictComparable(e[0][0],e[0][1]):function(r){return r===t||baseIsMatch(r,t,e)}}function baseMatchesProperty(t,e){return isKey(t)&&isStrictComparable(e)?matchesStrictComparable(toKey(t),e):function(r){var n=get(r,t);return n===o&&n===e?hasIn(r,t):baseIsEqual(e,n,d|g)}}function baseMerge(t,e,r,n,i){t!==e&&Mr(e,function(a,s){if(i||(i=new Stack),isObject(a))!function baseMergeDeep(t,e,r,n,i,a,s){var u=safeGet(t,r),c=safeGet(e,r),l=s.get(c);if(l)assignMergeValue(t,r,l);else{var f=a?a(u,c,r+"",t,e,s):o,h=f===o;if(h){var p=Ln(c),y=!p&&Fn(c),d=!p&&!y&&jn(c);f=c,p||y||d?Ln(u)?f=u:isArrayLikeObject(u)?f=copyArray(u):y?(h=!1,f=cloneBuffer(c,!0)):d?(h=!1,f=cloneTypedArray(c,!0)):f=[]:isPlainObject(c)||Mn(c)?(f=u,Mn(u)?f=toPlainObject(u):isObject(u)&&!isFunction(u)||(f=initCloneObject(c))):h=!1}h&&(s.set(c,f),i(f,c,n,a,s),s.delete(c)),assignMergeValue(t,r,f)}}(t,e,s,r,baseMerge,n,i);else{var u=n?n(safeGet(t,s),a,s+"",t,e,i):o;u===o&&(u=a),assignMergeValue(t,s,u)}},keysIn)}function baseNth(t,e){var r=t.length;if(r)return isIndex(e+=e<0?r:0,r)?t[e]:o}function baseOrderBy(t,e,r){e=e.length?arrayMap(e,function(t){return Ln(t)?function(e){return baseGet(e,1===t.length?t[0]:t)}:t}):[identity];var n=-1;return e=arrayMap(e,baseUnary(getIteratee())),function baseSortBy(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(baseMap(t,function(t,r,o){return{criteria:arrayMap(e,function(e){return e(t)}),index:++n,value:t}}),function(t,e){return function compareMultiple(t,e,r){for(var n=-1,o=t.criteria,i=e.criteria,a=o.length,s=r.length;++n<a;){var u=compareAscending(o[n],i[n]);if(u){if(n>=s)return u;var c=r[n];return u*("desc"==c?-1:1)}}return t.index-e.index}(t,e,r)})}function basePickBy(t,e,r){for(var n=-1,o=e.length,i={};++n<o;){var a=e[n],s=baseGet(t,a);r(s,a)&&baseSet(i,castPath(a,t),s)}return i}function basePullAll(t,e,r,n){var o=n?baseIndexOfWith:baseIndexOf,i=-1,a=e.length,s=t;for(t===e&&(e=copyArray(e)),r&&(s=arrayMap(t,baseUnary(r)));++i<a;)for(var u=0,c=e[i],l=r?r(c):c;(u=o(s,l,u,n))>-1;)s!==t&&Fe.call(s,u,1),Fe.call(t,u,1);return t}function basePullAt(t,e){for(var r=t?e.length:0,n=r-1;r--;){var o=e[r];if(r==n||o!==i){var i=o;isIndex(o)?Fe.call(t,o,1):baseUnset(t,o)}}return t}function baseRandom(t,e){return t+tr(lr()*(e-t+1))}function baseRepeat(t,e){var r="";if(!t||e<1||e>F)return r;do{e%2&&(r+=t),(e=tr(e/2))&&(t+=t)}while(e);return r}function baseRest(t,e){return qr(overRest(t,e,identity),t+"")}function baseSample(t){return arraySample(values(t))}function baseSampleSize(t,e){var r=values(t);return shuffleSelf(r,baseClamp(e,0,r.length))}function baseSet(t,e,r,n){if(!isObject(t))return t;for(var i=-1,a=(e=castPath(e,t)).length,s=a-1,u=t;null!=u&&++i<a;){var c=toKey(e[i]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=s){var f=u[c];(l=n?n(f,c,u):o)===o&&(l=isObject(f)?f:isIndex(e[i+1])?[]:{})}assignValue(u,c,l),u=u[c]}return t}var Sr=mr?function(t,e){return mr.set(t,e),t}:identity,Fr=qe?function(t,e){return qe(t,"toString",{configurable:!0,enumerable:!1,value:constant(e),writable:!0})}:identity;function baseShuffle(t){return shuffleSelf(values(t))}function baseSlice(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=r(i);++o<i;)a[o]=t[o+e];return a}function baseSome(t,e){var r;return Or(t,function(t,n,o){return!(r=e(t,n,o))}),!!r}function baseSortedIndex(t,e,r){var n=0,o=null==t?n:t.length;if("number"==typeof e&&e==e&&o<=j){for(;n<o;){var i=n+o>>>1,a=t[i];null!==a&&!isSymbol(a)&&(r?a<=e:a<e)?n=i+1:o=i}return o}return baseSortedIndexBy(t,e,identity,r)}function baseSortedIndexBy(t,e,r,n){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=r(e))!=e,u=null===e,c=isSymbol(e),l=e===o;i<a;){var f=tr((i+a)/2),h=r(t[f]),p=h!==o,y=null===h,d=h==h,g=isSymbol(h);if(s)var v=n||d;else v=l?d&&(n||p):u?d&&p&&(n||!y):c?d&&p&&!y&&(n||!g):!y&&!g&&(n?h<=e:h<e);v?i=f+1:a=f}return sr(a,k)}function baseSortedUniq(t,e){for(var r=-1,n=t.length,o=0,i=[];++r<n;){var a=t[r],s=e?e(a):a;if(!r||!eq(s,u)){var u=s;i[o++]=0===a?0:a}}return i}function baseToNumber(t){return"number"==typeof t?t:isSymbol(t)?z:+t}function baseToString(t){if("string"==typeof t)return t;if(Ln(t))return arrayMap(t,baseToString)+"";if(isSymbol(t))return wr?wr.call(t):"";var e=t+"";return"0"==e&&1/t==-S?"-0":e}function baseUniq(t,e,r){var n=-1,o=arrayIncludes,a=t.length,s=!0,u=[],c=u;if(r)s=!1,o=arrayIncludesWith;else if(a>=i){var l=e?null:Vr(t);if(l)return setToArray(l);s=!1,o=cacheHas,c=new SetCache}else c=e?[]:u;t:for(;++n<a;){var f=t[n],h=e?e(f):f;if(f=r||0!==f?f:0,s&&h==h){for(var p=c.length;p--;)if(c[p]===h)continue t;e&&c.push(h),u.push(f)}else o(c,h,r)||(c!==u&&c.push(h),u.push(f))}return u}function baseUnset(t,e){return null==(t=parent(t,e=castPath(e,t)))||delete t[toKey(last(e))]}function baseUpdate(t,e,r,n){return baseSet(t,e,r(baseGet(t,e)),n)}function baseWhile(t,e,r,n){for(var o=t.length,i=n?o:-1;(n?i--:++i<o)&&e(t[i],i,t););return r?baseSlice(t,n?0:i,n?i+1:o):baseSlice(t,n?i+1:0,n?o:i)}function baseWrapperValue(t,e){var r=t;return r instanceof LazyWrapper&&(r=r.value()),arrayReduce(e,function(t,e){return e.func.apply(e.thisArg,arrayPush([t],e.args))},r)}function baseXor(t,e,n){var o=t.length;if(o<2)return o?baseUniq(t[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=t[i],u=-1;++u<o;)u!=i&&(a[i]=baseDifference(a[i]||s,t[u],e,n));return baseUniq(baseFlatten(a,1),e,n)}function baseZipObject(t,e,r){for(var n=-1,i=t.length,a=e.length,s={};++n<i;){var u=n<a?e[n]:o;r(s,t[n],u)}return s}function castArrayLikeObject(t){return isArrayLikeObject(t)?t:[]}function castFunction(t){return"function"==typeof t?t:identity}function castPath(t,e){return Ln(t)?t:isKey(t,e)?[t]:Gr(toString(t))}var Nr=baseRest;function castSlice(t,e,r){var n=t.length;return r=r===o?n:r,!e&&r>=n?t:baseSlice(t,e,r)}var zr=Xe||function(t){return Se.clearTimeout(t)};function cloneBuffer(t,e){if(e)return t.slice();var r=t.length,n=Ae?Ae(r):new t.constructor(r);return t.copy(n),n}function cloneArrayBuffer(t){var e=new t.constructor(t.byteLength);return new be(e).set(new be(t)),e}function cloneTypedArray(t,e){var r=e?cloneArrayBuffer(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function compareAscending(t,e){if(t!==e){var r=t!==o,n=null===t,i=t==t,a=isSymbol(t),s=e!==o,u=null===e,c=e==e,l=isSymbol(e);if(!u&&!l&&!a&&t>e||a&&s&&c&&!u&&!l||n&&s&&c||!r&&c||!i)return 1;if(!n&&!a&&!l&&t<e||l&&r&&i&&!n&&!a||u&&r&&i||!s&&i||!c)return-1}return 0}function composeArgs(t,e,n,o){for(var i=-1,a=t.length,s=n.length,u=-1,c=e.length,l=ar(a-s,0),f=r(c+l),h=!o;++u<c;)f[u]=e[u];for(;++i<s;)(h||i<a)&&(f[n[i]]=t[i]);for(;l--;)f[u++]=t[i++];return f}function composeArgsRight(t,e,n,o){for(var i=-1,a=t.length,s=-1,u=n.length,c=-1,l=e.length,f=ar(a-u,0),h=r(f+l),p=!o;++i<f;)h[i]=t[i];for(var y=i;++c<l;)h[y+c]=e[c];for(;++s<u;)(p||i<a)&&(h[y+n[s]]=t[i++]);return h}function copyArray(t,e){var n=-1,o=t.length;for(e||(e=r(o));++n<o;)e[n]=t[n];return e}function copyObject(t,e,r,n){var i=!r;r||(r={});for(var a=-1,s=e.length;++a<s;){var u=e[a],c=n?n(r[u],t[u],u,r,t):o;c===o&&(c=t[u]),i?baseAssignValue(r,u,c):assignValue(r,u,c)}return r}function createAggregator(t,e){return function(r,n){var o=Ln(r)?arrayAggregator:baseAggregator,i=e?e():{};return o(r,t,getIteratee(n,2),i)}}function createAssigner(t){return baseRest(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:o,s=i>2?r[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,s&&isIterateeCall(r[0],r[1],s)&&(a=i<3?o:a,i=1),e=te(e);++n<i;){var u=r[n];u&&t(e,u,n,a)}return e})}function createBaseEach(t,e){return function(r,n){if(null==r)return r;if(!isArrayLike(r))return t(r,n);for(var o=r.length,i=e?o:-1,a=te(r);(e?i--:++i<o)&&!1!==n(a[i],i,a););return r}}function createBaseFor(t){return function(e,r,n){for(var o=-1,i=te(e),a=n(e),s=a.length;s--;){var u=a[t?s:++o];if(!1===r(i[u],u,i))break}return e}}function createCaseFirst(t){return function(e){var r=hasUnicode(e=toString(e))?stringToArray(e):o,n=r?r[0]:e.charAt(0),i=r?castSlice(r,1).join(""):e.slice(1);return n[t]()+i}}function createCompounder(t){return function(e){return arrayReduce(words(deburr(e).replace(me,"")),t,"")}}function createCtor(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=Er(t.prototype),n=t.apply(r,e);return isObject(n)?n:r}}function createFind(t){return function(e,r,n){var i=te(e);if(!isArrayLike(e)){var a=getIteratee(r,3);e=keys(e),r=function(t){return a(i[t],t,i)}}var s=t(e,r,n);return s>-1?i[a?e[s]:s]:o}}function createFlow(t){return flatRest(function(e){var r=e.length,n=r,i=LodashWrapper.prototype.thru;for(t&&e.reverse();n--;){var a=e[n];if("function"!=typeof a)throw new ne(s);if(i&&!u&&"wrapper"==getFuncName(a))var u=new LodashWrapper([],!0)}for(n=u?n:r;++n<r;){var c=getFuncName(a=e[n]),l="wrapper"==c?kr(a):o;u=l&&isLaziable(l[0])&&l[1]==(C|b|A|R)&&!l[4].length&&1==l[9]?u[getFuncName(l[0])].apply(u,l[3]):1==a.length&&isLaziable(a)?u[c]():u.thru(a)}return function(){var t=arguments,n=t[0];if(u&&1==t.length&&Ln(n))return u.plant(n).value();for(var o=0,i=r?e[o].apply(this,t):n;++o<r;)i=e[o].call(this,i);return i}})}function createHybrid(t,e,n,i,a,s,u,c,l,f){var h=e&C,p=e&v,y=e&m,d=e&(b|T),g=e&I,_=y?o:createCtor(t);return function wrapper(){for(var v=arguments.length,m=r(v),b=v;b--;)m[b]=arguments[b];if(d)var T=getHolder(wrapper),A=function countHolders(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}(m,T);if(i&&(m=composeArgs(m,i,a,d)),s&&(m=composeArgsRight(m,s,u,d)),v-=A,d&&v<f){var x=replaceHolders(m,T);return createRecurry(t,e,createHybrid,wrapper.placeholder,n,m,x,c,l,f-v)}var C=p?n:this,R=y?C[t]:t;return v=m.length,c?m=function reorder(t,e){for(var r=t.length,n=sr(e.length,r),i=copyArray(t);n--;){var a=e[n];t[n]=isIndex(a,r)?i[a]:o}return t}(m,c):g&&v>1&&m.reverse(),h&&l<v&&(m.length=l),this&&this!==Se&&this instanceof wrapper&&(R=_||createCtor(R)),R.apply(C,m)}}function createInverter(t,e){return function(r,n){return function baseInverter(t,e,r,n){return baseForOwn(t,function(t,o,i){e(n,r(t),o,i)}),n}(r,t,e(n),{})}}function createMathOperation(t,e){return function(r,n){var i;if(r===o&&n===o)return e;if(r!==o&&(i=r),n!==o){if(i===o)return n;"string"==typeof r||"string"==typeof n?(r=baseToString(r),n=baseToString(n)):(r=baseToNumber(r),n=baseToNumber(n)),i=t(r,n)}return i}}function createOver(t){return flatRest(function(e){return e=arrayMap(e,baseUnary(getIteratee())),baseRest(function(r){var n=this;return t(e,function(t){return apply(t,n,r)})})})}function createPadding(t,e){var r=(e=e===o?" ":baseToString(e)).length;if(r<2)return r?baseRepeat(e,t):e;var n=baseRepeat(e,Je(t/stringSize(e)));return hasUnicode(e)?castSlice(stringToArray(n),0,t).join(""):n.slice(0,t)}function createRange(t){return function(e,n,i){return i&&"number"!=typeof i&&isIterateeCall(e,n,i)&&(n=i=o),e=toFinite(e),n===o?(n=e,e=0):n=toFinite(n),function baseRange(t,e,n,o){for(var i=-1,a=ar(Je((e-t)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=t,t+=n;return s}(e,n,i=i===o?e<n?1:-1:toFinite(i),t)}}function createRelationalOperation(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=toNumber(e),r=toNumber(r)),t(e,r)}}function createRecurry(t,e,r,n,i,a,s,u,c,l){var f=e&b;e|=f?A:x,(e&=~(f?x:A))&_||(e&=~(v|m));var h=[t,e,i,f?a:o,f?s:o,f?o:a,f?o:s,u,c,l],p=r.apply(o,h);return isLaziable(t)&&Br(p,h),p.placeholder=n,setWrapToString(p,t,e)}function createRound(t){var e=Jt[t];return function(t,r){if(t=toNumber(t),(r=null==r?0:sr(toInteger(r),292))&&nr(t)){var n=(toString(t)+"e").split("e");return+((n=(toString(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var Vr=dr&&1/setToArray(new dr([,-0]))[1]==S?function(t){return new dr(t)}:noop;function createToPairs(t){return function(e){var r=Dr(e);return r==X?mapToArray(e):r==rt?setToPairs(e):function baseToPairs(t,e){return arrayMap(e,function(e){return[e,t[e]]})}(e,t(e))}}function createWrap(t,e,n,i,a,u,c,l){var h=e&m;if(!h&&"function"!=typeof t)throw new ne(s);var p=i?i.length:0;if(p||(e&=~(A|x),i=a=o),c=c===o?c:ar(toInteger(c),0),l=l===o?l:toInteger(l),p-=a?a.length:0,e&x){var y=i,d=a;i=a=o}var g=h?o:kr(t),I=[t,e,n,i,a,y,d,u,c,l];if(g&&function mergeData(t,e){var r=t[1],n=e[1],o=r|n,i=o<(v|m|C),a=n==C&&r==b||n==C&&r==R&&t[7].length<=e[8]||n==(C|R)&&e[7].length<=e[8]&&r==b;if(!i&&!a)return t;n&v&&(t[2]=e[2],o|=r&v?0:_);var s=e[3];if(s){var u=t[3];t[3]=u?composeArgs(u,s,e[4]):s,t[4]=u?replaceHolders(t[3],f):e[4]}return(s=e[5])&&(u=t[5],t[5]=u?composeArgsRight(u,s,e[6]):s,t[6]=u?replaceHolders(t[5],f):e[6]),(s=e[7])&&(t[7]=s),n&C&&(t[8]=null==t[8]?e[8]:sr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t}(I,g),t=I[0],e=I[1],n=I[2],i=I[3],a=I[4],!(l=I[9]=I[9]===o?h?0:t.length:ar(I[9]-p,0))&&e&(b|T)&&(e&=~(b|T)),e&&e!=v)w=e==b||e==T?function createCurry(t,e,n){var i=createCtor(t);return function wrapper(){for(var a=arguments.length,s=r(a),u=a,c=getHolder(wrapper);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:replaceHolders(s,c);return(a-=l.length)<n?createRecurry(t,e,createHybrid,wrapper.placeholder,o,s,l,o,o,n-a):apply(this&&this!==Se&&this instanceof wrapper?i:t,this,s)}}(t,e,l):e!=A&&e!=(v|A)||a.length?createHybrid.apply(o,I):function createPartial(t,e,n,o){var i=e&v,a=createCtor(t);return function wrapper(){for(var e=-1,s=arguments.length,u=-1,c=o.length,l=r(c+s),f=this&&this!==Se&&this instanceof wrapper?a:t;++u<c;)l[u]=o[u];for(;s--;)l[u++]=arguments[++e];return apply(f,i?n:this,l)}}(t,e,n,i);else var w=function createBind(t,e,r){var n=e&v,o=createCtor(t);return function wrapper(){return(this&&this!==Se&&this instanceof wrapper?o:t).apply(n?r:this,arguments)}}(t,e,n);return setWrapToString((g?Sr:Br)(w,I),t,e)}function customDefaultsAssignIn(t,e,r,n){return t===o||eq(t,ae[r])&&!ce.call(n,r)?e:t}function customDefaultsMerge(t,e,r,n,i,a){return isObject(t)&&isObject(e)&&(a.set(e,t),baseMerge(t,e,o,customDefaultsMerge,a),a.delete(e)),t}function customOmitClone(t){return isPlainObject(t)?o:t}function equalArrays(t,e,r,n,i,a){var s=r&d,u=t.length,c=e.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(t),f=a.get(e);if(l&&f)return l==e&&f==t;var h=-1,p=!0,y=r&g?new SetCache:o;for(a.set(t,e),a.set(e,t);++h<u;){var v=t[h],m=e[h];if(n)var _=s?n(m,v,h,e,t,a):n(v,m,h,t,e,a);if(_!==o){if(_)continue;p=!1;break}if(y){if(!arraySome(e,function(t,e){if(!cacheHas(y,e)&&(v===t||i(v,t,r,n,a)))return y.push(e)})){p=!1;break}}else if(v!==m&&!i(v,m,r,n,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function flatRest(t){return qr(overRest(t,o,flatten),t+"")}function getAllKeys(t){return baseGetAllKeys(t,keys,jr)}function getAllKeysIn(t){return baseGetAllKeys(t,keysIn,Ur)}var kr=mr?function(t){return mr.get(t)}:noop;function getFuncName(t){for(var e=t.name+"",r=_r[e],n=ce.call(_r,e)?r.length:0;n--;){var o=r[n],i=o.func;if(null==i||i==t)return o.name}return e}function getHolder(t){return(ce.call(lodash,"placeholder")?lodash:t).placeholder}function getIteratee(){var t=lodash.iteratee||iteratee;return t=t===iteratee?baseIteratee:t,arguments.length?t(arguments[0],arguments[1]):t}function getMapData(t,e){var r=t.__data__;return function isKeyable(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function getMatchData(t){for(var e=keys(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,isStrictComparable(o)]}return e}function getNative(t,e){var r=function getValue(t,e){return null==t?o:t[e]}(t,e);return baseIsNative(r)?r:o}var jr=er?function(t){return null==t?[]:(t=te(t),arrayFilter(er(t),function(e){return Le.call(t,e)}))}:stubArray,Ur=er?function(t){for(var e=[];t;)arrayPush(e,jr(t)),t=Ee(t);return e}:stubArray,Dr=baseGetTag;function hasPath(t,e,r){for(var n=-1,o=(e=castPath(e,t)).length,i=!1;++n<o;){var a=toKey(e[n]);if(!(i=null!=t&&r(t,a)))break;t=t[a]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&isLength(o)&&isIndex(a,o)&&(Ln(t)||Mn(t))}function initCloneObject(t){return"function"!=typeof t.constructor||isPrototype(t)?{}:Er(Ee(t))}function isFlattenable(t){return Ln(t)||Mn(t)||!!(Ne&&t&&t[Ne])}function isIndex(t,e){var r=typeof t;return!!(e=null==e?F:e)&&("number"==r||"symbol"!=r&&Qt.test(t))&&t>-1&&t%1==0&&t<e}function isIterateeCall(t,e,r){if(!isObject(r))return!1;var n=typeof e;return!!("number"==n?isArrayLike(r)&&isIndex(e,r.length):"string"==n&&e in r)&&eq(r[e],t)}function isKey(t,e){if(Ln(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!isSymbol(t))||Pt.test(t)||!Ot.test(t)||null!=e&&t in te(e)}function isLaziable(t){var e=getFuncName(t),r=lodash[e];if("function"!=typeof r||!(e in LazyWrapper.prototype))return!1;if(t===r)return!0;var n=kr(r);return!!n&&t===n[0]}(hr&&Dr(new hr(new ArrayBuffer(1)))!=ct||pr&&Dr(new pr)!=X||yr&&"[object Promise]"!=Dr(yr.resolve())||dr&&Dr(new dr)!=rt||gr&&Dr(new gr)!=at)&&(Dr=function(t){var e=baseGetTag(t),r=e==J?t.constructor:o,n=r?toSource(r):"";if(n)switch(n){case br:return ct;case Tr:return X;case Ar:return"[object Promise]";case xr:return rt;case Cr:return at}return e});var Kr=se?isFunction:stubFalse;function isPrototype(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ae)}function isStrictComparable(t){return t==t&&!isObject(t)}function matchesStrictComparable(t,e){return function(r){return null!=r&&r[t]===e&&(e!==o||t in te(r))}}function overRest(t,e,n){return e=ar(e===o?t.length-1:e,0),function(){for(var o=arguments,i=-1,a=ar(o.length-e,0),s=r(a);++i<a;)s[i]=o[e+i];i=-1;for(var u=r(e+1);++i<e;)u[i]=o[i];return u[e]=n(s),apply(t,this,u)}}function parent(t,e){return e.length<2?t:baseGet(t,baseSlice(e,0,-1))}function safeGet(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Br=shortOut(Sr),Wr=$e||function(t,e){return Se.setTimeout(t,e)},qr=shortOut(Fr);function setWrapToString(t,e,r){var n=e+"";return qr(t,function insertWrapDetails(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(zt,"{\n/* [wrapped with "+e+"] */\n")}(n,function updateWrapDetails(t,e){return arrayEach(U,function(r){var n="_."+r[0];e&r[1]&&!arrayIncludes(t,n)&&t.push(n)}),t.sort()}(function getWrapDetails(t){var e=t.match(Vt);return e?e[1].split(kt):[]}(n),r)))}function shortOut(t){var e=0,r=0;return function(){var n=ur(),i=P-(n-r);if(r=n,i>0){if(++e>=O)return arguments[0]}else e=0;return t.apply(o,arguments)}}function shuffleSelf(t,e){var r=-1,n=t.length,i=n-1;for(e=e===o?n:e;++r<e;){var a=baseRandom(r,i),s=t[a];t[a]=t[r],t[r]=s}return t.length=e,t}var Gr=function memoizeCapped(t){var e=memoize(t,function(t){return r.size===l&&r.clear(),t}),r=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Mt,function(t,r,n,o){e.push(n?o.replace(Dt,"$1"):r||t)}),e});function toKey(t){if("string"==typeof t||isSymbol(t))return t;var e=t+"";return"0"==e&&1/t==-S?"-0":e}function toSource(t){if(null!=t){try{return ue.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function wrapperClone(t){if(t instanceof LazyWrapper)return t.clone();var e=new LodashWrapper(t.__wrapped__,t.__chain__);return e.__actions__=copyArray(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Hr=baseRest(function(t,e){return isArrayLikeObject(t)?baseDifference(t,baseFlatten(e,1,isArrayLikeObject,!0)):[]}),Qr=baseRest(function(t,e){var r=last(e);return isArrayLikeObject(r)&&(r=o),isArrayLikeObject(t)?baseDifference(t,baseFlatten(e,1,isArrayLikeObject,!0),getIteratee(r,2)):[]}),Yr=baseRest(function(t,e){var r=last(e);return isArrayLikeObject(r)&&(r=o),isArrayLikeObject(t)?baseDifference(t,baseFlatten(e,1,isArrayLikeObject,!0),o,r):[]});function findIndex(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=null==r?0:toInteger(r);return o<0&&(o=ar(n+o,0)),baseFindIndex(t,getIteratee(e,3),o)}function findLastIndex(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n-1;return r!==o&&(i=toInteger(r),i=r<0?ar(n+i,0):sr(i,n-1)),baseFindIndex(t,getIteratee(e,3),i,!0)}function flatten(t){return null!=t&&t.length?baseFlatten(t,1):[]}function head(t){return t&&t.length?t[0]:o}var Xr=baseRest(function(t){var e=arrayMap(t,castArrayLikeObject);return e.length&&e[0]===t[0]?baseIntersection(e):[]}),Zr=baseRest(function(t){var e=last(t),r=arrayMap(t,castArrayLikeObject);return e===last(r)?e=o:r.pop(),r.length&&r[0]===t[0]?baseIntersection(r,getIteratee(e,2)):[]}),$r=baseRest(function(t){var e=last(t),r=arrayMap(t,castArrayLikeObject);return(e="function"==typeof e?e:o)&&r.pop(),r.length&&r[0]===t[0]?baseIntersection(r,o,e):[]});function last(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Jr=baseRest(pullAll);function pullAll(t,e){return t&&t.length&&e&&e.length?basePullAll(t,e):t}var tn=flatRest(function(t,e){var r=null==t?0:t.length,n=baseAt(t,e);return basePullAt(t,arrayMap(e,function(t){return isIndex(t,r)?+t:t}).sort(compareAscending)),n});function reverse(t){return null==t?t:fr.call(t)}var en=baseRest(function(t){return baseUniq(baseFlatten(t,1,isArrayLikeObject,!0))}),rn=baseRest(function(t){var e=last(t);return isArrayLikeObject(e)&&(e=o),baseUniq(baseFlatten(t,1,isArrayLikeObject,!0),getIteratee(e,2))}),nn=baseRest(function(t){var e=last(t);return e="function"==typeof e?e:o,baseUniq(baseFlatten(t,1,isArrayLikeObject,!0),o,e)});function unzip(t){if(!t||!t.length)return[];var e=0;return t=arrayFilter(t,function(t){if(isArrayLikeObject(t))return e=ar(t.length,e),!0}),baseTimes(e,function(e){return arrayMap(t,baseProperty(e))})}function unzipWith(t,e){if(!t||!t.length)return[];var r=unzip(t);return null==e?r:arrayMap(r,function(t){return apply(e,o,t)})}var on=baseRest(function(t,e){return isArrayLikeObject(t)?baseDifference(t,e):[]}),an=baseRest(function(t){return baseXor(arrayFilter(t,isArrayLikeObject))}),sn=baseRest(function(t){var e=last(t);return isArrayLikeObject(e)&&(e=o),baseXor(arrayFilter(t,isArrayLikeObject),getIteratee(e,2))}),un=baseRest(function(t){var e=last(t);return e="function"==typeof e?e:o,baseXor(arrayFilter(t,isArrayLikeObject),o,e)}),cn=baseRest(unzip);var ln=baseRest(function(t){var e=t.length,r=e>1?t[e-1]:o;return r="function"==typeof r?(t.pop(),r):o,unzipWith(t,r)});function chain(t){var e=lodash(t);return e.__chain__=!0,e}function thru(t,e){return e(t)}var fn=flatRest(function(t){var e=t.length,r=e?t[0]:0,n=this.__wrapped__,i=function(e){return baseAt(e,t)};return!(e>1||this.__actions__.length)&&n instanceof LazyWrapper&&isIndex(r)?((n=n.slice(r,+r+(e?1:0))).__actions__.push({func:thru,args:[i],thisArg:o}),new LodashWrapper(n,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(i)});var hn=createAggregator(function(t,e,r){ce.call(t,r)?++t[r]:baseAssignValue(t,r,1)});var pn=createFind(findIndex),yn=createFind(findLastIndex);function forEach(t,e){return(Ln(t)?arrayEach:Or)(t,getIteratee(e,3))}function forEachRight(t,e){return(Ln(t)?arrayEachRight:Pr)(t,getIteratee(e,3))}var dn=createAggregator(function(t,e,r){ce.call(t,r)?t[r].push(e):baseAssignValue(t,r,[e])});var gn=baseRest(function(t,e,n){var o=-1,i="function"==typeof e,a=isArrayLike(t)?r(t.length):[];return Or(t,function(t){a[++o]=i?apply(e,t,n):baseInvoke(t,e,n)}),a}),vn=createAggregator(function(t,e,r){baseAssignValue(t,r,e)});function map(t,e){return(Ln(t)?arrayMap:baseMap)(t,getIteratee(e,3))}var mn=createAggregator(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]});var _n=baseRest(function(t,e){if(null==t)return[];var r=e.length;return r>1&&isIterateeCall(t,e[0],e[1])?e=[]:r>2&&isIterateeCall(e[0],e[1],e[2])&&(e=[e[0]]),baseOrderBy(t,baseFlatten(e,1),[])}),bn=Ze||function(){return Se.Date.now()};function ary(t,e,r){return e=r?o:e,e=t&&null==e?t.length:e,createWrap(t,C,o,o,o,o,e)}function before(t,e){var r;if("function"!=typeof e)throw new ne(s);return t=toInteger(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=o),r}}var Tn=baseRest(function(t,e,r){var n=v;if(r.length){var o=replaceHolders(r,getHolder(Tn));n|=A}return createWrap(t,n,e,r,o)}),An=baseRest(function(t,e,r){var n=v|m;if(r.length){var o=replaceHolders(r,getHolder(An));n|=A}return createWrap(e,n,t,r,o)});function debounce(t,e,r){var n,i,a,u,c,l,f=0,h=!1,p=!1,y=!0;if("function"!=typeof t)throw new ne(s);function invokeFunc(e){var r=n,a=i;return n=i=o,f=e,u=t.apply(a,r)}function shouldInvoke(t){var r=t-l;return l===o||r>=e||r<0||p&&t-f>=a}function timerExpired(){var t=bn();if(shouldInvoke(t))return trailingEdge(t);c=Wr(timerExpired,function remainingWait(t){var r=e-(t-l);return p?sr(r,a-(t-f)):r}(t))}function trailingEdge(t){return c=o,y&&n?invokeFunc(t):(n=i=o,u)}function debounced(){var t=bn(),r=shouldInvoke(t);if(n=arguments,i=this,l=t,r){if(c===o)return function leadingEdge(t){return f=t,c=Wr(timerExpired,e),h?invokeFunc(t):u}(l);if(p)return zr(c),c=Wr(timerExpired,e),invokeFunc(l)}return c===o&&(c=Wr(timerExpired,e)),u}return e=toNumber(e)||0,isObject(r)&&(h=!!r.leading,a=(p="maxWait"in r)?ar(toNumber(r.maxWait)||0,e):a,y="trailing"in r?!!r.trailing:y),debounced.cancel=function cancel(){c!==o&&zr(c),f=0,n=l=i=c=o},debounced.flush=function flush(){return c===o?u:trailingEdge(bn())},debounced}var xn=baseRest(function(t,e){return baseDelay(t,1,e)}),Cn=baseRest(function(t,e,r){return baseDelay(t,toNumber(e)||0,r)});function memoize(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ne(s);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(memoize.Cache||MapCache),r}function negate(t){if("function"!=typeof t)throw new ne(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}memoize.Cache=MapCache;var Rn=Nr(function(t,e){var r=(e=1==e.length&&Ln(e[0])?arrayMap(e[0],baseUnary(getIteratee())):arrayMap(baseFlatten(e,1),baseUnary(getIteratee()))).length;return baseRest(function(n){for(var o=-1,i=sr(n.length,r);++o<i;)n[o]=e[o].call(this,n[o]);return apply(t,this,n)})}),In=baseRest(function(t,e){var r=replaceHolders(e,getHolder(In));return createWrap(t,A,o,e,r)}),wn=baseRest(function(t,e){var r=replaceHolders(e,getHolder(wn));return createWrap(t,x,o,e,r)}),En=flatRest(function(t,e){return createWrap(t,R,o,o,o,e)});function eq(t,e){return t===e||t!=t&&e!=e}var On=createRelationalOperation(baseGt),Pn=createRelationalOperation(function(t,e){return t>=e}),Mn=baseIsArguments(function(){return arguments}())?baseIsArguments:function(t){return isObjectLike(t)&&ce.call(t,"callee")&&!Le.call(t,"callee")},Ln=r.isArray,Sn=je?baseUnary(je):function baseIsArrayBuffer(t){return isObjectLike(t)&&baseGetTag(t)==ut};function isArrayLike(t){return null!=t&&isLength(t.length)&&!isFunction(t)}function isArrayLikeObject(t){return isObjectLike(t)&&isArrayLike(t)}var Fn=rr||stubFalse,Nn=Ue?baseUnary(Ue):function baseIsDate(t){return isObjectLike(t)&&baseGetTag(t)==q};function isError(t){if(!isObjectLike(t))return!1;var e=baseGetTag(t);return e==H||e==G||"string"==typeof t.message&&"string"==typeof t.name&&!isPlainObject(t)}function isFunction(t){if(!isObject(t))return!1;var e=baseGetTag(t);return e==Q||e==Y||e==B||e==tt}function isInteger(t){return"number"==typeof t&&t==toInteger(t)}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=F}function isObject(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function isObjectLike(t){return null!=t&&"object"==typeof t}var zn=De?baseUnary(De):function baseIsMap(t){return isObjectLike(t)&&Dr(t)==X};function isNumber(t){return"number"==typeof t||isObjectLike(t)&&baseGetTag(t)==Z}function isPlainObject(t){if(!isObjectLike(t)||baseGetTag(t)!=J)return!1;var e=Ee(t);if(null===e)return!0;var r=ce.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&ue.call(r)==pe}var Vn=Ke?baseUnary(Ke):function baseIsRegExp(t){return isObjectLike(t)&&baseGetTag(t)==et};var kn=Be?baseUnary(Be):function baseIsSet(t){return isObjectLike(t)&&Dr(t)==rt};function isString(t){return"string"==typeof t||!Ln(t)&&isObjectLike(t)&&baseGetTag(t)==nt}function isSymbol(t){return"symbol"==typeof t||isObjectLike(t)&&baseGetTag(t)==ot}var jn=We?baseUnary(We):function baseIsTypedArray(t){return isObjectLike(t)&&isLength(t.length)&&!!Ie[baseGetTag(t)]};var Un=createRelationalOperation(baseLt),Dn=createRelationalOperation(function(t,e){return t<=e});function toArray(t){if(!t)return[];if(isArrayLike(t))return isString(t)?stringToArray(t):copyArray(t);if(Ve&&t[Ve])return function iteratorToArray(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[Ve]());var e=Dr(t);return(e==X?mapToArray:e==rt?setToArray:values)(t)}function toFinite(t){return t?(t=toNumber(t))===S||t===-S?(t<0?-1:1)*N:t==t?t:0:0===t?t:0}function toInteger(t){var e=toFinite(t),r=e%1;return e==e?r?e-r:e:0}function toLength(t){return t?baseClamp(toInteger(t),0,V):0}function toNumber(t){if("number"==typeof t)return t;if(isSymbol(t))return z;if(isObject(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=isObject(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=baseTrim(t);var r=qt.test(t);return r||Ht.test(t)?Pe(t.slice(2),r?2:8):Wt.test(t)?z:+t}function toPlainObject(t){return copyObject(t,keysIn(t))}function toString(t){return null==t?"":baseToString(t)}var Kn=createAssigner(function(t,e){if(isPrototype(e)||isArrayLike(e))copyObject(e,keys(e),t);else for(var r in e)ce.call(e,r)&&assignValue(t,r,e[r])}),Bn=createAssigner(function(t,e){copyObject(e,keysIn(e),t)}),Wn=createAssigner(function(t,e,r,n){copyObject(e,keysIn(e),t,n)}),qn=createAssigner(function(t,e,r,n){copyObject(e,keys(e),t,n)}),Gn=flatRest(baseAt);var Hn=baseRest(function(t,e){t=te(t);var r=-1,n=e.length,i=n>2?e[2]:o;for(i&&isIterateeCall(e[0],e[1],i)&&(n=1);++r<n;)for(var a=e[r],s=keysIn(a),u=-1,c=s.length;++u<c;){var l=s[u],f=t[l];(f===o||eq(f,ae[l])&&!ce.call(t,l))&&(t[l]=a[l])}return t}),Qn=baseRest(function(t){return t.push(o,customDefaultsMerge),apply(Jn,o,t)});function get(t,e,r){var n=null==t?o:baseGet(t,e);return n===o?r:n}function hasIn(t,e){return null!=t&&hasPath(t,e,baseHasIn)}var Yn=createInverter(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=he.call(e)),t[e]=r},constant(identity)),Xn=createInverter(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=he.call(e)),ce.call(t,e)?t[e].push(r):t[e]=[r]},getIteratee),Zn=baseRest(baseInvoke);function keys(t){return isArrayLike(t)?arrayLikeKeys(t):baseKeys(t)}function keysIn(t){return isArrayLike(t)?arrayLikeKeys(t,!0):baseKeysIn(t)}var $n=createAssigner(function(t,e,r){baseMerge(t,e,r)}),Jn=createAssigner(function(t,e,r,n){baseMerge(t,e,r,n)}),to=flatRest(function(t,e){var r={};if(null==t)return r;var n=!1;e=arrayMap(e,function(e){return e=castPath(e,t),n||(n=e.length>1),e}),copyObject(t,getAllKeysIn(t),r),n&&(r=baseClone(r,h|p|y,customOmitClone));for(var o=e.length;o--;)baseUnset(r,e[o]);return r});var eo=flatRest(function(t,e){return null==t?{}:function basePick(t,e){return basePickBy(t,e,function(e,r){return hasIn(t,r)})}(t,e)});function pickBy(t,e){if(null==t)return{};var r=arrayMap(getAllKeysIn(t),function(t){return[t]});return e=getIteratee(e),basePickBy(t,r,function(t,r){return e(t,r[0])})}var ro=createToPairs(keys),no=createToPairs(keysIn);function values(t){return null==t?[]:baseValues(t,keys(t))}var oo=createCompounder(function(t,e,r){return e=e.toLowerCase(),t+(r?capitalize(e):e)});function capitalize(t){return fo(toString(t).toLowerCase())}function deburr(t){return(t=toString(t))&&t.replace(Yt,Ge).replace(_e,"")}var io=createCompounder(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),ao=createCompounder(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),so=createCaseFirst("toLowerCase");var uo=createCompounder(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()});var co=createCompounder(function(t,e,r){return t+(r?" ":"")+fo(e)});var lo=createCompounder(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),fo=createCaseFirst("toUpperCase");function words(t,e,r){return t=toString(t),(e=r?o:e)===o?function hasUnicodeWord(t){return xe.test(t)}(t)?function unicodeWords(t){return t.match(Te)||[]}(t):function asciiWords(t){return t.match(jt)||[]}(t):t.match(e)||[]}var ho=baseRest(function(t,e){try{return apply(t,o,e)}catch(t){return isError(t)?t:new Nt(t)}}),po=flatRest(function(t,e){return arrayEach(e,function(e){e=toKey(e),baseAssignValue(t,e,Tn(t[e],t))}),t});function constant(t){return function(){return t}}var yo=createFlow(),go=createFlow(!0);function identity(t){return t}function iteratee(t){return baseIteratee("function"==typeof t?t:baseClone(t,h))}var vo=baseRest(function(t,e){return function(r){return baseInvoke(r,t,e)}}),mo=baseRest(function(t,e){return function(r){return baseInvoke(t,r,e)}});function mixin(t,e,r){var n=keys(e),o=baseFunctions(e,n);null!=r||isObject(e)&&(o.length||!n.length)||(r=e,e=t,t=this,o=baseFunctions(e,keys(e)));var i=!(isObject(r)&&"chain"in r&&!r.chain),a=isFunction(t);return arrayEach(o,function(r){var n=e[r];t[r]=n,a&&(t.prototype[r]=function(){var e=this.__chain__;if(i||e){var r=t(this.__wrapped__);return(r.__actions__=copyArray(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,arrayPush([this.value()],arguments))})}),t}function noop(){}var _o=createOver(arrayMap),bo=createOver(arrayEvery),To=createOver(arraySome);function property(t){return isKey(t)?baseProperty(toKey(t)):function basePropertyDeep(t){return function(e){return baseGet(e,t)}}(t)}var Ao=createRange(),xo=createRange(!0);function stubArray(){return[]}function stubFalse(){return!1}var Co=createMathOperation(function(t,e){return t+e},0),Ro=createRound("ceil"),Io=createMathOperation(function(t,e){return t/e},1),wo=createRound("floor");var Eo,Oo=createMathOperation(function(t,e){return t*e},1),Po=createRound("round"),Mo=createMathOperation(function(t,e){return t-e},0);return lodash.after=function after(t,e){if("function"!=typeof e)throw new ne(s);return t=toInteger(t),function(){if(--t<1)return e.apply(this,arguments)}},lodash.ary=ary,lodash.assign=Kn,lodash.assignIn=Bn,lodash.assignInWith=Wn,lodash.assignWith=qn,lodash.at=Gn,lodash.before=before,lodash.bind=Tn,lodash.bindAll=po,lodash.bindKey=An,lodash.castArray=function castArray(){if(!arguments.length)return[];var t=arguments[0];return Ln(t)?t:[t]},lodash.chain=chain,lodash.chunk=function chunk(t,e,n){e=(n?isIterateeCall(t,e,n):e===o)?1:ar(toInteger(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,s=0,u=r(Je(i/e));a<i;)u[s++]=baseSlice(t,a,a+=e);return u},lodash.compact=function compact(t){for(var e=-1,r=null==t?0:t.length,n=0,o=[];++e<r;){var i=t[e];i&&(o[n++]=i)}return o},lodash.concat=function concat(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return arrayPush(Ln(n)?copyArray(n):[n],baseFlatten(e,1))},lodash.cond=function cond(t){var e=null==t?0:t.length,r=getIteratee();return t=e?arrayMap(t,function(t){if("function"!=typeof t[1])throw new ne(s);return[r(t[0]),t[1]]}):[],baseRest(function(r){for(var n=-1;++n<e;){var o=t[n];if(apply(o[0],this,r))return apply(o[1],this,r)}})},lodash.conforms=function conforms(t){return function baseConforms(t){var e=keys(t);return function(r){return baseConformsTo(r,t,e)}}(baseClone(t,h))},lodash.constant=constant,lodash.countBy=hn,lodash.create=function create(t,e){var r=Er(t);return null==e?r:baseAssign(r,e)},lodash.curry=function curry(t,e,r){var n=createWrap(t,b,o,o,o,o,o,e=r?o:e);return n.placeholder=curry.placeholder,n},lodash.curryRight=function curryRight(t,e,r){var n=createWrap(t,T,o,o,o,o,o,e=r?o:e);return n.placeholder=curryRight.placeholder,n},lodash.debounce=debounce,lodash.defaults=Hn,lodash.defaultsDeep=Qn,lodash.defer=xn,lodash.delay=Cn,lodash.difference=Hr,lodash.differenceBy=Qr,lodash.differenceWith=Yr,lodash.drop=function drop(t,e,r){var n=null==t?0:t.length;return n?baseSlice(t,(e=r||e===o?1:toInteger(e))<0?0:e,n):[]},lodash.dropRight=function dropRight(t,e,r){var n=null==t?0:t.length;return n?baseSlice(t,0,(e=n-(e=r||e===o?1:toInteger(e)))<0?0:e):[]},lodash.dropRightWhile=function dropRightWhile(t,e){return t&&t.length?baseWhile(t,getIteratee(e,3),!0,!0):[]},lodash.dropWhile=function dropWhile(t,e){return t&&t.length?baseWhile(t,getIteratee(e,3),!0):[]},lodash.fill=function fill(t,e,r,n){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&isIterateeCall(t,e,r)&&(r=0,n=i),function baseFill(t,e,r,n){var i=t.length;for((r=toInteger(r))<0&&(r=-r>i?0:i+r),(n=n===o||n>i?i:toInteger(n))<0&&(n+=i),n=r>n?0:toLength(n);r<n;)t[r++]=e;return t}(t,e,r,n)):[]},lodash.filter=function filter(t,e){return(Ln(t)?arrayFilter:baseFilter)(t,getIteratee(e,3))},lodash.flatMap=function flatMap(t,e){return baseFlatten(map(t,e),1)},lodash.flatMapDeep=function flatMapDeep(t,e){return baseFlatten(map(t,e),S)},lodash.flatMapDepth=function flatMapDepth(t,e,r){return r=r===o?1:toInteger(r),baseFlatten(map(t,e),r)},lodash.flatten=flatten,lodash.flattenDeep=function flattenDeep(t){return null!=t&&t.length?baseFlatten(t,S):[]},lodash.flattenDepth=function flattenDepth(t,e){return null!=t&&t.length?baseFlatten(t,e=e===o?1:toInteger(e)):[]},lodash.flip=function flip(t){return createWrap(t,I)},lodash.flow=yo,lodash.flowRight=go,lodash.fromPairs=function fromPairs(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var o=t[e];n[o[0]]=o[1]}return n},lodash.functions=function functions(t){return null==t?[]:baseFunctions(t,keys(t))},lodash.functionsIn=function functionsIn(t){return null==t?[]:baseFunctions(t,keysIn(t))},lodash.groupBy=dn,lodash.initial=function initial(t){return null!=t&&t.length?baseSlice(t,0,-1):[]},lodash.intersection=Xr,lodash.intersectionBy=Zr,lodash.intersectionWith=$r,lodash.invert=Yn,lodash.invertBy=Xn,lodash.invokeMap=gn,lodash.iteratee=iteratee,lodash.keyBy=vn,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=function mapKeys(t,e){var r={};return e=getIteratee(e,3),baseForOwn(t,function(t,n,o){baseAssignValue(r,e(t,n,o),t)}),r},lodash.mapValues=function mapValues(t,e){var r={};return e=getIteratee(e,3),baseForOwn(t,function(t,n,o){baseAssignValue(r,n,e(t,n,o))}),r},lodash.matches=function matches(t){return baseMatches(baseClone(t,h))},lodash.matchesProperty=function matchesProperty(t,e){return baseMatchesProperty(t,baseClone(e,h))},lodash.memoize=memoize,lodash.merge=$n,lodash.mergeWith=Jn,lodash.method=vo,lodash.methodOf=mo,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=function nthArg(t){return t=toInteger(t),baseRest(function(e){return baseNth(e,t)})},lodash.omit=to,lodash.omitBy=function omitBy(t,e){return pickBy(t,negate(getIteratee(e)))},lodash.once=function once(t){return before(2,t)},lodash.orderBy=function orderBy(t,e,r,n){return null==t?[]:(Ln(e)||(e=null==e?[]:[e]),Ln(r=n?o:r)||(r=null==r?[]:[r]),baseOrderBy(t,e,r))},lodash.over=_o,lodash.overArgs=Rn,lodash.overEvery=bo,lodash.overSome=To,lodash.partial=In,lodash.partialRight=wn,lodash.partition=mn,lodash.pick=eo,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=function propertyOf(t){return function(e){return null==t?o:baseGet(t,e)}},lodash.pull=Jr,lodash.pullAll=pullAll,lodash.pullAllBy=function pullAllBy(t,e,r){return t&&t.length&&e&&e.length?basePullAll(t,e,getIteratee(r,2)):t},lodash.pullAllWith=function pullAllWith(t,e,r){return t&&t.length&&e&&e.length?basePullAll(t,e,o,r):t},lodash.pullAt=tn,lodash.range=Ao,lodash.rangeRight=xo,lodash.rearg=En,lodash.reject=function reject(t,e){return(Ln(t)?arrayFilter:baseFilter)(t,negate(getIteratee(e,3)))},lodash.remove=function remove(t,e){var r=[];if(!t||!t.length)return r;var n=-1,o=[],i=t.length;for(e=getIteratee(e,3);++n<i;){var a=t[n];e(a,n,t)&&(r.push(a),o.push(n))}return basePullAt(t,o),r},lodash.rest=function rest(t,e){if("function"!=typeof t)throw new ne(s);return baseRest(t,e=e===o?e:toInteger(e))},lodash.reverse=reverse,lodash.sampleSize=function sampleSize(t,e,r){return e=(r?isIterateeCall(t,e,r):e===o)?1:toInteger(e),(Ln(t)?arraySampleSize:baseSampleSize)(t,e)},lodash.set=function set(t,e,r){return null==t?t:baseSet(t,e,r)},lodash.setWith=function setWith(t,e,r,n){return n="function"==typeof n?n:o,null==t?t:baseSet(t,e,r,n)},lodash.shuffle=function shuffle(t){return(Ln(t)?arrayShuffle:baseShuffle)(t)},lodash.slice=function slice(t,e,r){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&isIterateeCall(t,e,r)?(e=0,r=n):(e=null==e?0:toInteger(e),r=r===o?n:toInteger(r)),baseSlice(t,e,r)):[]},lodash.sortBy=_n,lodash.sortedUniq=function sortedUniq(t){return t&&t.length?baseSortedUniq(t):[]},lodash.sortedUniqBy=function sortedUniqBy(t,e){return t&&t.length?baseSortedUniq(t,getIteratee(e,2)):[]},lodash.split=function split(t,e,r){return r&&"number"!=typeof r&&isIterateeCall(t,e,r)&&(e=r=o),(r=r===o?V:r>>>0)?(t=toString(t))&&("string"==typeof e||null!=e&&!Vn(e))&&!(e=baseToString(e))&&hasUnicode(t)?castSlice(stringToArray(t),0,r):t.split(e,r):[]},lodash.spread=function spread(t,e){if("function"!=typeof t)throw new ne(s);return e=null==e?0:ar(toInteger(e),0),baseRest(function(r){var n=r[e],o=castSlice(r,0,e);return n&&arrayPush(o,n),apply(t,this,o)})},lodash.tail=function tail(t){var e=null==t?0:t.length;return e?baseSlice(t,1,e):[]},lodash.take=function take(t,e,r){return t&&t.length?baseSlice(t,0,(e=r||e===o?1:toInteger(e))<0?0:e):[]},lodash.takeRight=function takeRight(t,e,r){var n=null==t?0:t.length;return n?baseSlice(t,(e=n-(e=r||e===o?1:toInteger(e)))<0?0:e,n):[]},lodash.takeRightWhile=function takeRightWhile(t,e){return t&&t.length?baseWhile(t,getIteratee(e,3),!1,!0):[]},lodash.takeWhile=function takeWhile(t,e){return t&&t.length?baseWhile(t,getIteratee(e,3)):[]},lodash.tap=function tap(t,e){return e(t),t},lodash.throttle=function throttle(t,e,r){var n=!0,o=!0;if("function"!=typeof t)throw new ne(s);return isObject(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),debounce(t,e,{leading:n,maxWait:e,trailing:o})},lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=ro,lodash.toPairsIn=no,lodash.toPath=function toPath(t){return Ln(t)?arrayMap(t,toKey):isSymbol(t)?[t]:copyArray(Gr(toString(t)))},lodash.toPlainObject=toPlainObject,lodash.transform=function transform(t,e,r){var n=Ln(t),o=n||Fn(t)||jn(t);if(e=getIteratee(e,4),null==r){var i=t&&t.constructor;r=o?n?new i:[]:isObject(t)&&isFunction(i)?Er(Ee(t)):{}}return(o?arrayEach:baseForOwn)(t,function(t,n,o){return e(r,t,n,o)}),r},lodash.unary=function unary(t){return ary(t,1)},lodash.union=en,lodash.unionBy=rn,lodash.unionWith=nn,lodash.uniq=function uniq(t){return t&&t.length?baseUniq(t):[]},lodash.uniqBy=function uniqBy(t,e){return t&&t.length?baseUniq(t,getIteratee(e,2)):[]},lodash.uniqWith=function uniqWith(t,e){return e="function"==typeof e?e:o,t&&t.length?baseUniq(t,o,e):[]},lodash.unset=function unset(t,e){return null==t||baseUnset(t,e)},lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=function update(t,e,r){return null==t?t:baseUpdate(t,e,castFunction(r))},lodash.updateWith=function updateWith(t,e,r,n){return n="function"==typeof n?n:o,null==t?t:baseUpdate(t,e,castFunction(r),n)},lodash.values=values,lodash.valuesIn=function valuesIn(t){return null==t?[]:baseValues(t,keysIn(t))},lodash.without=on,lodash.words=words,lodash.wrap=function wrap(t,e){return In(castFunction(e),t)},lodash.xor=an,lodash.xorBy=sn,lodash.xorWith=un,lodash.zip=cn,lodash.zipObject=function zipObject(t,e){return baseZipObject(t||[],e||[],assignValue)},lodash.zipObjectDeep=function zipObjectDeep(t,e){return baseZipObject(t||[],e||[],baseSet)},lodash.zipWith=ln,lodash.entries=ro,lodash.entriesIn=no,lodash.extend=Bn,lodash.extendWith=Wn,mixin(lodash,lodash),lodash.add=Co,lodash.attempt=ho,lodash.camelCase=oo,lodash.capitalize=capitalize,lodash.ceil=Ro,lodash.clamp=function clamp(t,e,r){return r===o&&(r=e,e=o),r!==o&&(r=(r=toNumber(r))==r?r:0),e!==o&&(e=(e=toNumber(e))==e?e:0),baseClamp(toNumber(t),e,r)},lodash.clone=function clone(t){return baseClone(t,y)},lodash.cloneDeep=function cloneDeep(t){return baseClone(t,h|y)},lodash.cloneDeepWith=function cloneDeepWith(t,e){return baseClone(t,h|y,e="function"==typeof e?e:o)},lodash.cloneWith=function cloneWith(t,e){return baseClone(t,y,e="function"==typeof e?e:o)},lodash.conformsTo=function conformsTo(t,e){return null==e||baseConformsTo(t,e,keys(e))},lodash.deburr=deburr,lodash.defaultTo=function defaultTo(t,e){return null==t||t!=t?e:t},lodash.divide=Io,lodash.endsWith=function endsWith(t,e,r){t=toString(t),e=baseToString(e);var n=t.length,i=r=r===o?n:baseClamp(toInteger(r),0,n);return(r-=e.length)>=0&&t.slice(r,i)==e},lodash.eq=eq,lodash.escape=function escape(t){return(t=toString(t))&&Rt.test(t)?t.replace(xt,He):t},lodash.escapeRegExp=function escapeRegExp(t){return(t=toString(t))&&St.test(t)?t.replace(Lt,"\\$&"):t},lodash.every=function every(t,e,r){var n=Ln(t)?arrayEvery:baseEvery;return r&&isIterateeCall(t,e,r)&&(e=o),n(t,getIteratee(e,3))},lodash.find=pn,lodash.findIndex=findIndex,lodash.findKey=function findKey(t,e){return baseFindKey(t,getIteratee(e,3),baseForOwn)},lodash.findLast=yn,lodash.findLastIndex=findLastIndex,lodash.findLastKey=function findLastKey(t,e){return baseFindKey(t,getIteratee(e,3),baseForOwnRight)},lodash.floor=wo,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=function forIn(t,e){return null==t?t:Mr(t,getIteratee(e,3),keysIn)},lodash.forInRight=function forInRight(t,e){return null==t?t:Lr(t,getIteratee(e,3),keysIn)},lodash.forOwn=function forOwn(t,e){return t&&baseForOwn(t,getIteratee(e,3))},lodash.forOwnRight=function forOwnRight(t,e){return t&&baseForOwnRight(t,getIteratee(e,3))},lodash.get=get,lodash.gt=On,lodash.gte=Pn,lodash.has=function has(t,e){return null!=t&&hasPath(t,e,baseHas)},lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=function includes(t,e,r,n){t=isArrayLike(t)?t:values(t),r=r&&!n?toInteger(r):0;var o=t.length;return r<0&&(r=ar(o+r,0)),isString(t)?r<=o&&t.indexOf(e,r)>-1:!!o&&baseIndexOf(t,e,r)>-1},lodash.indexOf=function indexOf(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var o=null==r?0:toInteger(r);return o<0&&(o=ar(n+o,0)),baseIndexOf(t,e,o)},lodash.inRange=function inRange(t,e,r){return e=toFinite(e),r===o?(r=e,e=0):r=toFinite(r),function baseInRange(t,e,r){return t>=sr(e,r)&&t<ar(e,r)}(t=toNumber(t),e,r)},lodash.invoke=Zn,lodash.isArguments=Mn,lodash.isArray=Ln,lodash.isArrayBuffer=Sn,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=function isBoolean(t){return!0===t||!1===t||isObjectLike(t)&&baseGetTag(t)==W},lodash.isBuffer=Fn,lodash.isDate=Nn,lodash.isElement=function isElement(t){return isObjectLike(t)&&1===t.nodeType&&!isPlainObject(t)},lodash.isEmpty=function isEmpty(t){if(null==t)return!0;if(isArrayLike(t)&&(Ln(t)||"string"==typeof t||"function"==typeof t.splice||Fn(t)||jn(t)||Mn(t)))return!t.length;var e=Dr(t);if(e==X||e==rt)return!t.size;if(isPrototype(t))return!baseKeys(t).length;for(var r in t)if(ce.call(t,r))return!1;return!0},lodash.isEqual=function isEqual(t,e){return baseIsEqual(t,e)},lodash.isEqualWith=function isEqualWith(t,e,r){var n=(r="function"==typeof r?r:o)?r(t,e):o;return n===o?baseIsEqual(t,e,o,r):!!n},lodash.isError=isError,lodash.isFinite=function isFinite(t){return"number"==typeof t&&nr(t)},lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=zn,lodash.isMatch=function isMatch(t,e){return t===e||baseIsMatch(t,e,getMatchData(e))},lodash.isMatchWith=function isMatchWith(t,e,r){return r="function"==typeof r?r:o,baseIsMatch(t,e,getMatchData(e),r)},lodash.isNaN=function isNaN(t){return isNumber(t)&&t!=+t},lodash.isNative=function isNative(t){if(Kr(t))throw new Nt(a);return baseIsNative(t)},lodash.isNil=function isNil(t){return null==t},lodash.isNull=function isNull(t){return null===t},lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=Vn,lodash.isSafeInteger=function isSafeInteger(t){return isInteger(t)&&t>=-F&&t<=F},lodash.isSet=kn,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=jn,lodash.isUndefined=function isUndefined(t){return t===o},lodash.isWeakMap=function isWeakMap(t){return isObjectLike(t)&&Dr(t)==at},lodash.isWeakSet=function isWeakSet(t){return isObjectLike(t)&&baseGetTag(t)==st},lodash.join=function join(t,e){return null==t?"":or.call(t,e)},lodash.kebabCase=io,lodash.last=last,lodash.lastIndexOf=function lastIndexOf(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=n;return r!==o&&(i=(i=toInteger(r))<0?ar(n+i,0):sr(i,n-1)),e==e?function strictLastIndexOf(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,i):baseFindIndex(t,baseIsNaN,i,!0)},lodash.lowerCase=ao,lodash.lowerFirst=so,lodash.lt=Un,lodash.lte=Dn,lodash.max=function max(t){return t&&t.length?baseExtremum(t,identity,baseGt):o},lodash.maxBy=function maxBy(t,e){return t&&t.length?baseExtremum(t,getIteratee(e,2),baseGt):o},lodash.mean=function mean(t){return baseMean(t,identity)},lodash.meanBy=function meanBy(t,e){return baseMean(t,getIteratee(e,2))},lodash.min=function min(t){return t&&t.length?baseExtremum(t,identity,baseLt):o},lodash.minBy=function minBy(t,e){return t&&t.length?baseExtremum(t,getIteratee(e,2),baseLt):o},lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=function stubObject(){return{}},lodash.stubString=function stubString(){return""},lodash.stubTrue=function stubTrue(){return!0},lodash.multiply=Oo,lodash.nth=function nth(t,e){return t&&t.length?baseNth(t,toInteger(e)):o},lodash.noConflict=function noConflict(){return Se._===this&&(Se._=ye),this},lodash.noop=noop,lodash.now=bn,lodash.pad=function pad(t,e,r){t=toString(t);var n=(e=toInteger(e))?stringSize(t):0;if(!e||n>=e)return t;var o=(e-n)/2;return createPadding(tr(o),r)+t+createPadding(Je(o),r)},lodash.padEnd=function padEnd(t,e,r){t=toString(t);var n=(e=toInteger(e))?stringSize(t):0;return e&&n<e?t+createPadding(e-n,r):t},lodash.padStart=function padStart(t,e,r){t=toString(t);var n=(e=toInteger(e))?stringSize(t):0;return e&&n<e?createPadding(e-n,r)+t:t},lodash.parseInt=function parseInt(t,e,r){return r||null==e?e=0:e&&(e=+e),cr(toString(t).replace(Ft,""),e||0)},lodash.random=function random(t,e,r){if(r&&"boolean"!=typeof r&&isIterateeCall(t,e,r)&&(e=r=o),r===o&&("boolean"==typeof e?(r=e,e=o):"boolean"==typeof t&&(r=t,t=o)),t===o&&e===o?(t=0,e=1):(t=toFinite(t),e===o?(e=t,t=0):e=toFinite(e)),t>e){var n=t;t=e,e=n}if(r||t%1||e%1){var i=lr();return sr(t+i*(e-t+Oe("1e-"+((i+"").length-1))),e)}return baseRandom(t,e)},lodash.reduce=function reduce(t,e,r){var n=Ln(t)?arrayReduce:baseReduce,o=arguments.length<3;return n(t,getIteratee(e,4),r,o,Or)},lodash.reduceRight=function reduceRight(t,e,r){var n=Ln(t)?arrayReduceRight:baseReduce,o=arguments.length<3;return n(t,getIteratee(e,4),r,o,Pr)},lodash.repeat=function repeat(t,e,r){return e=(r?isIterateeCall(t,e,r):e===o)?1:toInteger(e),baseRepeat(toString(t),e)},lodash.replace=function replace(){var t=arguments,e=toString(t[0]);return t.length<3?e:e.replace(t[1],t[2])},lodash.result=function result(t,e,r){var n=-1,i=(e=castPath(e,t)).length;for(i||(i=1,t=o);++n<i;){var a=null==t?o:t[toKey(e[n])];a===o&&(n=i,a=r),t=isFunction(a)?a.call(t):a}return t},lodash.round=Po,lodash.runInContext=runInContext,lodash.sample=function sample(t){return(Ln(t)?arraySample:baseSample)(t)},lodash.size=function size(t){if(null==t)return 0;if(isArrayLike(t))return isString(t)?stringSize(t):t.length;var e=Dr(t);return e==X||e==rt?t.size:baseKeys(t).length},lodash.snakeCase=uo,lodash.some=function some(t,e,r){var n=Ln(t)?arraySome:baseSome;return r&&isIterateeCall(t,e,r)&&(e=o),n(t,getIteratee(e,3))},lodash.sortedIndex=function sortedIndex(t,e){return baseSortedIndex(t,e)},lodash.sortedIndexBy=function sortedIndexBy(t,e,r){return baseSortedIndexBy(t,e,getIteratee(r,2))},lodash.sortedIndexOf=function sortedIndexOf(t,e){var r=null==t?0:t.length;if(r){var n=baseSortedIndex(t,e);if(n<r&&eq(t[n],e))return n}return-1},lodash.sortedLastIndex=function sortedLastIndex(t,e){return baseSortedIndex(t,e,!0)},lodash.sortedLastIndexBy=function sortedLastIndexBy(t,e,r){return baseSortedIndexBy(t,e,getIteratee(r,2),!0)},lodash.sortedLastIndexOf=function sortedLastIndexOf(t,e){if(null!=t&&t.length){var r=baseSortedIndex(t,e,!0)-1;if(eq(t[r],e))return r}return-1},lodash.startCase=co,lodash.startsWith=function startsWith(t,e,r){return t=toString(t),r=null==r?0:baseClamp(toInteger(r),0,t.length),e=baseToString(e),t.slice(r,r+e.length)==e},lodash.subtract=Mo,lodash.sum=function sum(t){return t&&t.length?baseSum(t,identity):0},lodash.sumBy=function sumBy(t,e){return t&&t.length?baseSum(t,getIteratee(e,2)):0},lodash.template=function template(t,e,r){var n=lodash.templateSettings;r&&isIterateeCall(t,e,r)&&(e=o),t=toString(t),e=Wn({},e,n,customDefaultsAssignIn);var i,a,s=Wn({},e.imports,n.imports,customDefaultsAssignIn),c=keys(s),l=baseValues(s,c),f=0,h=e.interpolate||Xt,p="__p += '",y=ee((e.escape||Xt).source+"|"+h.source+"|"+(h===Et?Kt:Xt).source+"|"+(e.evaluate||Xt).source+"|$","g"),d="//# sourceURL="+(ce.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Re+"]")+"\n";t.replace(y,function(e,r,n,o,s,u){return n||(n=o),p+=t.slice(f,u).replace(Zt,escapeStringChar),r&&(i=!0,p+="' +\n__e("+r+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=u+e.length,e}),p+="';\n";var g=ce.call(e,"variable")&&e.variable;if(g){if(Ut.test(g))throw new Nt(u)}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(_t,""):p).replace(bt,"$1").replace(Tt,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=ho(function(){return $t(c,d+"return "+p).apply(o,l)});if(v.source=p,isError(v))throw v;return v},lodash.times=function times(t,e){if((t=toInteger(t))<1||t>F)return[];var r=V,n=sr(t,V);e=getIteratee(e),t-=V;for(var o=baseTimes(n,e);++r<t;)e(r);return o},lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=function toLower(t){return toString(t).toLowerCase()},lodash.toNumber=toNumber,lodash.toSafeInteger=function toSafeInteger(t){return t?baseClamp(toInteger(t),-F,F):0===t?t:0},lodash.toString=toString,lodash.toUpper=function toUpper(t){return toString(t).toUpperCase()},lodash.trim=function trim(t,e,r){if((t=toString(t))&&(r||e===o))return baseTrim(t);if(!t||!(e=baseToString(e)))return t;var n=stringToArray(t),i=stringToArray(e);return castSlice(n,charsStartIndex(n,i),charsEndIndex(n,i)+1).join("")},lodash.trimEnd=function trimEnd(t,e,r){if((t=toString(t))&&(r||e===o))return t.slice(0,trimmedEndIndex(t)+1);if(!t||!(e=baseToString(e)))return t;var n=stringToArray(t);return castSlice(n,0,charsEndIndex(n,stringToArray(e))+1).join("")},lodash.trimStart=function trimStart(t,e,r){if((t=toString(t))&&(r||e===o))return t.replace(Ft,"");if(!t||!(e=baseToString(e)))return t;var n=stringToArray(t);return castSlice(n,charsStartIndex(n,stringToArray(e))).join("")},lodash.truncate=function truncate(t,e){var r=w,n=E;if(isObject(e)){var i="separator"in e?e.separator:i;r="length"in e?toInteger(e.length):r,n="omission"in e?baseToString(e.omission):n}var a=(t=toString(t)).length;if(hasUnicode(t)){var s=stringToArray(t);a=s.length}if(r>=a)return t;var u=r-stringSize(n);if(u<1)return n;var c=s?castSlice(s,0,u).join(""):t.slice(0,u);if(i===o)return c+n;if(s&&(u+=c.length-u),Vn(i)){if(t.slice(u).search(i)){var l,f=c;for(i.global||(i=ee(i.source,toString(Bt.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;c=c.slice(0,h===o?u:h)}}else if(t.indexOf(baseToString(i),u)!=u){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+n},lodash.unescape=function unescape(t){return(t=toString(t))&&Ct.test(t)?t.replace(At,Qe):t},lodash.uniqueId=function uniqueId(t){var e=++le;return toString(t)+e},lodash.upperCase=lo,lodash.upperFirst=fo,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,(Eo={},baseForOwn(lodash,function(t,e){ce.call(lodash.prototype,e)||(Eo[e]=t)}),Eo),{chain:!1}),lodash.VERSION="4.17.21",arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){lodash[t].placeholder=lodash}),arrayEach(["drop","take"],function(t,e){LazyWrapper.prototype[t]=function(r){r=r===o?1:ar(toInteger(r),0);var n=this.__filtered__&&!e?new LazyWrapper(this):this.clone();return n.__filtered__?n.__takeCount__=sr(r,n.__takeCount__):n.__views__.push({size:sr(r,V),type:t+(n.__dir__<0?"Right":"")}),n},LazyWrapper.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),arrayEach(["filter","map","takeWhile"],function(t,e){var r=e+1,n=r==M||3==r;LazyWrapper.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:getIteratee(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}}),arrayEach(["head","last"],function(t,e){var r="take"+(e?"Right":"");LazyWrapper.prototype[t]=function(){return this[r](1).value()[0]}}),arrayEach(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");LazyWrapper.prototype[t]=function(){return this.__filtered__?new LazyWrapper(this):this[r](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(t){return this.filter(t).head()},LazyWrapper.prototype.findLast=function(t){return this.reverse().find(t)},LazyWrapper.prototype.invokeMap=baseRest(function(t,e){return"function"==typeof t?new LazyWrapper(this):this.map(function(r){return baseInvoke(r,t,e)})}),LazyWrapper.prototype.reject=function(t){return this.filter(negate(getIteratee(t)))},LazyWrapper.prototype.slice=function(t,e){t=toInteger(t);var r=this;return r.__filtered__&&(t>0||e<0)?new LazyWrapper(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==o&&(r=(e=toInteger(e))<0?r.dropRight(-e):r.take(e-t)),r)},LazyWrapper.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(V)},baseForOwn(LazyWrapper.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),i=lodash[n?"take"+("last"==e?"Right":""):e],a=n||/^find/.test(e);i&&(lodash.prototype[e]=function(){var e=this.__wrapped__,s=n?[1]:arguments,u=e instanceof LazyWrapper,c=s[0],l=u||Ln(e),f=function(t){var e=i.apply(lodash,arrayPush([t],s));return n&&h?e[0]:e};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,p=!!this.__actions__.length,y=a&&!h,d=u&&!p;if(!a&&l){e=d?e:new LazyWrapper(this);var g=t.apply(e,s);return g.__actions__.push({func:thru,args:[f],thisArg:o}),new LodashWrapper(g,h)}return y&&d?t.apply(this,s):(g=this.thru(f),y?n?g.value()[0]:g.value():g)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(t){var e=oe[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);lodash.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var o=this.value();return e.apply(Ln(o)?o:[],t)}return this[r](function(r){return e.apply(Ln(r)?r:[],t)})}}),baseForOwn(LazyWrapper.prototype,function(t,e){var r=lodash[e];if(r){var n=r.name+"";ce.call(_r,n)||(_r[n]=[]),_r[n].push({name:e,func:r})}}),_r[createHybrid(o,m).name]=[{name:"wrapper",func:o}],LazyWrapper.prototype.clone=function lazyClone(){var t=new LazyWrapper(this.__wrapped__);return t.__actions__=copyArray(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=copyArray(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=copyArray(this.__views__),t},LazyWrapper.prototype.reverse=function lazyReverse(){if(this.__filtered__){var t=new LazyWrapper(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},LazyWrapper.prototype.value=function lazyValue(){var t=this.__wrapped__.value(),e=this.__dir__,r=Ln(t),n=e<0,o=r?t.length:0,i=function getView(t,e,r){for(var n=-1,o=r.length;++n<o;){var i=r[n],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=sr(e,t+a);break;case"takeRight":t=ar(t,e-a)}}return{start:t,end:e}}(0,o,this.__views__),a=i.start,s=i.end,u=s-a,c=n?s:a-1,l=this.__iteratees__,f=l.length,h=0,p=sr(u,this.__takeCount__);if(!r||!n&&o==u&&p==u)return baseWrapperValue(t,this.__actions__);var y=[];t:for(;u--&&h<p;){for(var d=-1,g=t[c+=e];++d<f;){var v=l[d],m=v.iteratee,_=v.type,b=m(g);if(_==L)g=b;else if(!b){if(_==M)continue t;break t}}y[h++]=g}return y},lodash.prototype.at=fn,lodash.prototype.chain=function wrapperChain(){return chain(this)},lodash.prototype.commit=function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)},lodash.prototype.next=function wrapperNext(){this.__values__===o&&(this.__values__=toArray(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},lodash.prototype.plant=function wrapperPlant(t){for(var e,r=this;r instanceof baseLodash;){var n=wrapperClone(r);n.__index__=0,n.__values__=o,e?i.__wrapped__=n:e=n;var i=n;r=r.__wrapped__}return i.__wrapped__=t,e},lodash.prototype.reverse=function wrapperReverse(){var t=this.__wrapped__;if(t instanceof LazyWrapper){var e=t;return this.__actions__.length&&(e=new LazyWrapper(this)),(e=e.reverse()).__actions__.push({func:thru,args:[reverse],thisArg:o}),new LodashWrapper(e,this.__chain__)}return this.thru(reverse)},lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)},lodash.prototype.first=lodash.prototype.head,Ve&&(lodash.prototype[Ve]=function wrapperToIterator(){return this}),lodash}();Se._=Ye,(n=function(){return Ye}.call(e,r,e,t))===o||(t.exports=n)}.call(this)},327:t=>{for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);t.exports=function bytesToUuid(t,r){var n=r||0,o=e;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}},217:t=>{var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function whatwgRNG(){return e(r),r}}else{var n=new Array(16);t.exports=function mathRNG(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},171:(t,e,r)=>{var n=r(217),o=r(327);t.exports=function v4(t,e,r){var i=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}}},e={};function __webpack_require__(r){var n=e[r];if(void 0!==n)return n.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,__webpack_require__),o.loaded=!0,o.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.nmd=(t=>(t.paths=[],t.children||(t.children=[]),t)),(()=>{"use strict";var t,e=function(){function ArrayTools(){}return ArrayTools.BuildArray=function(t,e){for(var r=[],n=0;n<t;++n)r.push(e());return r},ArrayTools}(),r=function(){function Scalar(){}return Scalar.WithinEpsilon=function(t,e,r){void 0===r&&(r=1.401298e-45);var n=t-e;return-r<=n&&n<=r},Scalar.ToHex=function(t){var e=t.toString(16);return t<=15?("0"+e).toUpperCase():e.toUpperCase()},Scalar.Sign=function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1},Scalar.Clamp=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),Math.min(r,Math.max(e,t))},Scalar.Log2=function(t){return Math.log(t)*Math.LOG2E},Scalar.Repeat=function(t,e){return t-Math.floor(t/e)*e},Scalar.Normalize=function(t,e,r){return(t-e)/(r-e)},Scalar.Denormalize=function(t,e,r){return t*(r-e)+e},Scalar.DeltaAngle=function(t,e){var r=Scalar.Repeat(e-t,360);return r>180&&(r-=360),r},Scalar.PingPong=function(t,e){var r=Scalar.Repeat(t,2*e);return e-Math.abs(r-e)},Scalar.SmoothStep=function(t,e,r){var n=Scalar.Clamp(r);return e*(n=-2*n*n*n+3*n*n)+t*(1-n)},Scalar.MoveTowards=function(t,e,r){return Math.abs(e-t)<=r?e:t+Scalar.Sign(e-t)*r},Scalar.MoveTowardsAngle=function(t,e,r){var n=Scalar.DeltaAngle(t,e),o=0;return-r<n&&n<r?o=e:(e=t+n,o=Scalar.MoveTowards(t,e,r)),o},Scalar.Lerp=function(t,e,r){return t+(e-t)*r},Scalar.LerpAngle=function(t,e,r){var n=Scalar.Repeat(e-t,360);return n>180&&(n-=360),t+n*Scalar.Clamp(r)},Scalar.InverseLerp=function(t,e,r){return t!=e?Scalar.Clamp((r-t)/(e-t)):0},Scalar.Hermite=function(t,e,r,n,o){var i=o*o,a=o*i;return t*(2*a-3*i+1)+r*(-2*a+3*i)+e*(a-2*i+o)+n*(a-i)},Scalar.RandomRange=function(t,e){return t===e?t:Math.random()*(e-t)+t},Scalar.RangeToPercent=function(t,e,r){return(t-e)/(r-e)},Scalar.PercentToRange=function(t,e,r){return(r-e)*t+e},Scalar.NormalizeRadians=function(t){return t-=Scalar.TwoPi*Math.floor((t+Math.PI)/Scalar.TwoPi)},Scalar.TwoPi=2*Math.PI,Scalar}(),n=function(){function Color3(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.r=t,this.g=e,this.b=r}return Color3.prototype.toString=function(){return"{R: "+this.r+" G:"+this.g+" B:"+this.b+"}"},Color3.prototype.getClassName=function(){return"Color3"},Color3.prototype.getHashCode=function(){var t=this.r||0;return t=397*(t=397*t^(this.g||0))^(this.b||0)},Color3.prototype.toArray=function(t,e){return void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,this},Color3.prototype.toColor4=function(t){return void 0===t&&(t=1),new o(this.r,this.g,this.b,t)},Color3.prototype.asArray=function(){var t=new Array;return this.toArray(t,0),t},Color3.prototype.toLuminance=function(){return.3*this.r+.59*this.g+.11*this.b},Color3.prototype.multiply=function(t){return new Color3(this.r*t.r,this.g*t.g,this.b*t.b)},Color3.prototype.multiplyToRef=function(t,e){return e.r=this.r*t.r,e.g=this.g*t.g,e.b=this.b*t.b,this},Color3.prototype.equals=function(t){return t&&this.r===t.r&&this.g===t.g&&this.b===t.b},Color3.prototype.equalsFloats=function(t,e,r){return this.r===t&&this.g===e&&this.b===r},Color3.prototype.scale=function(t){return new Color3(this.r*t,this.g*t,this.b*t)},Color3.prototype.scaleToRef=function(t,e){return e.r=this.r*t,e.g=this.g*t,e.b=this.b*t,this},Color3.prototype.scaleAndAddToRef=function(t,e){return e.r+=this.r*t,e.g+=this.g*t,e.b+=this.b*t,this},Color3.prototype.clampToRef=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=1),n.r=r.Clamp(this.r,t,e),n.g=r.Clamp(this.g,t,e),n.b=r.Clamp(this.b,t,e),this},Color3.prototype.add=function(t){return new Color3(this.r+t.r,this.g+t.g,this.b+t.b)},Color3.prototype.addToRef=function(t,e){return e.r=this.r+t.r,e.g=this.g+t.g,e.b=this.b+t.b,this},Color3.prototype.subtract=function(t){return new Color3(this.r-t.r,this.g-t.g,this.b-t.b)},Color3.prototype.subtractToRef=function(t,e){return e.r=this.r-t.r,e.g=this.g-t.g,e.b=this.b-t.b,this},Color3.prototype.clone=function(){return new Color3(this.r,this.g,this.b)},Color3.prototype.copyFrom=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},Color3.prototype.copyFromFloats=function(t,e,r){return this.r=t,this.g=e,this.b=r,this},Color3.prototype.set=function(t,e,r){return this.copyFromFloats(t,e,r)},Color3.prototype.toHexString=function(){var t=255*this.r|0,e=255*this.g|0,n=255*this.b|0;return"#"+r.ToHex(t)+r.ToHex(e)+r.ToHex(n)},Color3.prototype.toLinearSpace=function(){var t=new Color3;return this.toLinearSpaceToRef(t),t},Color3.prototype.toLinearSpaceToRef=function(t){return t.r=Math.pow(this.r,2.2),t.g=Math.pow(this.g,2.2),t.b=Math.pow(this.b,2.2),this},Color3.prototype.toGammaSpace=function(){var t=new Color3;return this.toGammaSpaceToRef(t),t},Color3.prototype.toGammaSpaceToRef=function(t){return t.r=Math.pow(this.r,1/2.2),t.g=Math.pow(this.g,1/2.2),t.b=Math.pow(this.b,1/2.2),this},Color3.FromHexString=function(t){if("#"!==t.substring(0,1)||7!==t.length)return new Color3(0,0,0);var e=parseInt(t.substring(1,3),16),r=parseInt(t.substring(3,5),16),n=parseInt(t.substring(5,7),16);return Color3.FromInts(e,r,n)},Color3.FromArray=function(t,e){return void 0===e&&(e=0),new Color3(t[e],t[e+1],t[e+2])},Color3.FromInts=function(t,e,r){return new Color3(t/255,e/255,r/255)},Color3.Lerp=function(t,e,r){var n=new Color3(0,0,0);return Color3.LerpToRef(t,e,r,n),n},Color3.LerpToRef=function(t,e,r,n){n.r=t.r+(e.r-t.r)*r,n.g=t.g+(e.g-t.g)*r,n.b=t.b+(e.b-t.b)*r},Color3.Red=function(){return new Color3(1,0,0)},Color3.Green=function(){return new Color3(0,1,0)},Color3.Blue=function(){return new Color3(0,0,1)},Color3.Black=function(){return new Color3(0,0,0)},Object.defineProperty(Color3,"BlackReadOnly",{get:function(){return Color3._BlackReadOnly},enumerable:!0,configurable:!0}),Color3.White=function(){return new Color3(1,1,1)},Color3.Purple=function(){return new Color3(.5,0,.5)},Color3.Magenta=function(){return new Color3(1,0,1)},Color3.Yellow=function(){return new Color3(1,1,0)},Color3.Gray=function(){return new Color3(.5,.5,.5)},Color3.Teal=function(){return new Color3(0,1,1)},Color3.Random=function(){return new Color3(Math.random(),Math.random(),Math.random())},Color3._BlackReadOnly=Color3.Black(),Color3}(),o=function(){function Color4(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),this.r=t,this.g=e,this.b=r,this.a=n}return Color4.prototype.addInPlace=function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this.a+=t.a,this},Color4.prototype.asArray=function(){var t=new Array;return this.toArray(t,0),t},Color4.prototype.toArray=function(t,e){return void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t[e+3]=this.a,this},Color4.prototype.equals=function(t){return t&&this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a},Color4.prototype.add=function(t){return new Color4(this.r+t.r,this.g+t.g,this.b+t.b,this.a+t.a)},Color4.prototype.subtract=function(t){return new Color4(this.r-t.r,this.g-t.g,this.b-t.b,this.a-t.a)},Color4.prototype.subtractToRef=function(t,e){return e.r=this.r-t.r,e.g=this.g-t.g,e.b=this.b-t.b,e.a=this.a-t.a,this},Color4.prototype.scale=function(t){return new Color4(this.r*t,this.g*t,this.b*t,this.a*t)},Color4.prototype.scaleToRef=function(t,e){return e.r=this.r*t,e.g=this.g*t,e.b=this.b*t,e.a=this.a*t,this},Color4.prototype.scaleAndAddToRef=function(t,e){return e.r+=this.r*t,e.g+=this.g*t,e.b+=this.b*t,e.a+=this.a*t,this},Color4.prototype.clampToRef=function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=1),n.r=r.Clamp(this.r,t,e),n.g=r.Clamp(this.g,t,e),n.b=r.Clamp(this.b,t,e),n.a=r.Clamp(this.a,t,e),this},Color4.prototype.multiply=function(t){return new Color4(this.r*t.r,this.g*t.g,this.b*t.b,this.a*t.a)},Color4.prototype.multiplyToRef=function(t,e){return e.r=this.r*t.r,e.g=this.g*t.g,e.b=this.b*t.b,e.a=this.a*t.a,e},Color4.prototype.toString=function(){return"{R: "+this.r+" G:"+this.g+" B:"+this.b+" A:"+this.a+"}"},Color4.prototype.getClassName=function(){return"Color4"},Color4.prototype.getHashCode=function(){var t=this.r||0;return t=397*(t=397*(t=397*t^(this.g||0))^(this.b||0))^(this.a||0)},Color4.prototype.clone=function(){return new Color4(this.r,this.g,this.b,this.a)},Color4.prototype.copyFrom=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},Color4.prototype.copyFromFloats=function(t,e,r,n){return this.r=t,this.g=e,this.b=r,this.a=n,this},Color4.prototype.set=function(t,e,r,n){return this.copyFromFloats(t,e,r,n)},Color4.prototype.toHexString=function(){var t=255*this.r|0,e=255*this.g|0,n=255*this.b|0,o=255*this.a|0;return"#"+r.ToHex(t)+r.ToHex(e)+r.ToHex(n)+r.ToHex(o)},Color4.prototype.toLinearSpace=function(){var t=new Color4;return this.toLinearSpaceToRef(t),t},Color4.prototype.toLinearSpaceToRef=function(t){return t.r=Math.pow(this.r,2.2),t.g=Math.pow(this.g,2.2),t.b=Math.pow(this.b,2.2),t.a=this.a,this},Color4.prototype.toGammaSpace=function(){var t=new Color4;return this.toGammaSpaceToRef(t),t},Color4.prototype.toGammaSpaceToRef=function(t){return t.r=Math.pow(this.r,1/2.2),t.g=Math.pow(this.g,1/2.2),t.b=Math.pow(this.b,1/2.2),t.a=this.a,this},Color4.FromHexString=function(t){if("#"!==t.substring(0,1)||9!==t.length)return new Color4(0,0,0,0);var e=parseInt(t.substring(1,3),16),r=parseInt(t.substring(3,5),16),n=parseInt(t.substring(5,7),16),o=parseInt(t.substring(7,9),16);return Color4.FromInts(e,r,n,o)},Color4.Lerp=function(t,e,r){var n=new Color4(0,0,0,0);return Color4.LerpToRef(t,e,r,n),n},Color4.LerpToRef=function(t,e,r,n){n.r=t.r+(e.r-t.r)*r,n.g=t.g+(e.g-t.g)*r,n.b=t.b+(e.b-t.b)*r,n.a=t.a+(e.a-t.a)*r},Color4.FromColor3=function(t,e){return void 0===e&&(e=1),new Color4(t.r,t.g,t.b,e)},Color4.FromArray=function(t,e){return void 0===e&&(e=0),new Color4(t[e],t[e+1],t[e+2],t[e+3])},Color4.FromInts=function(t,e,r,n){return new Color4(t/255,e/255,r/255,n/255)},Color4.CheckColors4=function(t,e){if(t.length===3*e){for(var r=[],n=0;n<t.length;n+=3){var o=n/3*4;r[o]=t[n],r[o+1]=t[n+1],r[o+2]=t[n+2],r[o+3]=1}return r}return t},Color4}(),i=function(){function Vector2(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return Vector2.prototype.toString=function(){return"{X: "+this.x+" Y:"+this.y+"}"},Vector2.prototype.getClassName=function(){return"Vector2"},Vector2.prototype.getHashCode=function(){var t=this.x||0;return t=397*t^(this.y||0)},Vector2.prototype.toArray=function(t,e){return void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,this},Vector2.prototype.asArray=function(){var t=new Array;return this.toArray(t,0),t},Vector2.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this},Vector2.prototype.copyFromFloats=function(t,e){return this.x=t,this.y=e,this},Vector2.prototype.set=function(t,e){return this.copyFromFloats(t,e)},Vector2.prototype.add=function(t){return new Vector2(this.x+t.x,this.y+t.y)},Vector2.prototype.addToRef=function(t,e){return e.x=this.x+t.x,e.y=this.y+t.y,this},Vector2.prototype.addInPlace=function(t){return this.x+=t.x,this.y+=t.y,this},Vector2.prototype.addVector3=function(t){return new Vector2(this.x+t.x,this.y+t.y)},Vector2.prototype.subtract=function(t){return new Vector2(this.x-t.x,this.y-t.y)},Vector2.prototype.subtractToRef=function(t,e){return e.x=this.x-t.x,e.y=this.y-t.y,this},Vector2.prototype.subtractInPlace=function(t){return this.x-=t.x,this.y-=t.y,this},Vector2.prototype.multiplyInPlace=function(t){return this.x*=t.x,this.y*=t.y,this},Vector2.prototype.multiply=function(t){return new Vector2(this.x*t.x,this.y*t.y)},Vector2.prototype.multiplyToRef=function(t,e){return e.x=this.x*t.x,e.y=this.y*t.y,this},Vector2.prototype.multiplyByFloats=function(t,e){return new Vector2(this.x*t,this.y*e)},Vector2.prototype.divide=function(t){return new Vector2(this.x/t.x,this.y/t.y)},Vector2.prototype.divideToRef=function(t,e){return e.x=this.x/t.x,e.y=this.y/t.y,this},Vector2.prototype.divideInPlace=function(t){return this.divideToRef(t,this)},Vector2.prototype.negate=function(){return new Vector2(-this.x,-this.y)},Vector2.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this},Vector2.prototype.scale=function(t){var e=new Vector2(0,0);return this.scaleToRef(t,e),e},Vector2.prototype.scaleToRef=function(t,e){return e.x=this.x*t,e.y=this.y*t,this},Vector2.prototype.scaleAndAddToRef=function(t,e){return e.x+=this.x*t,e.y+=this.y*t,this},Vector2.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y},Vector2.prototype.equalsWithEpsilon=function(t,e){return void 0===e&&(e=.001),t&&r.WithinEpsilon(this.x,t.x,e)&&r.WithinEpsilon(this.y,t.y,e)},Vector2.prototype.floor=function(){return new Vector2(Math.floor(this.x),Math.floor(this.y))},Vector2.prototype.fract=function(){return new Vector2(this.x-Math.floor(this.x),this.y-Math.floor(this.y))},Vector2.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Vector2.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y},Vector2.prototype.normalize=function(){var t=this.length();if(0===t)return this;var e=1/t;return this.x*=e,this.y*=e,this},Vector2.prototype.clone=function(){return new Vector2(this.x,this.y)},Vector2.Zero=function(){return new Vector2(0,0)},Vector2.One=function(){return new Vector2(1,1)},Vector2.FromArray=function(t,e){return void 0===e&&(e=0),new Vector2(t[e],t[e+1])},Vector2.FromArrayToRef=function(t,e,r){r.x=t[e],r.y=t[e+1]},Vector2.CatmullRom=function(t,e,r,n,o){var i=o*o,a=o*i;return new Vector2(.5*(2*e.x+(-t.x+r.x)*o+(2*t.x-5*e.x+4*r.x-n.x)*i+(-t.x+3*e.x-3*r.x+n.x)*a),.5*(2*e.y+(-t.y+r.y)*o+(2*t.y-5*e.y+4*r.y-n.y)*i+(-t.y+3*e.y-3*r.y+n.y)*a))},Vector2.Clamp=function(t,e,r){var n=t.x;n=(n=n>r.x?r.x:n)<e.x?e.x:n;var o=t.y;return new Vector2(n,o=(o=o>r.y?r.y:o)<e.y?e.y:o)},Vector2.Hermite=function(t,e,r,n,o){var i=o*o,a=o*i,s=2*a-3*i+1,u=-2*a+3*i,c=a-2*i+o,l=a-i;return new Vector2(t.x*s+r.x*u+e.x*c+n.x*l,t.y*s+r.y*u+e.y*c+n.y*l)},Vector2.Lerp=function(t,e,r){return new Vector2(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Vector2.Dot=function(t,e){return t.x*e.x+t.y*e.y},Vector2.Normalize=function(t){var e=t.clone();return e.normalize(),e},Vector2.Minimize=function(t,e){return new Vector2(t.x<e.x?t.x:e.x,t.y<e.y?t.y:e.y)},Vector2.Maximize=function(t,e){return new Vector2(t.x>e.x?t.x:e.x,t.y>e.y?t.y:e.y)},Vector2.Transform=function(t,e){var r=Vector2.Zero();return Vector2.TransformToRef(t,e,r),r},Vector2.TransformToRef=function(t,e,r){var n=e.m,o=t.x*n[0]+t.y*n[4]+n[12],i=t.x*n[1]+t.y*n[5]+n[13];r.x=o,r.y=i},Vector2.PointInTriangle=function(t,e,r,n){var o=.5*(-r.y*n.x+e.y*(-r.x+n.x)+e.x*(r.y-n.y)+r.x*n.y),i=o<0?-1:1,a=(e.y*n.x-e.x*n.y+(n.y-e.y)*t.x+(e.x-n.x)*t.y)*i,s=(e.x*r.y-e.y*r.x+(e.y-r.y)*t.x+(r.x-e.x)*t.y)*i;return a>0&&s>0&&a+s<2*o*i},Vector2.Distance=function(t,e){return Math.sqrt(Vector2.DistanceSquared(t,e))},Vector2.DistanceSquared=function(t,e){var r=t.x-e.x,n=t.y-e.y;return r*r+n*n},Vector2.Center=function(t,e){var r=t.add(e);return r.scaleInPlace(.5),r},Vector2.DistanceOfPointFromSegment=function(t,e,r){var n=Vector2.DistanceSquared(e,r);if(0===n)return Vector2.Distance(t,e);var o=r.subtract(e),i=Math.max(0,Math.min(1,Vector2.Dot(t.subtract(e),o)/n)),a=e.add(o.multiplyByFloats(i,i));return Vector2.Distance(t,a)},Vector2}(),a=function(){function Vector3(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.z=r}return Vector3.prototype.toString=function(){return"{X: "+this.x+" Y:"+this.y+" Z:"+this.z+"}"},Vector3.prototype.getClassName=function(){return"Vector3"},Vector3.prototype.getHashCode=function(){var t=this.x||0;return t=397*(t=397*t^(this.y||0))^(this.z||0)},Vector3.prototype.asArray=function(){var t=[];return this.toArray(t,0),t},Vector3.prototype.toArray=function(t,e){return void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,this},Vector3.prototype.toQuaternion=function(){return c.RotationYawPitchRoll(this.y,this.x,this.z)},Vector3.prototype.addInPlace=function(t){return this.addInPlaceFromFloats(t.x,t.y,t.z)},Vector3.prototype.addInPlaceFromFloats=function(t,e,r){return this.x+=t,this.y+=e,this.z+=r,this},Vector3.prototype.add=function(t){return new Vector3(this.x+t.x,this.y+t.y,this.z+t.z)},Vector3.prototype.addToRef=function(t,e){return e.copyFromFloats(this.x+t.x,this.y+t.y,this.z+t.z)},Vector3.prototype.subtractInPlace=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},Vector3.prototype.subtract=function(t){return new Vector3(this.x-t.x,this.y-t.y,this.z-t.z)},Vector3.prototype.subtractToRef=function(t,e){return this.subtractFromFloatsToRef(t.x,t.y,t.z,e)},Vector3.prototype.subtractFromFloats=function(t,e,r){return new Vector3(this.x-t,this.y-e,this.z-r)},Vector3.prototype.subtractFromFloatsToRef=function(t,e,r,n){return n.copyFromFloats(this.x-t,this.y-e,this.z-r)},Vector3.prototype.negate=function(){return new Vector3(-this.x,-this.y,-this.z)},Vector3.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this.z*=t,this},Vector3.prototype.scale=function(t){return new Vector3(this.x*t,this.y*t,this.z*t)},Vector3.prototype.scaleToRef=function(t,e){return e.copyFromFloats(this.x*t,this.y*t,this.z*t)},Vector3.prototype.scaleAndAddToRef=function(t,e){return e.addInPlaceFromFloats(this.x*t,this.y*t,this.z*t)},Vector3.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y&&this.z===t.z},Vector3.prototype.equalsWithEpsilon=function(t,e){return void 0===e&&(e=.001),t&&r.WithinEpsilon(this.x,t.x,e)&&r.WithinEpsilon(this.y,t.y,e)&&r.WithinEpsilon(this.z,t.z,e)},Vector3.prototype.equalsToFloats=function(t,e,r){return this.x===t&&this.y===e&&this.z===r},Vector3.prototype.multiplyInPlace=function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this},Vector3.prototype.multiply=function(t){return this.multiplyByFloats(t.x,t.y,t.z)},Vector3.prototype.multiplyToRef=function(t,e){return e.copyFromFloats(this.x*t.x,this.y*t.y,this.z*t.z)},Vector3.prototype.multiplyByFloats=function(t,e,r){return new Vector3(this.x*t,this.y*e,this.z*r)},Vector3.prototype.divide=function(t){return new Vector3(this.x/t.x,this.y/t.y,this.z/t.z)},Vector3.prototype.divideToRef=function(t,e){return e.copyFromFloats(this.x/t.x,this.y/t.y,this.z/t.z)},Vector3.prototype.divideInPlace=function(t){return this.divideToRef(t,this)},Vector3.prototype.minimizeInPlace=function(t){return this.minimizeInPlaceFromFloats(t.x,t.y,t.z)},Vector3.prototype.maximizeInPlace=function(t){return this.maximizeInPlaceFromFloats(t.x,t.y,t.z)},Vector3.prototype.minimizeInPlaceFromFloats=function(t,e,r){return t<this.x&&(this.x=t),e<this.y&&(this.y=e),r<this.z&&(this.z=r),this},Vector3.prototype.maximizeInPlaceFromFloats=function(t,e,r){return t>this.x&&(this.x=t),e>this.y&&(this.y=e),r>this.z&&(this.z=r),this},Vector3.prototype.isNonUniformWithinEpsilon=function(t){var e=Math.abs(this.x),n=Math.abs(this.y);if(!r.WithinEpsilon(e,n,t))return!0;var o=Math.abs(this.z);return!r.WithinEpsilon(e,o,t)||!r.WithinEpsilon(n,o,t)},Object.defineProperty(Vector3.prototype,"isNonUniform",{get:function(){var t=Math.abs(this.x),e=Math.abs(this.y);if(t!==e)return!0;var r=Math.abs(this.z);return t!==r||e!==r},enumerable:!0,configurable:!0}),Vector3.prototype.floor=function(){return new Vector3(Math.floor(this.x),Math.floor(this.y),Math.floor(this.z))},Vector3.prototype.fract=function(){return new Vector3(this.x-Math.floor(this.x),this.y-Math.floor(this.y),this.z-Math.floor(this.z))},Vector3.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},Vector3.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z},Vector3.prototype.normalize=function(){return this.normalizeFromLength(this.length())},Vector3.prototype.reorderInPlace=function(t){var e=this;return"xyz"===(t=t.toLowerCase())?this:(d.Vector3[0].copyFrom(this),["x","y","z"].forEach(function(r,n){e[r]=d.Vector3[0][t[n]]}),this)},Vector3.prototype.rotateByQuaternionToRef=function(t,e){return t.toRotationMatrix(d.Matrix[0]),Vector3.TransformCoordinatesToRef(this,d.Matrix[0],e),e},Vector3.prototype.rotateByQuaternionAroundPointToRef=function(t,e,r){return this.subtractToRef(e,d.Vector3[0]),d.Vector3[0].rotateByQuaternionToRef(t,d.Vector3[0]),e.addToRef(d.Vector3[0],r),r},Vector3.prototype.normalizeFromLength=function(t){return 0===t||1===t?this:this.scaleInPlace(1/t)},Vector3.prototype.normalizeToNew=function(){var t=new Vector3(0,0,0);return this.normalizeToRef(t),t},Vector3.prototype.normalizeToRef=function(t){var e=this.length();return 0===e||1===e?t.copyFromFloats(this.x,this.y,this.z):this.scaleToRef(1/e,t)},Vector3.prototype.clone=function(){return new Vector3(this.x,this.y,this.z)},Vector3.prototype.copyFrom=function(t){return this.copyFromFloats(t.x,t.y,t.z)},Vector3.prototype.copyFromFloats=function(t,e,r){return this.x=t,this.y=e,this.z=r,this},Vector3.prototype.set=function(t,e,r){return this.copyFromFloats(t,e,r)},Vector3.prototype.setAll=function(t){return this.x=this.y=this.z=t,this},Vector3.GetClipFactor=function(t,e,r,n){var o=Vector3.Dot(t,r)-n;return o/(o-(Vector3.Dot(e,r)-n))},Vector3.GetAngleBetweenVectors=function(t,e,r){var n=t.normalizeToRef(d.Vector3[1]),o=e.normalizeToRef(d.Vector3[2]),i=Vector3.Dot(n,o),a=d.Vector3[3];return Vector3.CrossToRef(n,o,a),Vector3.Dot(a,r)>0?Math.acos(i):-Math.acos(i)},Vector3.FromArray=function(t,e){return void 0===e&&(e=0),new Vector3(t[e],t[e+1],t[e+2])},Vector3.FromFloatArray=function(t,e){return Vector3.FromArray(t,e)},Vector3.FromArrayToRef=function(t,e,r){r.x=t[e],r.y=t[e+1],r.z=t[e+2]},Vector3.FromFloatArrayToRef=function(t,e,r){return Vector3.FromArrayToRef(t,e,r)},Vector3.FromFloatsToRef=function(t,e,r,n){n.copyFromFloats(t,e,r)},Vector3.Zero=function(){return new Vector3(0,0,0)},Vector3.One=function(){return new Vector3(1,1,1)},Vector3.Up=function(){return new Vector3(0,1,0)},Object.defineProperty(Vector3,"UpReadOnly",{get:function(){return Vector3._UpReadOnly},enumerable:!0,configurable:!0}),Vector3.Down=function(){return new Vector3(0,-1,0)},Vector3.Forward=function(){return new Vector3(0,0,1)},Vector3.Backward=function(){return new Vector3(0,0,-1)},Vector3.Right=function(){return new Vector3(1,0,0)},Vector3.Left=function(){return new Vector3(-1,0,0)},Vector3.TransformCoordinates=function(t,e){var r=Vector3.Zero();return Vector3.TransformCoordinatesToRef(t,e,r),r},Vector3.TransformCoordinatesToRef=function(t,e,r){Vector3.TransformCoordinatesFromFloatsToRef(t.x,t.y,t.z,e,r)},Vector3.TransformCoordinatesFromFloatsToRef=function(t,e,r,n,o){var i=n.m,a=t*i[0]+e*i[4]+r*i[8]+i[12],s=t*i[1]+e*i[5]+r*i[9]+i[13],u=t*i[2]+e*i[6]+r*i[10]+i[14],c=1/(t*i[3]+e*i[7]+r*i[11]+i[15]);o.x=a*c,o.y=s*c,o.z=u*c},Vector3.TransformNormal=function(t,e){var r=Vector3.Zero();return Vector3.TransformNormalToRef(t,e,r),r},Vector3.TransformNormalToRef=function(t,e,r){this.TransformNormalFromFloatsToRef(t.x,t.y,t.z,e,r)},Vector3.TransformNormalFromFloatsToRef=function(t,e,r,n,o){var i=n.m;o.x=t*i[0]+e*i[4]+r*i[8],o.y=t*i[1]+e*i[5]+r*i[9],o.z=t*i[2]+e*i[6]+r*i[10]},Vector3.CatmullRom=function(t,e,r,n,o){var i=o*o,a=o*i;return new Vector3(.5*(2*e.x+(-t.x+r.x)*o+(2*t.x-5*e.x+4*r.x-n.x)*i+(-t.x+3*e.x-3*r.x+n.x)*a),.5*(2*e.y+(-t.y+r.y)*o+(2*t.y-5*e.y+4*r.y-n.y)*i+(-t.y+3*e.y-3*r.y+n.y)*a),.5*(2*e.z+(-t.z+r.z)*o+(2*t.z-5*e.z+4*r.z-n.z)*i+(-t.z+3*e.z-3*r.z+n.z)*a))},Vector3.Clamp=function(t,e,r){var n=new Vector3;return Vector3.ClampToRef(t,e,r,n),n},Vector3.ClampToRef=function(t,e,r,n){var o=t.x;o=(o=o>r.x?r.x:o)<e.x?e.x:o;var i=t.y;i=(i=i>r.y?r.y:i)<e.y?e.y:i;var a=t.z;a=(a=a>r.z?r.z:a)<e.z?e.z:a,n.copyFromFloats(o,i,a)},Vector3.Hermite=function(t,e,r,n,o){var i=o*o,a=o*i,s=2*a-3*i+1,u=-2*a+3*i,c=a-2*i+o,l=a-i;return new Vector3(t.x*s+r.x*u+e.x*c+n.x*l,t.y*s+r.y*u+e.y*c+n.y*l,t.z*s+r.z*u+e.z*c+n.z*l)},Vector3.Lerp=function(t,e,r){var n=new Vector3(0,0,0);return Vector3.LerpToRef(t,e,r,n),n},Vector3.LerpToRef=function(t,e,r,n){n.x=t.x+(e.x-t.x)*r,n.y=t.y+(e.y-t.y)*r,n.z=t.z+(e.z-t.z)*r},Vector3.Dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},Vector3.Cross=function(t,e){var r=Vector3.Zero();return Vector3.CrossToRef(t,e,r),r},Vector3.CrossToRef=function(t,e,r){var n=t.y*e.z-t.z*e.y,o=t.z*e.x-t.x*e.z,i=t.x*e.y-t.y*e.x;r.copyFromFloats(n,o,i)},Vector3.Normalize=function(t){var e=Vector3.Zero();return Vector3.NormalizeToRef(t,e),e},Vector3.NormalizeToRef=function(t,e){t.normalizeToRef(e)},Vector3.Project=function(t,e,r,n){var o=n.width,i=n.height,a=n.x,s=n.y,u=d.Matrix[1];l.FromValuesToRef(o/2,0,0,0,0,-i/2,0,0,0,0,.5,0,a+o/2,i/2+s,.5,1,u);var c=d.Matrix[0];return e.multiplyToRef(r,c),c.multiplyToRef(u,c),Vector3.TransformCoordinates(t,c)},Vector3._UnprojectFromInvertedMatrixToRef=function(t,e,n){Vector3.TransformCoordinatesToRef(t,e,n);var o=e.m,i=t.x*o[3]+t.y*o[7]+t.z*o[11]+o[15];r.WithinEpsilon(i,1)&&n.scaleInPlace(1/i)},Vector3.UnprojectFromTransform=function(t,e,r,n,o){var i=d.Matrix[0];n.multiplyToRef(o,i),i.invert(),t.x=t.x/e*2-1,t.y=-(t.y/r*2-1);var a=new Vector3;return Vector3._UnprojectFromInvertedMatrixToRef(t,i,a),a},Vector3.Unproject=function(t,e,r,n,o,i){var a=Vector3.Zero();return Vector3.UnprojectToRef(t,e,r,n,o,i,a),a},Vector3.UnprojectToRef=function(t,e,r,n,o,i,a){Vector3.UnprojectFloatsToRef(t.x,t.y,t.z,e,r,n,o,i,a)},Vector3.UnprojectFloatsToRef=function(t,e,r,n,o,i,a,s,u){var c=d.Matrix[0];i.multiplyToRef(a,c),c.multiplyToRef(s,c),c.invert();var l=d.Vector3[0];l.x=t/n*2-1,l.y=-(e/o*2-1),l.z=2*r-1,Vector3._UnprojectFromInvertedMatrixToRef(l,c,u)},Vector3.Minimize=function(t,e){var r=t.clone();return r.minimizeInPlace(e),r},Vector3.Maximize=function(t,e){var r=t.clone();return r.maximizeInPlace(e),r},Vector3.Distance=function(t,e){return Math.sqrt(Vector3.DistanceSquared(t,e))},Vector3.DistanceSquared=function(t,e){var r=t.x-e.x,n=t.y-e.y,o=t.z-e.z;return r*r+n*n+o*o},Vector3.Center=function(t,e){var r=t.add(e);return r.scaleInPlace(.5),r},Vector3.RotationFromAxis=function(t,e,r){var n=Vector3.Zero();return Vector3.RotationFromAxisToRef(t,e,r,n),n},Vector3.RotationFromAxisToRef=function(t,e,r,n){var o=d.Quaternion[0];c.RotationQuaternionFromAxisToRef(t,e,r,o),o.toEulerAnglesToRef(n)},Vector3._UpReadOnly=Vector3.Up(),Vector3}(),s=function(){function Vector4(t,e,r,n){this.x=t,this.y=e,this.z=r,this.w=n}return Vector4.prototype.toString=function(){return"{X: "+this.x+" Y:"+this.y+" Z:"+this.z+" W:"+this.w+"}"},Vector4.prototype.getClassName=function(){return"Vector4"},Vector4.prototype.getHashCode=function(){var t=this.x||0;return t=397*(t=397*(t=397*t^(this.y||0))^(this.z||0))^(this.w||0)},Vector4.prototype.asArray=function(){var t=new Array;return this.toArray(t,0),t},Vector4.prototype.toArray=function(t,e){return void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,this},Vector4.prototype.addInPlace=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this},Vector4.prototype.add=function(t){return new Vector4(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)},Vector4.prototype.addToRef=function(t,e){return e.x=this.x+t.x,e.y=this.y+t.y,e.z=this.z+t.z,e.w=this.w+t.w,this},Vector4.prototype.subtractInPlace=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this},Vector4.prototype.subtract=function(t){return new Vector4(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)},Vector4.prototype.subtractToRef=function(t,e){return e.x=this.x-t.x,e.y=this.y-t.y,e.z=this.z-t.z,e.w=this.w-t.w,this},Vector4.prototype.subtractFromFloats=function(t,e,r,n){return new Vector4(this.x-t,this.y-e,this.z-r,this.w-n)},Vector4.prototype.subtractFromFloatsToRef=function(t,e,r,n,o){return o.x=this.x-t,o.y=this.y-e,o.z=this.z-r,o.w=this.w-n,this},Vector4.prototype.negate=function(){return new Vector4(-this.x,-this.y,-this.z,-this.w)},Vector4.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},Vector4.prototype.scale=function(t){return new Vector4(this.x*t,this.y*t,this.z*t,this.w*t)},Vector4.prototype.scaleToRef=function(t,e){return e.x=this.x*t,e.y=this.y*t,e.z=this.z*t,e.w=this.w*t,this},Vector4.prototype.scaleAndAddToRef=function(t,e){return e.x+=this.x*t,e.y+=this.y*t,e.z+=this.z*t,e.w+=this.w*t,this},Vector4.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},Vector4.prototype.equalsWithEpsilon=function(t,e){return void 0===e&&(e=.001),t&&r.WithinEpsilon(this.x,t.x,e)&&r.WithinEpsilon(this.y,t.y,e)&&r.WithinEpsilon(this.z,t.z,e)&&r.WithinEpsilon(this.w,t.w,e)},Vector4.prototype.equalsToFloats=function(t,e,r,n){return this.x===t&&this.y===e&&this.z===r&&this.w===n},Vector4.prototype.multiplyInPlace=function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this},Vector4.prototype.multiply=function(t){return new Vector4(this.x*t.x,this.y*t.y,this.z*t.z,this.w*t.w)},Vector4.prototype.multiplyToRef=function(t,e){return e.x=this.x*t.x,e.y=this.y*t.y,e.z=this.z*t.z,e.w=this.w*t.w,this},Vector4.prototype.multiplyByFloats=function(t,e,r,n){return new Vector4(this.x*t,this.y*e,this.z*r,this.w*n)},Vector4.prototype.divide=function(t){return new Vector4(this.x/t.x,this.y/t.y,this.z/t.z,this.w/t.w)},Vector4.prototype.divideToRef=function(t,e){return e.x=this.x/t.x,e.y=this.y/t.y,e.z=this.z/t.z,e.w=this.w/t.w,this},Vector4.prototype.divideInPlace=function(t){return this.divideToRef(t,this)},Vector4.prototype.minimizeInPlace=function(t){return t.x<this.x&&(this.x=t.x),t.y<this.y&&(this.y=t.y),t.z<this.z&&(this.z=t.z),t.w<this.w&&(this.w=t.w),this},Vector4.prototype.maximizeInPlace=function(t){return t.x>this.x&&(this.x=t.x),t.y>this.y&&(this.y=t.y),t.z>this.z&&(this.z=t.z),t.w>this.w&&(this.w=t.w),this},Vector4.prototype.floor=function(){return new Vector4(Math.floor(this.x),Math.floor(this.y),Math.floor(this.z),Math.floor(this.w))},Vector4.prototype.fract=function(){return new Vector4(this.x-Math.floor(this.x),this.y-Math.floor(this.y),this.z-Math.floor(this.z),this.w-Math.floor(this.w))},Vector4.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},Vector4.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},Vector4.prototype.normalize=function(){var t=this.length();return 0===t?this:this.scaleInPlace(1/t)},Vector4.prototype.toVector3=function(){return new a(this.x,this.y,this.z)},Vector4.prototype.clone=function(){return new Vector4(this.x,this.y,this.z,this.w)},Vector4.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},Vector4.prototype.copyFromFloats=function(t,e,r,n){return this.x=t,this.y=e,this.z=r,this.w=n,this},Vector4.prototype.set=function(t,e,r,n){return this.copyFromFloats(t,e,r,n)},Vector4.prototype.setAll=function(t){return this.x=this.y=this.z=this.w=t,this},Vector4.FromArray=function(t,e){return e||(e=0),new Vector4(t[e],t[e+1],t[e+2],t[e+3])},Vector4.FromArrayToRef=function(t,e,r){r.x=t[e],r.y=t[e+1],r.z=t[e+2],r.w=t[e+3]},Vector4.FromFloatArrayToRef=function(t,e,r){Vector4.FromArrayToRef(t,e,r)},Vector4.FromFloatsToRef=function(t,e,r,n,o){o.x=t,o.y=e,o.z=r,o.w=n},Vector4.Zero=function(){return new Vector4(0,0,0,0)},Vector4.One=function(){return new Vector4(1,1,1,1)},Vector4.Normalize=function(t){var e=Vector4.Zero();return Vector4.NormalizeToRef(t,e),e},Vector4.NormalizeToRef=function(t,e){e.copyFrom(t),e.normalize()},Vector4.Minimize=function(t,e){var r=t.clone();return r.minimizeInPlace(e),r},Vector4.Maximize=function(t,e){var r=t.clone();return r.maximizeInPlace(e),r},Vector4.Distance=function(t,e){return Math.sqrt(Vector4.DistanceSquared(t,e))},Vector4.DistanceSquared=function(t,e){var r=t.x-e.x,n=t.y-e.y,o=t.z-e.z,i=t.w-e.w;return r*r+n*n+o*o+i*i},Vector4.Center=function(t,e){var r=t.add(e);return r.scaleInPlace(.5),r},Vector4.TransformNormal=function(t,e){var r=Vector4.Zero();return Vector4.TransformNormalToRef(t,e,r),r},Vector4.TransformNormalToRef=function(t,e,r){var n=e.m,o=t.x*n[0]+t.y*n[4]+t.z*n[8],i=t.x*n[1]+t.y*n[5]+t.z*n[9],a=t.x*n[2]+t.y*n[6]+t.z*n[10];r.x=o,r.y=i,r.z=a,r.w=t.w},Vector4.TransformNormalFromFloatsToRef=function(t,e,r,n,o,i){var a=o.m;i.x=t*a[0]+e*a[4]+r*a[8],i.y=t*a[1]+e*a[5]+r*a[9],i.z=t*a[2]+e*a[6]+r*a[10],i.w=n},Vector4.FromVector3=function(t,e){return void 0===e&&(e=0),new Vector4(t.x,t.y,t.z,e)},Vector4}(),u=function(){function Size(t,e){this.width=t,this.height=e}return Size.prototype.toString=function(){return"{W: "+this.width+", H: "+this.height+"}"},Size.prototype.getClassName=function(){return"Size"},Size.prototype.getHashCode=function(){var t=this.width||0;return t=397*t^(this.height||0)},Size.prototype.copyFrom=function(t){this.width=t.width,this.height=t.height},Size.prototype.copyFromFloats=function(t,e){return this.width=t,this.height=e,this},Size.prototype.set=function(t,e){return this.copyFromFloats(t,e)},Size.prototype.multiplyByFloats=function(t,e){return new Size(this.width*t,this.height*e)},Size.prototype.clone=function(){return new Size(this.width,this.height)},Size.prototype.equals=function(t){return!!t&&(this.width===t.width&&this.height===t.height)},Object.defineProperty(Size.prototype,"surface",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Size.Zero=function(){return new Size(0,0)},Size.prototype.add=function(t){return new Size(this.width+t.width,this.height+t.height)},Size.prototype.subtract=function(t){return new Size(this.width-t.width,this.height-t.height)},Size.Lerp=function(t,e,r){return new Size(t.width+(e.width-t.width)*r,t.height+(e.height-t.height)*r)},Size}(),c=function(){function Quaternion(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),this.x=t,this.y=e,this.z=r,this.w=n}return Quaternion.prototype.toString=function(){return"{X: "+this.x+" Y:"+this.y+" Z:"+this.z+" W:"+this.w+"}"},Quaternion.prototype.getClassName=function(){return"Quaternion"},Quaternion.prototype.getHashCode=function(){var t=this.x||0;return t=397*(t=397*(t=397*t^(this.y||0))^(this.z||0))^(this.w||0)},Quaternion.prototype.asArray=function(){return[this.x,this.y,this.z,this.w]},Quaternion.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},Quaternion.prototype.clone=function(){return new Quaternion(this.x,this.y,this.z,this.w)},Quaternion.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},Quaternion.prototype.copyFromFloats=function(t,e,r,n){return this.x=t,this.y=e,this.z=r,this.w=n,this},Quaternion.prototype.set=function(t,e,r,n){return this.copyFromFloats(t,e,r,n)},Quaternion.prototype.add=function(t){return new Quaternion(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)},Quaternion.prototype.addInPlace=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this},Quaternion.prototype.subtract=function(t){return new Quaternion(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)},Quaternion.prototype.scale=function(t){return new Quaternion(this.x*t,this.y*t,this.z*t,this.w*t)},Quaternion.prototype.scaleToRef=function(t,e){return e.x=this.x*t,e.y=this.y*t,e.z=this.z*t,e.w=this.w*t,this},Quaternion.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},Quaternion.prototype.scaleAndAddToRef=function(t,e){return e.x+=this.x*t,e.y+=this.y*t,e.z+=this.z*t,e.w+=this.w*t,this},Quaternion.prototype.multiply=function(t){var e=new Quaternion(0,0,0,1);return this.multiplyToRef(t,e),e},Quaternion.prototype.multiplyToRef=function(t,e){var r=this.x*t.w+this.y*t.z-this.z*t.y+this.w*t.x,n=-this.x*t.z+this.y*t.w+this.z*t.x+this.w*t.y,o=this.x*t.y-this.y*t.x+this.z*t.w+this.w*t.z,i=-this.x*t.x-this.y*t.y-this.z*t.z+this.w*t.w;return e.copyFromFloats(r,n,o,i),this},Quaternion.prototype.multiplyInPlace=function(t){return this.multiplyToRef(t,this),this},Quaternion.prototype.conjugateToRef=function(t){return t.copyFromFloats(-this.x,-this.y,-this.z,this.w),this},Quaternion.prototype.conjugateInPlace=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},Quaternion.prototype.conjugate=function(){return new Quaternion(-this.x,-this.y,-this.z,this.w)},Quaternion.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},Quaternion.prototype.normalize=function(){var t=this.length();if(0===t)return this;var e=1/t;return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},Quaternion.prototype.toEulerAngles=function(t){void 0===t&&(t="YZX");var e=a.Zero();return this.toEulerAnglesToRef(e),e},Quaternion.prototype.toEulerAnglesToRef=function(t){var e=this.z,r=this.x,n=this.y,o=this.w,i=o*o,a=e*e,s=r*r,u=n*n,c=n*e-r*o;return c<-.4999999?(t.y=2*Math.atan2(n,o),t.x=Math.PI/2,t.z=0):c>.4999999?(t.y=2*Math.atan2(n,o),t.x=-Math.PI/2,t.z=0):(t.z=Math.atan2(2*(r*n+e*o),-a-s+u+i),t.x=Math.asin(-2*(e*n-r*o)),t.y=Math.atan2(2*(e*r+n*o),a-s-u+i)),this},Quaternion.prototype.toRotationMatrix=function(t){return l.FromQuaternionToRef(this,t),this},Quaternion.prototype.fromRotationMatrix=function(t){return Quaternion.FromRotationMatrixToRef(t,this),this},Quaternion.FromRotationMatrix=function(t){var e=new Quaternion;return Quaternion.FromRotationMatrixToRef(t,e),e},Quaternion.FromRotationMatrixToRef=function(t,e){var r,n=t.m,o=n[0],i=n[4],a=n[8],s=n[1],u=n[5],c=n[9],l=n[2],f=n[6],h=n[10],p=o+u+h;p>0?(r=.5/Math.sqrt(p+1),e.w=.25/r,e.x=(f-c)*r,e.y=(a-l)*r,e.z=(s-i)*r):o>u&&o>h?(r=2*Math.sqrt(1+o-u-h),e.w=(f-c)/r,e.x=.25*r,e.y=(i+s)/r,e.z=(a+l)/r):u>h?(r=2*Math.sqrt(1+u-o-h),e.w=(a-l)/r,e.x=(i+s)/r,e.y=.25*r,e.z=(c+f)/r):(r=2*Math.sqrt(1+h-o-u),e.w=(s-i)/r,e.x=(a+l)/r,e.y=(c+f)/r,e.z=.25*r)},Quaternion.Dot=function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w},Quaternion.AreClose=function(t,e){return Quaternion.Dot(t,e)>=0},Quaternion.Zero=function(){return new Quaternion(0,0,0,0)},Quaternion.Inverse=function(t){return new Quaternion(-t.x,-t.y,-t.z,t.w)},Quaternion.InverseToRef=function(t,e){return e.set(-t.x,-t.y,-t.z,t.w),e},Quaternion.Identity=function(){return new Quaternion(0,0,0,1)},Quaternion.IsIdentity=function(t){return t&&0===t.x&&0===t.y&&0===t.z&&1===t.w},Quaternion.RotationAxis=function(t,e){return Quaternion.RotationAxisToRef(t,e,new Quaternion)},Quaternion.RotationAxisToRef=function(t,e,r){var n=Math.sin(e/2);return t.normalize(),r.w=Math.cos(e/2),r.x=t.x*n,r.y=t.y*n,r.z=t.z*n,r},Quaternion.FromArray=function(t,e){return e||(e=0),new Quaternion(t[e],t[e+1],t[e+2],t[e+3])},Quaternion.FromEulerAngles=function(t,e,r){var n=new Quaternion;return Quaternion.RotationYawPitchRollToRef(e,t,r,n),n},Quaternion.FromEulerAnglesToRef=function(t,e,r,n){return Quaternion.RotationYawPitchRollToRef(e,t,r,n),n},Quaternion.FromEulerVector=function(t){var e=new Quaternion;return Quaternion.RotationYawPitchRollToRef(t.y,t.x,t.z,e),e},Quaternion.FromEulerVectorToRef=function(t,e){return Quaternion.RotationYawPitchRollToRef(t.y,t.x,t.z,e),e},Quaternion.RotationYawPitchRoll=function(t,e,r){var n=new Quaternion;return Quaternion.RotationYawPitchRollToRef(t,e,r,n),n},Quaternion.RotationYawPitchRollToRef=function(t,e,r,n){var o=.5*r,i=.5*e,a=.5*t,s=Math.sin(o),u=Math.cos(o),c=Math.sin(i),l=Math.cos(i),f=Math.sin(a),h=Math.cos(a);n.x=h*c*u+f*l*s,n.y=f*l*u-h*c*s,n.z=h*l*s-f*c*u,n.w=h*l*u+f*c*s},Quaternion.RotationAlphaBetaGamma=function(t,e,r){var n=new Quaternion;return Quaternion.RotationAlphaBetaGammaToRef(t,e,r,n),n},Quaternion.RotationAlphaBetaGammaToRef=function(t,e,r,n){var o=.5*(r+t),i=.5*(r-t),a=.5*e;n.x=Math.cos(i)*Math.sin(a),n.y=Math.sin(i)*Math.sin(a),n.z=Math.sin(o)*Math.cos(a),n.w=Math.cos(o)*Math.cos(a)},Quaternion.RotationQuaternionFromAxis=function(t,e,r){var n=new Quaternion(0,0,0,0);return Quaternion.RotationQuaternionFromAxisToRef(t,e,r,n),n},Quaternion.RotationQuaternionFromAxisToRef=function(t,e,r,n){var o=d.Matrix[0];l.FromXYZAxesToRef(t.normalize(),e.normalize(),r.normalize(),o),Quaternion.FromRotationMatrixToRef(o,n)},Quaternion.Slerp=function(t,e,r){var n=Quaternion.Identity();return Quaternion.SlerpToRef(t,e,r,n),n},Quaternion.SlerpToRef=function(t,e,r,n){var o,i,a=t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w,s=!1;if(a<0&&(s=!0,a=-a),a>.999999)i=1-r,o=s?-r:r;else{var u=Math.acos(a),c=1/Math.sin(u);i=Math.sin((1-r)*u)*c,o=s?-Math.sin(r*u)*c:Math.sin(r*u)*c}n.x=i*t.x+o*e.x,n.y=i*t.y+o*e.y,n.z=i*t.z+o*e.z,n.w=i*t.w+o*e.w},Quaternion.Hermite=function(t,e,r,n,o){var i=o*o,a=o*i,s=2*a-3*i+1,u=-2*a+3*i,c=a-2*i+o,l=a-i;return new Quaternion(t.x*s+r.x*u+e.x*c+n.x*l,t.y*s+r.y*u+e.y*c+n.y*l,t.z*s+r.z*u+e.z*c+n.z*l,t.w*s+r.w*u+e.w*c+n.w*l)},Quaternion}(),l=function(){function Matrix(){this._isIdentity=!1,this._isIdentityDirty=!0,this._isIdentity3x2=!0,this._isIdentity3x2Dirty=!0,this.updateFlag=-1,this._m=new Float32Array(16),this._updateIdentityStatus(!1)}return Object.defineProperty(Matrix.prototype,"m",{get:function(){return this._m},enumerable:!0,configurable:!0}),Matrix.prototype._markAsUpdated=function(){this.updateFlag=Matrix._updateFlagSeed++,this._isIdentity=!1,this._isIdentity3x2=!1,this._isIdentityDirty=!0,this._isIdentity3x2Dirty=!0},Matrix.prototype._updateIdentityStatus=function(t,e,r,n){void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===n&&(n=!0),this.updateFlag=Matrix._updateFlagSeed++,this._isIdentity=t,this._isIdentity3x2=t||r,this._isIdentityDirty=!this._isIdentity&&e,this._isIdentity3x2Dirty=!this._isIdentity3x2&&n},Matrix.prototype.isIdentity=function(){if(this._isIdentityDirty){this._isIdentityDirty=!1;var t=this._m;this._isIdentity=1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&0===t[12]&&0===t[13]&&0===t[14]&&1===t[15]}return this._isIdentity},Matrix.prototype.isIdentityAs3x2=function(){return this._isIdentity3x2Dirty&&(this._isIdentity3x2Dirty=!1,1!==this._m[0]||1!==this._m[5]||1!==this._m[15]?this._isIdentity3x2=!1:0!==this._m[1]||0!==this._m[2]||0!==this._m[3]||0!==this._m[4]||0!==this._m[6]||0!==this._m[7]||0!==this._m[8]||0!==this._m[9]||0!==this._m[10]||0!==this._m[11]||0!==this._m[12]||0!==this._m[13]||0!==this._m[14]?this._isIdentity3x2=!1:this._isIdentity3x2=!0),this._isIdentity3x2},Matrix.prototype.determinant=function(){if(!0===this._isIdentity)return 1;var t=this._m,e=t[0],r=t[1],n=t[2],o=t[3],i=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],h=t[11],p=t[12],y=t[13],d=t[14],g=t[15],v=f*g-d*h,m=l*g-y*h,_=l*d-y*f,b=c*g-p*h,T=c*d-f*p,A=c*y-p*l;return e*+(a*v-s*m+u*_)+r*-(i*v-s*b+u*T)+n*+(i*m-a*b+u*A)+o*-(i*_-a*T+s*A)},Matrix.prototype.toArray=function(){return this._m},Matrix.prototype.asArray=function(){return this._m},Matrix.prototype.invert=function(){return this.invertToRef(this),this},Matrix.prototype.reset=function(){return Matrix.FromValuesToRef(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,this),this._updateIdentityStatus(!1),this},Matrix.prototype.add=function(t){var e=new Matrix;return this.addToRef(t,e),e},Matrix.prototype.addToRef=function(t,e){for(var r=this._m,n=e._m,o=t.m,i=0;i<16;i++)n[i]=r[i]+o[i];return e._markAsUpdated(),this},Matrix.prototype.addToSelf=function(t){for(var e=this._m,r=t.m,n=0;n<16;n++)e[n]+=r[n];return this._markAsUpdated(),this},Matrix.prototype.invertToRef=function(t){if(!0===this._isIdentity)return Matrix.IdentityToRef(t),this;var e=this._m,r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],p=e[11],y=e[12],d=e[13],g=e[14],v=e[15],m=h*v-g*p,_=f*v-d*p,b=f*g-d*h,T=l*v-y*p,A=l*g-h*y,x=l*d-y*f,C=+(s*m-u*_+c*b),R=-(a*m-u*T+c*A),I=+(a*_-s*T+c*x),w=-(a*b-s*A+u*x),E=r*C+n*R+o*I+i*w;if(0===E)return t.copyFrom(this),this;var O=1/E,P=u*v-g*c,M=s*v-d*c,L=s*g-d*u,S=a*v-y*c,F=a*g-y*u,N=a*d-y*s,z=u*p-h*c,V=s*p-f*c,k=s*h-f*u,j=a*p-l*c,U=a*h-l*u,D=a*f-l*s,K=-(n*m-o*_+i*b),B=+(r*m-o*T+i*A),W=-(r*_-n*T+i*x),q=+(r*b-n*A+o*x),G=+(n*P-o*M+i*L),H=-(r*P-o*S+i*F),Q=+(r*M-n*S+i*N),Y=-(r*L-n*F+o*N),X=-(n*z-o*V+i*k),Z=+(r*z-o*j+i*U),$=-(r*V-n*j+i*D),J=+(r*k-n*U+o*D);return Matrix.FromValuesToRef(C*O,K*O,G*O,X*O,R*O,B*O,H*O,Z*O,I*O,W*O,Q*O,$*O,w*O,q*O,Y*O,J*O,t),this},Matrix.prototype.addAtIndex=function(t,e){return this._m[t]+=e,this._markAsUpdated(),this},Matrix.prototype.multiplyAtIndex=function(t,e){return this._m[t]*=e,this._markAsUpdated(),this},Matrix.prototype.setTranslationFromFloats=function(t,e,r){return this._m[12]=t,this._m[13]=e,this._m[14]=r,this._markAsUpdated(),this},Matrix.prototype.addTranslationFromFloats=function(t,e,r){return this._m[12]+=t,this._m[13]+=e,this._m[14]+=r,this._markAsUpdated(),this},Matrix.prototype.setTranslation=function(t){return this.setTranslationFromFloats(t.x,t.y,t.z)},Matrix.prototype.getTranslation=function(){return new a(this._m[12],this._m[13],this._m[14])},Matrix.prototype.getTranslationToRef=function(t){return t.x=this._m[12],t.y=this._m[13],t.z=this._m[14],this},Matrix.prototype.removeRotationAndScaling=function(){var t=this.m;return Matrix.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,t[12],t[13],t[14],t[15],this),this._updateIdentityStatus(0===t[12]&&0===t[13]&&0===t[14]&&1===t[15]),this},Matrix.prototype.multiply=function(t){var e=new Matrix;return this.multiplyToRef(t,e),e},Matrix.prototype.copyFrom=function(t){t.copyToArray(this._m);var e=t;return this._updateIdentityStatus(e._isIdentity,e._isIdentityDirty,e._isIdentity3x2,e._isIdentity3x2Dirty),this},Matrix.prototype.copyToArray=function(t,e){void 0===e&&(e=0);for(var r=0;r<16;r++)t[e+r]=this._m[r];return this},Matrix.prototype.multiplyToRef=function(t,e){return this._isIdentity?(e.copyFrom(t),this):t._isIdentity?(e.copyFrom(this),this):(this.multiplyToArray(t,e._m,0),e._markAsUpdated(),this)},Matrix.prototype.multiplyToArray=function(t,e,r){var n=this._m,o=t.m,i=n[0],a=n[1],s=n[2],u=n[3],c=n[4],l=n[5],f=n[6],h=n[7],p=n[8],y=n[9],d=n[10],g=n[11],v=n[12],m=n[13],_=n[14],b=n[15],T=o[0],A=o[1],x=o[2],C=o[3],R=o[4],I=o[5],w=o[6],E=o[7],O=o[8],P=o[9],M=o[10],L=o[11],S=o[12],F=o[13],N=o[14],z=o[15];return e[r]=i*T+a*R+s*O+u*S,e[r+1]=i*A+a*I+s*P+u*F,e[r+2]=i*x+a*w+s*M+u*N,e[r+3]=i*C+a*E+s*L+u*z,e[r+4]=c*T+l*R+f*O+h*S,e[r+5]=c*A+l*I+f*P+h*F,e[r+6]=c*x+l*w+f*M+h*N,e[r+7]=c*C+l*E+f*L+h*z,e[r+8]=p*T+y*R+d*O+g*S,e[r+9]=p*A+y*I+d*P+g*F,e[r+10]=p*x+y*w+d*M+g*N,e[r+11]=p*C+y*E+d*L+g*z,e[r+12]=v*T+m*R+_*O+b*S,e[r+13]=v*A+m*I+_*P+b*F,e[r+14]=v*x+m*w+_*M+b*N,e[r+15]=v*C+m*E+_*L+b*z,this},Matrix.prototype.equals=function(t){var e=t;if(!e)return!1;if((this._isIdentity||e._isIdentity)&&!this._isIdentityDirty&&!e._isIdentityDirty)return this._isIdentity&&e._isIdentity;var r=this.m,n=e.m;return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]===n[3]&&r[4]===n[4]&&r[5]===n[5]&&r[6]===n[6]&&r[7]===n[7]&&r[8]===n[8]&&r[9]===n[9]&&r[10]===n[10]&&r[11]===n[11]&&r[12]===n[12]&&r[13]===n[13]&&r[14]===n[14]&&r[15]===n[15]},Matrix.prototype.clone=function(){var t=new Matrix;return t.copyFrom(this),t},Matrix.prototype.getClassName=function(){return"Matrix"},Matrix.prototype.getHashCode=function(){for(var t=this._m[0]||0,e=1;e<16;e++)t=397*t^(this._m[e]||0);return t},Matrix.prototype.decompose=function(t,e,r){if(this._isIdentity)return r&&r.setAll(0),t&&t.setAll(1),e&&e.copyFromFloats(0,0,0,1),!0;var n=this._m;if(r&&r.copyFromFloats(n[12],n[13],n[14]),(t=t||d.Vector3[0]).x=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]),t.y=Math.sqrt(n[4]*n[4]+n[5]*n[5]+n[6]*n[6]),t.z=Math.sqrt(n[8]*n[8]+n[9]*n[9]+n[10]*n[10]),this.determinant()<=0&&(t.y*=-1),0===t.x||0===t.y||0===t.z)return e&&e.copyFromFloats(0,0,0,1),!1;if(e){var o=1/t.x,i=1/t.y,a=1/t.z;Matrix.FromValuesToRef(n[0]*o,n[1]*o,n[2]*o,0,n[4]*i,n[5]*i,n[6]*i,0,n[8]*a,n[9]*a,n[10]*a,0,0,0,0,1,d.Matrix[0]),c.FromRotationMatrixToRef(d.Matrix[0],e)}return!0},Matrix.prototype.getRow=function(t){if(t<0||t>3)return null;var e=4*t;return new s(this._m[e+0],this._m[e+1],this._m[e+2],this._m[e+3])},Matrix.prototype.setRow=function(t,e){return this.setRowFromFloats(t,e.x,e.y,e.z,e.w)},Matrix.prototype.transpose=function(){return Matrix.Transpose(this)},Matrix.prototype.transposeToRef=function(t){return Matrix.TransposeToRef(this,t),this},Matrix.prototype.setRowFromFloats=function(t,e,r,n,o){if(t<0||t>3)return this;var i=4*t;return this._m[i+0]=e,this._m[i+1]=r,this._m[i+2]=n,this._m[i+3]=o,this._markAsUpdated(),this},Matrix.prototype.scale=function(t){var e=new Matrix;return this.scaleToRef(t,e),e},Matrix.prototype.scaleToRef=function(t,e){for(var r=0;r<16;r++)e._m[r]=this._m[r]*t;return e._markAsUpdated(),this},Matrix.prototype.scaleAndAddToRef=function(t,e){for(var r=0;r<16;r++)e._m[r]+=this._m[r]*t;return e._markAsUpdated(),this},Matrix.prototype.toNormalMatrix=function(t){var e=d.Matrix[0];this.invertToRef(e),e.transposeToRef(t);var r=t._m;Matrix.FromValuesToRef(r[0],r[1],r[2],0,r[4],r[5],r[6],0,r[8],r[9],r[10],0,0,0,0,1,t)},Matrix.prototype.getRotationMatrix=function(){var t=new Matrix;return this.getRotationMatrixToRef(t),t},Matrix.prototype.getRotationMatrixToRef=function(t){var e=d.Vector3[0];if(!this.decompose(e))return Matrix.IdentityToRef(t),this;var r=this._m,n=1/e.x,o=1/e.y,i=1/e.z;return Matrix.FromValuesToRef(r[0]*n,r[1]*n,r[2]*n,0,r[4]*o,r[5]*o,r[6]*o,0,r[8]*i,r[9]*i,r[10]*i,0,0,0,0,1,t),this},Matrix.prototype.toggleModelMatrixHandInPlace=function(){var t=this._m;t[2]*=-1,t[6]*=-1,t[8]*=-1,t[9]*=-1,t[14]*=-1,this._markAsUpdated()},Matrix.prototype.toggleProjectionMatrixHandInPlace=function(){var t=this._m;t[8]*=-1,t[9]*=-1,t[10]*=-1,t[11]*=-1,this._markAsUpdated()},Matrix.FromArray=function(t,e){void 0===e&&(e=0);var r=new Matrix;return Matrix.FromArrayToRef(t,e,r),r},Matrix.FromArrayToRef=function(t,e,r){for(var n=0;n<16;n++)r._m[n]=t[n+e];r._markAsUpdated()},Matrix.FromFloat32ArrayToRefScaled=function(t,e,r,n){for(var o=0;o<16;o++)n._m[o]=t[o+e]*r;n._markAsUpdated()},Object.defineProperty(Matrix,"IdentityReadOnly",{get:function(){return Matrix._identityReadOnly},enumerable:!0,configurable:!0}),Matrix.FromValuesToRef=function(t,e,r,n,o,i,a,s,u,c,l,f,h,p,y,d,g){var v=g._m;v[0]=t,v[1]=e,v[2]=r,v[3]=n,v[4]=o,v[5]=i,v[6]=a,v[7]=s,v[8]=u,v[9]=c,v[10]=l,v[11]=f,v[12]=h,v[13]=p,v[14]=y,v[15]=d,g._markAsUpdated()},Matrix.FromValues=function(t,e,r,n,o,i,a,s,u,c,l,f,h,p,y,d){var g=new Matrix,v=g._m;return v[0]=t,v[1]=e,v[2]=r,v[3]=n,v[4]=o,v[5]=i,v[6]=a,v[7]=s,v[8]=u,v[9]=c,v[10]=l,v[11]=f,v[12]=h,v[13]=p,v[14]=y,v[15]=d,g._markAsUpdated(),g},Matrix.Compose=function(t,e,r){var n=new Matrix;return Matrix.ComposeToRef(t,e,r,n),n},Matrix.ComposeToRef=function(t,e,r,n){var o=n._m,i=e.x,a=e.y,s=e.z,u=e.w,c=i+i,l=a+a,f=s+s,h=i*c,p=i*l,y=i*f,d=a*l,g=a*f,v=s*f,m=u*c,_=u*l,b=u*f,T=t.x,A=t.y,x=t.z;o[0]=(1-(d+v))*T,o[1]=(p+b)*T,o[2]=(y-_)*T,o[3]=0,o[4]=(p-b)*A,o[5]=(1-(h+v))*A,o[6]=(g+m)*A,o[7]=0,o[8]=(y+_)*x,o[9]=(g-m)*x,o[10]=(1-(h+d))*x,o[11]=0,o[12]=r.x,o[13]=r.y,o[14]=r.z,o[15]=1,n._markAsUpdated()},Matrix.Identity=function(){var t=Matrix.FromValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return t._updateIdentityStatus(!0),t},Matrix.IdentityToRef=function(t){Matrix.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,t),t._updateIdentityStatus(!0)},Matrix.Zero=function(){var t=Matrix.FromValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return t._updateIdentityStatus(!1),t},Matrix.RotationX=function(t){var e=new Matrix;return Matrix.RotationXToRef(t,e),e},Matrix.Invert=function(t){var e=new Matrix;return t.invertToRef(e),e},Matrix.RotationXToRef=function(t,e){var r=Math.sin(t),n=Math.cos(t);Matrix.FromValuesToRef(1,0,0,0,0,n,r,0,0,-r,n,0,0,0,0,1,e),e._updateIdentityStatus(1===n&&0===r)},Matrix.RotationY=function(t){var e=new Matrix;return Matrix.RotationYToRef(t,e),e},Matrix.RotationYToRef=function(t,e){var r=Math.sin(t),n=Math.cos(t);Matrix.FromValuesToRef(n,0,-r,0,0,1,0,0,r,0,n,0,0,0,0,1,e),e._updateIdentityStatus(1===n&&0===r)},Matrix.RotationZ=function(t){var e=new Matrix;return Matrix.RotationZToRef(t,e),e},Matrix.RotationZToRef=function(t,e){var r=Math.sin(t),n=Math.cos(t);Matrix.FromValuesToRef(n,r,0,0,-r,n,0,0,0,0,1,0,0,0,0,1,e),e._updateIdentityStatus(1===n&&0===r)},Matrix.RotationAxis=function(t,e){var r=new Matrix;return Matrix.RotationAxisToRef(t,e,r),r},Matrix.RotationAxisToRef=function(t,e,r){var n=Math.sin(-e),o=Math.cos(-e),i=1-o;t.normalize();var a=r._m;a[0]=t.x*t.x*i+o,a[1]=t.x*t.y*i-t.z*n,a[2]=t.x*t.z*i+t.y*n,a[3]=0,a[4]=t.y*t.x*i+t.z*n,a[5]=t.y*t.y*i+o,a[6]=t.y*t.z*i-t.x*n,a[7]=0,a[8]=t.z*t.x*i-t.y*n,a[9]=t.z*t.y*i+t.x*n,a[10]=t.z*t.z*i+o,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,r._markAsUpdated()},Matrix.RotationAlignToRef=function(t,e,r){var n=a.Cross(e,t),o=a.Dot(e,t),i=1/(1+o),s=r._m;s[0]=n.x*n.x*i+o,s[1]=n.y*n.x*i-n.z,s[2]=n.z*n.x*i+n.y,s[3]=0,s[4]=n.x*n.y*i+n.z,s[5]=n.y*n.y*i+o,s[6]=n.z*n.y*i-n.x,s[7]=0,s[8]=n.x*n.z*i-n.y,s[9]=n.y*n.z*i+n.x,s[10]=n.z*n.z*i+o,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,r._markAsUpdated()},Matrix.RotationYawPitchRoll=function(t,e,r){var n=new Matrix;return Matrix.RotationYawPitchRollToRef(t,e,r,n),n},Matrix.RotationYawPitchRollToRef=function(t,e,r,n){c.RotationYawPitchRollToRef(t,e,r,d.Quaternion[0]),d.Quaternion[0].toRotationMatrix(n)},Matrix.Scaling=function(t,e,r){var n=new Matrix;return Matrix.ScalingToRef(t,e,r,n),n},Matrix.ScalingToRef=function(t,e,r,n){Matrix.FromValuesToRef(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1,n),n._updateIdentityStatus(1===t&&1===e&&1===r)},Matrix.Translation=function(t,e,r){var n=new Matrix;return Matrix.TranslationToRef(t,e,r,n),n},Matrix.TranslationToRef=function(t,e,r,n){Matrix.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1,n),n._updateIdentityStatus(0===t&&0===e&&0===r)},Matrix.Lerp=function(t,e,r){var n=new Matrix;return Matrix.LerpToRef(t,e,r,n),n},Matrix.LerpToRef=function(t,e,r,n){for(var o=n._m,i=t.m,a=e.m,s=0;s<16;s++)o[s]=i[s]*(1-r)+a[s]*r;n._markAsUpdated()},Matrix.DecomposeLerp=function(t,e,r){var n=new Matrix;return Matrix.DecomposeLerpToRef(t,e,r,n),n},Matrix.DecomposeLerpToRef=function(t,e,r,n){var o=d.Vector3[0],i=d.Quaternion[0],s=d.Vector3[1];t.decompose(o,i,s);var u=d.Vector3[2],l=d.Quaternion[1],f=d.Vector3[3];e.decompose(u,l,f);var h=d.Vector3[4];a.LerpToRef(o,u,r,h);var p=d.Quaternion[2];c.SlerpToRef(i,l,r,p);var y=d.Vector3[5];a.LerpToRef(s,f,r,y),Matrix.ComposeToRef(h,p,y,n)},Matrix.LookAtLH=function(t,e,r){var n=new Matrix;return Matrix.LookAtLHToRef(t,e,r,n),n},Matrix.LookAtLHToRef=function(t,e,r,n){var o=d.Vector3[0],i=d.Vector3[1],s=d.Vector3[2];e.subtractToRef(t,s),s.normalize(),a.CrossToRef(r,s,o);var u=o.lengthSquared();0===u?o.x=1:o.normalizeFromLength(Math.sqrt(u)),a.CrossToRef(s,o,i),i.normalize();var c=-a.Dot(o,t),l=-a.Dot(i,t),f=-a.Dot(s,t);Matrix.FromValuesToRef(o.x,i.x,s.x,0,o.y,i.y,s.y,0,o.z,i.z,s.z,0,c,l,f,1,n)},Matrix.LookAtRH=function(t,e,r){var n=new Matrix;return Matrix.LookAtRHToRef(t,e,r,n),n},Matrix.LookAtRHToRef=function(t,e,r,n){var o=d.Vector3[0],i=d.Vector3[1],s=d.Vector3[2];t.subtractToRef(e,s),s.normalize(),a.CrossToRef(r,s,o);var u=o.lengthSquared();0===u?o.x=1:o.normalizeFromLength(Math.sqrt(u)),a.CrossToRef(s,o,i),i.normalize();var c=-a.Dot(o,t),l=-a.Dot(i,t),f=-a.Dot(s,t);Matrix.FromValuesToRef(o.x,i.x,s.x,0,o.y,i.y,s.y,0,o.z,i.z,s.z,0,c,l,f,1,n)},Matrix.OrthoLH=function(t,e,r,n){var o=new Matrix;return Matrix.OrthoLHToRef(t,e,r,n,o),o},Matrix.OrthoLHToRef=function(t,e,r,n,o){var i=2/t,a=2/e,s=2/(n-r),u=-(n+r)/(n-r);Matrix.FromValuesToRef(i,0,0,0,0,a,0,0,0,0,s,0,0,0,u,1,o),o._updateIdentityStatus(1===i&&1===a&&1===s&&0===u)},Matrix.OrthoOffCenterLH=function(t,e,r,n,o,i){var a=new Matrix;return Matrix.OrthoOffCenterLHToRef(t,e,r,n,o,i,a),a},Matrix.OrthoOffCenterLHToRef=function(t,e,r,n,o,i,a){var s=2/(e-t),u=2/(n-r),c=2/(i-o),l=-(i+o)/(i-o),f=(t+e)/(t-e),h=(n+r)/(r-n);Matrix.FromValuesToRef(s,0,0,0,0,u,0,0,0,0,c,0,f,h,l,1,a),a._markAsUpdated()},Matrix.OrthoOffCenterRH=function(t,e,r,n,o,i){var a=new Matrix;return Matrix.OrthoOffCenterRHToRef(t,e,r,n,o,i,a),a},Matrix.OrthoOffCenterRHToRef=function(t,e,r,n,o,i,a){Matrix.OrthoOffCenterLHToRef(t,e,r,n,o,i,a),a._m[10]*=-1},Matrix.PerspectiveLH=function(t,e,r,n){var o=new Matrix,i=2*r/t,a=2*r/e,s=(n+r)/(n-r),u=-2*n*r/(n-r);return Matrix.FromValuesToRef(i,0,0,0,0,a,0,0,0,0,s,1,0,0,u,0,o),o._updateIdentityStatus(!1),o},Matrix.PerspectiveFovLH=function(t,e,r,n){var o=new Matrix;return Matrix.PerspectiveFovLHToRef(t,e,r,n,o),o},Matrix.PerspectiveFovLHToRef=function(t,e,r,n,o,i){void 0===i&&(i=!0);var a=r,s=n,u=1/Math.tan(.5*t),c=i?u/e:u,l=i?u:u*e,f=(s+a)/(s-a),h=-2*s*a/(s-a);Matrix.FromValuesToRef(c,0,0,0,0,l,0,0,0,0,f,1,0,0,h,0,o),o._updateIdentityStatus(!1)},Matrix.PerspectiveFovRH=function(t,e,r,n){var o=new Matrix;return Matrix.PerspectiveFovRHToRef(t,e,r,n,o),o},Matrix.PerspectiveFovRHToRef=function(t,e,r,n,o,i){void 0===i&&(i=!0);var a=r,s=n,u=1/Math.tan(.5*t),c=i?u/e:u,l=i?u:u*e,f=-(s+a)/(s-a),h=-2*s*a/(s-a);Matrix.FromValuesToRef(c,0,0,0,0,l,0,0,0,0,f,-1,0,0,h,0,o),o._updateIdentityStatus(!1)},Matrix.PerspectiveFovWebVRToRef=function(t,e,r,n,o){void 0===o&&(o=!1);var i=o?-1:1,a=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),u=Math.tan(t.leftDegrees*Math.PI/180),c=Math.tan(t.rightDegrees*Math.PI/180),l=2/(u+c),f=2/(a+s),h=n._m;h[0]=l,h[1]=h[2]=h[3]=h[4]=0,h[5]=f,h[6]=h[7]=0,h[8]=(u-c)*l*.5,h[9]=-(a-s)*f*.5,h[10]=-r/(e-r),h[11]=1*i,h[12]=h[13]=h[15]=0,h[14]=-2*r*e/(r-e),n._markAsUpdated()},Matrix.GetFinalMatrix=function(t,e,r,n,o,i){var a=t.width,s=t.height,u=t.x,c=t.y,l=Matrix.FromValues(a/2,0,0,0,0,-s/2,0,0,0,0,i-o,0,u+a/2,s/2+c,o,1),f=d.Matrix[0];return e.multiplyToRef(r,f),f.multiplyToRef(n,f),f.multiply(l)},Matrix.GetAsMatrix2x2=function(t){var e=t.m;return new Float32Array([e[0],e[1],e[4],e[5]])},Matrix.GetAsMatrix3x3=function(t){var e=t.m;return new Float32Array([e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]])},Matrix.Transpose=function(t){var e=new Matrix;return Matrix.TransposeToRef(t,e),e},Matrix.TransposeToRef=function(t,e){var r=e._m,n=t.m;r[0]=n[0],r[1]=n[4],r[2]=n[8],r[3]=n[12],r[4]=n[1],r[5]=n[5],r[6]=n[9],r[7]=n[13],r[8]=n[2],r[9]=n[6],r[10]=n[10],r[11]=n[14],r[12]=n[3],r[13]=n[7],r[14]=n[11],r[15]=n[15],e._updateIdentityStatus(t._isIdentity,t._isIdentityDirty)},Matrix.Reflection=function(t){var e=new Matrix;return Matrix.ReflectionToRef(t,e),e},Matrix.ReflectionToRef=function(t,e){t.normalize();var r=t.normal.x,n=t.normal.y,o=t.normal.z,i=-2*r,a=-2*n,s=-2*o;Matrix.FromValuesToRef(i*r+1,a*r,s*r,0,i*n,a*n+1,s*n,0,i*o,a*o,s*o+1,0,i*t.d,a*t.d,s*t.d,1,e)},Matrix.FromXYZAxesToRef=function(t,e,r,n){Matrix.FromValuesToRef(t.x,t.y,t.z,0,e.x,e.y,e.z,0,r.x,r.y,r.z,0,0,0,0,1,n)},Matrix.FromQuaternionToRef=function(t,e){var r=t.x*t.x,n=t.y*t.y,o=t.z*t.z,i=t.x*t.y,a=t.z*t.w,s=t.z*t.x,u=t.y*t.w,c=t.y*t.z,l=t.x*t.w;e._m[0]=1-2*(n+o),e._m[1]=2*(i+a),e._m[2]=2*(s-u),e._m[3]=0,e._m[4]=2*(i-a),e._m[5]=1-2*(o+r),e._m[6]=2*(c+l),e._m[7]=0,e._m[8]=2*(s+u),e._m[9]=2*(c-l),e._m[10]=1-2*(n+r),e._m[11]=0,e._m[12]=0,e._m[13]=0,e._m[14]=0,e._m[15]=1,e._markAsUpdated()},Matrix._updateFlagSeed=0,Matrix._identityReadOnly=Matrix.Identity(),Matrix}(),f=function(){function Plane(t,e,r,n){this.normal=new a(t,e,r),this.d=n}return Plane.prototype.asArray=function(){return[this.normal.x,this.normal.y,this.normal.z,this.d]},Plane.prototype.clone=function(){return new Plane(this.normal.x,this.normal.y,this.normal.z,this.d)},Plane.prototype.getClassName=function(){return"Plane"},Plane.prototype.getHashCode=function(){var t=this.normal.getHashCode();return t=397*t^(this.d||0)},Plane.prototype.normalize=function(){var t=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z),e=0;return 0!==t&&(e=1/t),this.normal.x*=e,this.normal.y*=e,this.normal.z*=e,this.d*=e,this},Plane.prototype.transform=function(t){var e=d.Matrix[0];l.TransposeToRef(t,e);var r=e.m,n=this.normal.x,o=this.normal.y,i=this.normal.z,a=this.d;return new Plane(n*r[0]+o*r[1]+i*r[2]+a*r[3],n*r[4]+o*r[5]+i*r[6]+a*r[7],n*r[8]+o*r[9]+i*r[10]+a*r[11],n*r[12]+o*r[13]+i*r[14]+a*r[15])},Plane.prototype.dotCoordinate=function(t){return this.normal.x*t.x+this.normal.y*t.y+this.normal.z*t.z+this.d},Plane.prototype.copyFromPoints=function(t,e,r){var n,o=e.x-t.x,i=e.y-t.y,a=e.z-t.z,s=r.x-t.x,u=r.y-t.y,c=r.z-t.z,l=i*c-a*u,f=a*s-o*c,h=o*u-i*s,p=Math.sqrt(l*l+f*f+h*h);return n=0!==p?1/p:0,this.normal.x=l*n,this.normal.y=f*n,this.normal.z=h*n,this.d=-(this.normal.x*t.x+this.normal.y*t.y+this.normal.z*t.z),this},Plane.prototype.isFrontFacingTo=function(t,e){return a.Dot(this.normal,t)<=e},Plane.prototype.signedDistanceTo=function(t){return a.Dot(t,this.normal)+this.d},Plane.FromArray=function(t){return new Plane(t[0],t[1],t[2],t[3])},Plane.FromPoints=function(t,e,r){var n=new Plane(0,0,0,0);return n.copyFromPoints(t,e,r),n},Plane.FromPositionAndNormal=function(t,e){var r=new Plane(0,0,0,0);return e.normalize(),r.normal=e,r.d=-(e.x*t.x+e.y*t.y+e.z*t.z),r},Plane.SignedDistanceToPlaneFromPositionAndNormal=function(t,e,r){var n=-(e.x*t.x+e.y*t.y+e.z*t.z);return a.Dot(r,e)+n},Plane}();(function(){function Viewport(t,e,r,n){this.x=t,this.y=e,this.width=r,this.height=n}Viewport.prototype.toGlobal=function(t,e){return new Viewport(this.x*t,this.y*e,this.width*t,this.height*e)},Viewport.prototype.toGlobalToRef=function(t,e,r){return r.x=this.x*t,r.y=this.y*e,r.width=this.width*t,r.height=this.height*e,this},Viewport.prototype.clone=function(){return new Viewport(this.x,this.y,this.width,this.height)}})(),function(){function Frustum(){}Frustum.GetPlanes=function(t){for(var e=[],r=0;r<6;r++)e.push(new f(0,0,0,0));return Frustum.GetPlanesToRef(t,e),e},Frustum.GetNearPlaneToRef=function(t,e){var r=t.m;e.normal.x=r[3]+r[2],e.normal.y=r[7]+r[6],e.normal.z=r[11]+r[10],e.d=r[15]+r[14],e.normalize()},Frustum.GetFarPlaneToRef=function(t,e){var r=t.m;e.normal.x=r[3]-r[2],e.normal.y=r[7]-r[6],e.normal.z=r[11]-r[10],e.d=r[15]-r[14],e.normalize()},Frustum.GetLeftPlaneToRef=function(t,e){var r=t.m;e.normal.x=r[3]+r[0],e.normal.y=r[7]+r[4],e.normal.z=r[11]+r[8],e.d=r[15]+r[12],e.normalize()},Frustum.GetRightPlaneToRef=function(t,e){var r=t.m;e.normal.x=r[3]-r[0],e.normal.y=r[7]-r[4],e.normal.z=r[11]-r[8],e.d=r[15]-r[12],e.normalize()},Frustum.GetTopPlaneToRef=function(t,e){var r=t.m;e.normal.x=r[3]-r[1],e.normal.y=r[7]-r[5],e.normal.z=r[11]-r[9],e.d=r[15]-r[13],e.normalize()},Frustum.GetBottomPlaneToRef=function(t,e){var r=t.m;e.normal.x=r[3]+r[1],e.normal.y=r[7]+r[5],e.normal.z=r[11]+r[9],e.d=r[15]+r[13],e.normalize()},Frustum.GetPlanesToRef=function(t,e){Frustum.GetNearPlaneToRef(t,e[0]),Frustum.GetFarPlaneToRef(t,e[1]),Frustum.GetLeftPlaneToRef(t,e[2]),Frustum.GetRightPlaneToRef(t,e[3]),Frustum.GetTopPlaneToRef(t,e[4]),Frustum.GetBottomPlaneToRef(t,e[5])}}();!function(t){t[t.LOCAL=0]="LOCAL",t[t.WORLD=1]="WORLD",t[t.BONE=2]="BONE"}(t||(t={}));var h;(function(){function Axis(){}Axis.X=new a(1,0,0),Axis.Y=new a(0,1,0),Axis.Z=new a(0,0,1)})(),function(){function BezierCurve(){}BezierCurve.Interpolate=function(t,e,r,n,o){for(var i=1-3*n+3*e,a=3*n-6*e,s=3*e,u=t,c=0;c<5;c++){var l=u*u;u-=(i*(l*u)+a*l+s*u-t)*(1/(3*i*l+2*a*u+s)),u=Math.min(1,Math.max(0,u))}return 3*Math.pow(1-u,2)*u*r+3*(1-u)*Math.pow(u,2)*o+Math.pow(u,3)}}();!function(t){t[t.CW=0]="CW",t[t.CCW=1]="CCW"}(h||(h={}));var p=function(){function Angle(t){this._radians=t,this._radians<0&&(this._radians+=2*Math.PI)}return Angle.prototype.degrees=function(){return 180*this._radians/Math.PI},Angle.prototype.radians=function(){return this._radians},Angle.BetweenTwoPoints=function(t,e){var r=e.subtract(t);return new Angle(Math.atan2(r.y,r.x))},Angle.FromRadians=function(t){return new Angle(t)},Angle.FromDegrees=function(t){return new Angle(t*Math.PI/180)},Angle}(),y=function(){return function Arc2(t,e,r){this.startPoint=t,this.midPoint=e,this.endPoint=r;var n=Math.pow(e.x,2)+Math.pow(e.y,2),o=(Math.pow(t.x,2)+Math.pow(t.y,2)-n)/2,a=(n-Math.pow(r.x,2)-Math.pow(r.y,2))/2,s=(t.x-e.x)*(e.y-r.y)-(e.x-r.x)*(t.y-e.y);this.centerPoint=new i((o*(e.y-r.y)-a*(t.y-e.y))/s,((t.x-e.x)*a-(e.x-r.x)*o)/s),this.radius=this.centerPoint.subtract(this.startPoint).length(),this.startAngle=p.BetweenTwoPoints(this.centerPoint,this.startPoint);var u=this.startAngle.degrees(),c=p.BetweenTwoPoints(this.centerPoint,this.midPoint).degrees(),l=p.BetweenTwoPoints(this.centerPoint,this.endPoint).degrees();c-u>180&&(c-=360),c-u<-180&&(c+=360),l-c>180&&(l-=360),l-c<-180&&(l+=360),this.orientation=c-u<0?h.CW:h.CCW,this.angle=p.FromDegrees(this.orientation===h.CW?u-l:l-u)}}(),d=(function(){function Path2(t,e){this._points=new Array,this._length=0,this.closed=!1,this._points.push(new i(t,e))}Path2.prototype.addLineTo=function(t,e){if(this.closed)return this;var r=new i(t,e),n=this._points[this._points.length-1];return this._points.push(r),this._length+=r.subtract(n).length(),this},Path2.prototype.addArcTo=function(t,e,r,n,o){if(void 0===o&&(o=36),this.closed)return this;var a=this._points[this._points.length-1],s=new i(t,e),u=new i(r,n),c=new y(a,s,u),l=c.angle.radians()/o;c.orientation===h.CW&&(l*=-1);for(var f=c.startAngle.radians()+l,p=0;p<o;p++){var d=Math.cos(f)*c.radius+c.centerPoint.x,g=Math.sin(f)*c.radius+c.centerPoint.y;this.addLineTo(d,g),f+=l}return this},Path2.prototype.close=function(){return this.closed=!0,this},Path2.prototype.length=function(){var t=this._length;if(!this.closed){var e=this._points[this._points.length-1];t+=this._points[0].subtract(e).length()}return t},Path2.prototype.getPoints=function(){return this._points},Path2.prototype.getPointAtLengthPosition=function(t){if(t<0||t>1)return i.Zero();for(var e=t*this.length(),r=0,n=0;n<this._points.length;n++){var o=(n+1)%this._points.length,a=this._points[n],s=this._points[o].subtract(a),u=s.length()+r;if(e>=r&&e<=u){var c=s.normalize(),l=e-r;return new i(a.x+c.x*l,a.y+c.y*l)}r=u}return i.Zero()},Path2.StartingAt=function(t,e){return new Path2(t,e)}}(),function(){function Path3D(t,e,r){void 0===e&&(e=null),this.path=t,this._curve=new Array,this._distances=new Array,this._tangents=new Array,this._normals=new Array,this._binormals=new Array;for(var n=0;n<t.length;n++)this._curve[n]=t[n].clone();this._raw=r||!1,this._compute(e)}Path3D.prototype.getCurve=function(){return this._curve},Path3D.prototype.getTangents=function(){return this._tangents},Path3D.prototype.getNormals=function(){return this._normals},Path3D.prototype.getBinormals=function(){return this._binormals},Path3D.prototype.getDistances=function(){return this._distances},Path3D.prototype.update=function(t,e){void 0===e&&(e=null);for(var r=0;r<t.length;r++)this._curve[r].x=t[r].x,this._curve[r].y=t[r].y,this._curve[r].z=t[r].z;return this._compute(e),this},Path3D.prototype._compute=function(t){var e=this._curve.length;this._tangents[0]=this._getFirstNonNullVector(0),this._raw||this._tangents[0].normalize(),this._tangents[e-1]=this._curve[e-1].subtract(this._curve[e-2]),this._raw||this._tangents[e-1].normalize();var r,n,o,i,s=this._tangents[0],u=this._normalVector(s,t);this._normals[0]=u,this._raw||this._normals[0].normalize(),this._binormals[0]=a.Cross(s,this._normals[0]),this._raw||this._binormals[0].normalize(),this._distances[0]=0;for(var c=1;c<e;c++)r=this._getLastNonNullVector(c),c<e-1&&(n=this._getFirstNonNullVector(c),this._tangents[c]=r.add(n),this._tangents[c].normalize()),this._distances[c]=this._distances[c-1]+r.length(),o=this._tangents[c],i=this._binormals[c-1],this._normals[c]=a.Cross(i,o),this._raw||this._normals[c].normalize(),this._binormals[c]=a.Cross(o,this._normals[c]),this._raw||this._binormals[c].normalize()},Path3D.prototype._getFirstNonNullVector=function(t){for(var e=1,r=this._curve[t+e].subtract(this._curve[t]);0===r.length()&&t+e+1<this._curve.length;)e++,r=this._curve[t+e].subtract(this._curve[t]);return r},Path3D.prototype._getLastNonNullVector=function(t){for(var e=1,r=this._curve[t].subtract(this._curve[t-e]);0===r.length()&&t>e+1;)e++,r=this._curve[t].subtract(this._curve[t-e]);return r},Path3D.prototype._normalVector=function(t,e){var n,o,i=t.length();(0===i&&(i=1),null==e)?(o=r.WithinEpsilon(Math.abs(t.y)/i,1,.001)?r.WithinEpsilon(Math.abs(t.x)/i,1,.001)?r.WithinEpsilon(Math.abs(t.z)/i,1,.001)?a.Zero():new a(0,0,1):new a(1,0,0):new a(0,-1,0),n=a.Cross(t,o)):(n=a.Cross(t,e),a.CrossToRef(n,t,n));return n.normalize(),n}}(),function(){function Curve3(t){this._length=0,this._points=t,this._length=this._computeLength(t)}Curve3.CreateQuadraticBezier=function(t,e,r,n){n=n>2?n:3;for(var o=new Array,i=function(t,e,r,n){return(1-t)*(1-t)*e+2*t*(1-t)*r+t*t*n},s=0;s<=n;s++)o.push(new a(i(s/n,t.x,e.x,r.x),i(s/n,t.y,e.y,r.y),i(s/n,t.z,e.z,r.z)));return new Curve3(o)},Curve3.CreateCubicBezier=function(t,e,r,n,o){o=o>3?o:4;for(var i=new Array,s=function(t,e,r,n,o){return(1-t)*(1-t)*(1-t)*e+3*t*(1-t)*(1-t)*r+3*t*t*(1-t)*n+t*t*t*o},u=0;u<=o;u++)i.push(new a(s(u/o,t.x,e.x,r.x,n.x),s(u/o,t.y,e.y,r.y,n.y),s(u/o,t.z,e.z,r.z,n.z)));return new Curve3(i)},Curve3.CreateHermiteSpline=function(t,e,r,n,o){for(var i=new Array,s=1/o,u=0;u<=o;u++)i.push(a.Hermite(t,e,r,n,u*s));return new Curve3(i)},Curve3.CreateCatmullRomSpline=function(t,e,r){var n=new Array,o=1/e,i=0;if(r){for(var s=t.length,u=0;u<s;u++){i=0;for(var c=0;c<e;c++)n.push(a.CatmullRom(t[u%s],t[(u+1)%s],t[(u+2)%s],t[(u+3)%s],i)),i+=o}n.push(n[0])}else{var l=new Array;l.push(t[0].clone()),Array.prototype.push.apply(l,t),l.push(t[t.length-1].clone());for(u=0;u<l.length-3;u++){i=0;for(c=0;c<e;c++)n.push(a.CatmullRom(l[u],l[u+1],l[u+2],l[u+3],i)),i+=o}u--,n.push(a.CatmullRom(l[u],l[u+1],l[u+2],l[u+3],i))}return new Curve3(n)},Curve3.prototype.getPoints=function(){return this._points},Curve3.prototype.length=function(){return this._length},Curve3.prototype.continue=function(t){for(var e=this._points[this._points.length-1],r=this._points.slice(),n=t.getPoints(),o=1;o<n.length;o++)r.push(n[o].subtract(n[0]).add(e));return new Curve3(r)},Curve3.prototype._computeLength=function(t){for(var e=0,r=1;r<t.length;r++)e+=t[r].subtract(t[r-1]).length();return e}}(),function(){function PositionNormalVertex(t,e){void 0===t&&(t=a.Zero()),void 0===e&&(e=a.Up()),this.position=t,this.normal=e}PositionNormalVertex.prototype.clone=function(){return new PositionNormalVertex(this.position.clone(),this.normal.clone())}}(),function(){function PositionNormalTextureVertex(t,e,r){void 0===t&&(t=a.Zero()),void 0===e&&(e=a.Up()),void 0===r&&(r=i.Zero()),this.position=t,this.normal=e,this.uv=r}PositionNormalTextureVertex.prototype.clone=function(){return new PositionNormalTextureVertex(this.position.clone(),this.normal.clone(),this.uv.clone())}}(),function(){function Tmp(){}Tmp.Color3=e.BuildArray(3,n.Black),Tmp.Color4=e.BuildArray(3,function(){return new o(0,0,0,0)}),Tmp.Vector2=e.BuildArray(3,i.Zero),Tmp.Vector3=e.BuildArray(13,a.Zero),Tmp.Vector4=e.BuildArray(3,s.Zero),Tmp.Quaternion=e.BuildArray(2,c.Zero),Tmp.Matrix=e.BuildArray(8,l.Identity)}(),function(){function MathTmp(){}return MathTmp.Vector3=e.BuildArray(6,a.Zero),MathTmp.Matrix=e.BuildArray(2,l.Identity),MathTmp.Quaternion=e.BuildArray(3,c.Zero),MathTmp}()),g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function __decorate(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}var v=function(){function EventState(t,e,r,n){void 0===e&&(e=!1),this.initalize(t,e,r,n)}return EventState.prototype.initalize=function(t,e,r,n){return void 0===e&&(e=!1),this.mask=t,this.skipNextObservers=e,this.target=r,this.currentTarget=n,this},EventState}(),m=function(){return function Observer(t,e,r){void 0===r&&(r=null),this.callback=t,this.mask=e,this.scope=r,this._willBeUnregistered=!1,this.unregisterOnNextCall=!1}}(),_=(function(){function MultiObserver(){}MultiObserver.prototype.dispose=function(){if(this._observers&&this._observables)for(var t=0;t<this._observers.length;t++)this._observables[t].remove(this._observers[t]);this._observers=null,this._observables=null},MultiObserver.Watch=function(t,e,r,n){void 0===r&&(r=-1),void 0===n&&(n=null);var o=new MultiObserver;o._observers=new Array,o._observables=t;for(var i=0,a=t;i<a.length;i++){var s=a[i].add(e,r,!1,n);s&&o._observers.push(s)}return o}}(),function(){function Observable(t){this._observers=new Array,this._eventState=new v(0),t&&(this._onObserverAdded=t)}return Observable.prototype.add=function(t,e,r,n,o){if(void 0===e&&(e=-1),void 0===r&&(r=!1),void 0===n&&(n=null),void 0===o&&(o=!1),!t)return null;var i=new m(t,e,n);return i.unregisterOnNextCall=o,r?this._observers.unshift(i):this._observers.push(i),this._onObserverAdded&&this._onObserverAdded(i),i},Observable.prototype.addOnce=function(t){return this.add(t,void 0,void 0,void 0,!0)},Observable.prototype.remove=function(t){return!!t&&(-1!==this._observers.indexOf(t)&&(this._deferUnregister(t),!0))},Observable.prototype.removeCallback=function(t,e){for(var r=0;r<this._observers.length;r++)if(this._observers[r].callback===t&&(!e||e===this._observers[r].scope))return this._deferUnregister(this._observers[r]),!0;return!1},Observable.prototype._deferUnregister=function(t){var e=this;t.unregisterOnNextCall=!1,t._willBeUnregistered=!0,setTimeout(function(){e._remove(t)},0)},Observable.prototype._remove=function(t){if(!t)return!1;var e=this._observers.indexOf(t);return-1!==e&&(this._observers.splice(e,1),!0)},Observable.prototype.makeObserverTopPriority=function(t){this._remove(t),this._observers.unshift(t)},Observable.prototype.makeObserverBottomPriority=function(t){this._remove(t),this._observers.push(t)},Observable.prototype.notifyObservers=function(t,e,r,n){if(void 0===e&&(e=-1),!this._observers.length)return!0;var o=this._eventState;o.mask=e,o.target=r,o.currentTarget=n,o.skipNextObservers=!1,o.lastReturnValue=t;for(var i=0,a=this._observers;i<a.length;i++){var s=a[i];if(!s._willBeUnregistered&&(s.mask&e&&(s.scope?o.lastReturnValue=s.callback.apply(s.scope,[t,o]):o.lastReturnValue=s.callback(t,o),s.unregisterOnNextCall&&this._deferUnregister(s)),o.skipNextObservers))return!1}return!0},Observable.prototype.notifyObserversWithPromise=function(t,e,r,n){var o=this;void 0===e&&(e=-1);var i=Promise.resolve(t);if(!this._observers.length)return i;var a=this._eventState;return a.mask=e,a.target=r,a.currentTarget=n,a.skipNextObservers=!1,this._observers.forEach(function(r){a.skipNextObservers||r._willBeUnregistered||r.mask&e&&(i=r.scope?i.then(function(e){return a.lastReturnValue=e,r.callback.apply(r.scope,[t,a])}):i.then(function(e){return a.lastReturnValue=e,r.callback(t,a)}),r.unregisterOnNextCall&&o._deferUnregister(r))}),i.then(function(){return t})},Observable.prototype.notifyObserver=function(t,e,r){void 0===r&&(r=-1);var n=this._eventState;n.mask=r,n.skipNextObservers=!1,t.callback(e,n)},Observable.prototype.hasObservers=function(){return this._observers.length>0},Observable.prototype.clear=function(){this._observers=new Array,this._onObserverAdded=null},Observable.prototype.clone=function(){var t=new Observable;return t._observers=this._observers.slice(0),t},Observable.prototype.hasSpecificMask=function(t){void 0===t&&(t=-1);for(var e=0,r=this._observers;e<r.length;e++){var n=r[e];if(n.mask&t||n.mask===t)return!0}return!1},Observable}()),b=function(){function FilesInputStore(){}return FilesInputStore.FilesToLoad={},FilesInputStore}(),T=function(){function Constants(){}return Constants.ALPHA_DISABLE=0,Constants.ALPHA_ADD=1,Constants.ALPHA_COMBINE=2,Constants.ALPHA_SUBTRACT=3,Constants.ALPHA_MULTIPLY=4,Constants.ALPHA_MAXIMIZED=5,Constants.ALPHA_ONEONE=6,Constants.ALPHA_PREMULTIPLIED=7,Constants.ALPHA_PREMULTIPLIED_PORTERDUFF=8,Constants.ALPHA_INTERPOLATE=9,Constants.ALPHA_SCREENMODE=10,Constants.DELAYLOADSTATE_NONE=0,Constants.DELAYLOADSTATE_LOADED=1,Constants.DELAYLOADSTATE_LOADING=2,Constants.DELAYLOADSTATE_NOTLOADED=4,Constants.NEVER=512,Constants.ALWAYS=519,Constants.LESS=513,Constants.EQUAL=514,Constants.LEQUAL=515,Constants.GREATER=516,Constants.GEQUAL=518,Constants.NOTEQUAL=517,Constants.KEEP=7680,Constants.REPLACE=7681,Constants.INCR=7682,Constants.DECR=7683,Constants.INVERT=5386,Constants.INCR_WRAP=34055,Constants.DECR_WRAP=34056,Constants.TEXTURE_CLAMP_ADDRESSMODE=0,Constants.TEXTURE_WRAP_ADDRESSMODE=1,Constants.TEXTURE_MIRROR_ADDRESSMODE=2,Constants.TEXTUREFORMAT_ALPHA=0,Constants.TEXTUREFORMAT_LUMINANCE=1,Constants.TEXTUREFORMAT_LUMINANCE_ALPHA=2,Constants.TEXTUREFORMAT_RGB=4,Constants.TEXTUREFORMAT_RGBA=5,Constants.TEXTUREFORMAT_RED=6,Constants.TEXTUREFORMAT_R=6,Constants.TEXTUREFORMAT_RG=7,Constants.TEXTUREFORMAT_RED_INTEGER=8,Constants.TEXTUREFORMAT_R_INTEGER=8,Constants.TEXTUREFORMAT_RG_INTEGER=9,Constants.TEXTUREFORMAT_RGB_INTEGER=10,Constants.TEXTUREFORMAT_RGBA_INTEGER=11,Constants.TEXTURETYPE_UNSIGNED_BYTE=0,Constants.TEXTURETYPE_UNSIGNED_INT=0,Constants.TEXTURETYPE_FLOAT=1,Constants.TEXTURETYPE_HALF_FLOAT=2,Constants.TEXTURETYPE_BYTE=3,Constants.TEXTURETYPE_SHORT=4,Constants.TEXTURETYPE_UNSIGNED_SHORT=5,Constants.TEXTURETYPE_INT=6,Constants.TEXTURETYPE_UNSIGNED_INTEGER=7,Constants.TEXTURETYPE_UNSIGNED_SHORT_4_4_4_4=8,Constants.TEXTURETYPE_UNSIGNED_SHORT_5_5_5_1=9,Constants.TEXTURETYPE_UNSIGNED_SHORT_5_6_5=10,Constants.TEXTURETYPE_UNSIGNED_INT_2_10_10_10_REV=11,Constants.TEXTURETYPE_UNSIGNED_INT_24_8=12,Constants.TEXTURETYPE_UNSIGNED_INT_10F_11F_11F_REV=13,Constants.TEXTURETYPE_UNSIGNED_INT_5_9_9_9_REV=14,Constants.TEXTURETYPE_FLOAT_32_UNSIGNED_INT_24_8_REV=15,Constants.TEXTURE_NEAREST_SAMPLINGMODE=1,Constants.TEXTURE_BILINEAR_SAMPLINGMODE=2,Constants.TEXTURE_TRILINEAR_SAMPLINGMODE=3,Constants.TEXTURE_NEAREST_NEAREST_MIPLINEAR=1,Constants.TEXTURE_LINEAR_LINEAR_MIPNEAREST=2,Constants.TEXTURE_LINEAR_LINEAR_MIPLINEAR=3,Constants.TEXTURE_NEAREST_NEAREST_MIPNEAREST=4,Constants.TEXTURE_NEAREST_LINEAR_MIPNEAREST=5,Constants.TEXTURE_NEAREST_LINEAR_MIPLINEAR=6,Constants.TEXTURE_NEAREST_LINEAR=7,Constants.TEXTURE_NEAREST_NEAREST=8,Constants.TEXTURE_LINEAR_NEAREST_MIPNEAREST=9,Constants.TEXTURE_LINEAR_NEAREST_MIPLINEAR=10,Constants.TEXTURE_LINEAR_LINEAR=11,Constants.TEXTURE_LINEAR_NEAREST=12,Constants.TEXTURE_EXPLICIT_MODE=0,Constants.TEXTURE_SPHERICAL_MODE=1,Constants.TEXTURE_PLANAR_MODE=2,Constants.TEXTURE_CUBIC_MODE=3,Constants.TEXTURE_PROJECTION_MODE=4,Constants.TEXTURE_SKYBOX_MODE=5,Constants.TEXTURE_INVCUBIC_MODE=6,Constants.TEXTURE_EQUIRECTANGULAR_MODE=7,Constants.TEXTURE_FIXED_EQUIRECTANGULAR_MODE=8,Constants.TEXTURE_FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,Constants.SCALEMODE_FLOOR=1,Constants.SCALEMODE_NEAREST=2,Constants.SCALEMODE_CEILING=3,Constants.MATERIAL_TextureDirtyFlag=1,Constants.MATERIAL_LightDirtyFlag=2,Constants.MATERIAL_FresnelDirtyFlag=4,Constants.MATERIAL_AttributesDirtyFlag=8,Constants.MATERIAL_MiscDirtyFlag=16,Constants.MATERIAL_AllDirtyFlag=31,Constants.MATERIAL_TriangleFillMode=0,Constants.MATERIAL_WireFrameFillMode=1,Constants.MATERIAL_PointFillMode=2,Constants.MATERIAL_PointListDrawMode=3,Constants.MATERIAL_LineListDrawMode=4,Constants.MATERIAL_LineLoopDrawMode=5,Constants.MATERIAL_LineStripDrawMode=6,Constants.MATERIAL_TriangleStripDrawMode=7,Constants.MATERIAL_TriangleFanDrawMode=8,Constants.MATERIAL_ClockWiseSideOrientation=0,Constants.MATERIAL_CounterClockWiseSideOrientation=1,Constants.ACTION_NothingTrigger=0,Constants.ACTION_OnPickTrigger=1,Constants.ACTION_OnLeftPickTrigger=2,Constants.ACTION_OnRightPickTrigger=3,Constants.ACTION_OnCenterPickTrigger=4,Constants.ACTION_OnPickDownTrigger=5,Constants.ACTION_OnDoublePickTrigger=6,Constants.ACTION_OnPickUpTrigger=7,Constants.ACTION_OnPickOutTrigger=16,Constants.ACTION_OnLongPressTrigger=8,Constants.ACTION_OnPointerOverTrigger=9,Constants.ACTION_OnPointerOutTrigger=10,Constants.ACTION_OnEveryFrameTrigger=11,Constants.ACTION_OnIntersectionEnterTrigger=12,Constants.ACTION_OnIntersectionExitTrigger=13,Constants.ACTION_OnKeyDownTrigger=14,Constants.ACTION_OnKeyUpTrigger=15,Constants.PARTICLES_BILLBOARDMODE_Y=2,Constants.PARTICLES_BILLBOARDMODE_ALL=7,Constants.PARTICLES_BILLBOARDMODE_STRETCHED=8,Constants.PARTICLES_BaseAssetsUrl="https://assets.babylonjs.com/particles",Constants.MESHES_CULLINGSTRATEGY_STANDARD=0,Constants.MESHES_CULLINGSTRATEGY_BOUNDINGSPHERE_ONLY=1,Constants.MESHES_CULLINGSTRATEGY_OPTIMISTIC_INCLUSION=2,Constants.MESHES_CULLINGSTRATEGY_OPTIMISTIC_INCLUSION_THEN_BSPHERE_ONLY=3,Constants.SCENELOADER_NO_LOGGING=0,Constants.SCENELOADER_MINIMAL_LOGGING=1,Constants.SCENELOADER_SUMMARY_LOGGING=2,Constants.SCENELOADER_DETAILED_LOGGING=3,Constants}(),A=function(){function DomManagement(){}return DomManagement.IsWindowObjectExist=function(){return"undefined"!=typeof window},DomManagement.GetDOMTextContent=function(t){for(var e="",r=t.firstChild;r;)3===r.nodeType&&(e+=r.textContent),r=r.nextSibling;return e},DomManagement}(),x=function(){function Logger(){}return Logger._AddLogEntry=function(t){Logger._LogCache=t+Logger._LogCache,Logger.OnNewCacheEntry&&Logger.OnNewCacheEntry(t)},Logger._FormatMessage=function(t){var e=function(t){return t<10?"0"+t:""+t},r=new Date;return"["+e(r.getHours())+":"+e(r.getMinutes())+":"+e(r.getSeconds())+"]: "+t},Logger._LogDisabled=function(t){},Logger._LogEnabled=function(t){var e=Logger._FormatMessage(t);console.log("BJS - "+e);var r="<div style='color:white'>"+e+"</div><br>";Logger._AddLogEntry(r)},Logger._WarnDisabled=function(t){},Logger._WarnEnabled=function(t){var e=Logger._FormatMessage(t);console.warn("BJS - "+e);var r="<div style='color:orange'>"+e+"</div><br>";Logger._AddLogEntry(r)},Logger._ErrorDisabled=function(t){},Logger._ErrorEnabled=function(t){Logger.errorsCount++;var e=Logger._FormatMessage(t);console.error("BJS - "+e);var r="<div style='color:red'>"+e+"</div><br>";Logger._AddLogEntry(r)},Object.defineProperty(Logger,"LogCache",{get:function(){return Logger._LogCache},enumerable:!0,configurable:!0}),Logger.ClearLogCache=function(){Logger._LogCache="",Logger.errorsCount=0},Object.defineProperty(Logger,"LogLevels",{set:function(t){(t&Logger.MessageLogLevel)===Logger.MessageLogLevel?Logger.Log=Logger._LogEnabled:Logger.Log=Logger._LogDisabled,(t&Logger.WarningLogLevel)===Logger.WarningLogLevel?Logger.Warn=Logger._WarnEnabled:Logger.Warn=Logger._WarnDisabled,(t&Logger.ErrorLogLevel)===Logger.ErrorLogLevel?Logger.Error=Logger._ErrorEnabled:Logger.Error=Logger._ErrorDisabled},enumerable:!0,configurable:!0}),Logger.NoneLogLevel=0,Logger.MessageLogLevel=1,Logger.WarningLogLevel=2,Logger.ErrorLogLevel=4,Logger.AllLogLevel=7,Logger._LogCache="",Logger.errorsCount=0,Logger.Log=Logger._LogEnabled,Logger.Warn=Logger._WarnEnabled,Logger.Error=Logger._ErrorEnabled,Logger}(),C=function(){function _TypeStore(){}return _TypeStore.GetClass=function(t){return this.RegisteredTypes&&this.RegisteredTypes[t]?this.RegisteredTypes[t]:null},_TypeStore.RegisteredTypes={},_TypeStore}(),R=function(t,e){return t?t.getClassName&&"Mesh"===t.getClassName()?null:t.getClassName&&"SubMesh"===t.getClassName()?t.clone(e):t.clone?t.clone():null:null},I=function(){function DeepCopier(){}return DeepCopier.DeepCopy=function(t,e,r,n){for(var o in t)if(("_"!==o[0]||n&&-1!==n.indexOf(o))&&(!r||-1===r.indexOf(o))){var i=t[o],a=typeof i;if("function"!==a)try{if("object"===a)if(i instanceof Array){if(e[o]=[],i.length>0)if("object"==typeof i[0])for(var s=0;s<i.length;s++){var u=R(i[s],e);-1===e[o].indexOf(u)&&e[o].push(u)}else e[o]=i.slice(0)}else e[o]=R(i,e);else e[o]=i}catch(t){}}},DeepCopier}(),w=function(){function PrecisionDate(){}return Object.defineProperty(PrecisionDate,"Now",{get:function(){return A.IsWindowObjectExist()&&window.performance&&window.performance.now?window.performance.now():Date.now()},enumerable:!0,configurable:!0}),PrecisionDate}(),E=function(){function _DevTools(){}return _DevTools.WarnImport=function(t){return t+" needs to be imported before as it contains a side-effect required by your code."},_DevTools}(),O=function(){function WebRequest(){this._xhr=new XMLHttpRequest}return WebRequest.prototype._injectCustomRequestHeaders=function(){for(var t in WebRequest.CustomRequestHeaders){var e=WebRequest.CustomRequestHeaders[t];e&&this._xhr.setRequestHeader(t,e)}},Object.defineProperty(WebRequest.prototype,"onprogress",{get:function(){return this._xhr.onprogress},set:function(t){this._xhr.onprogress=t},enumerable:!0,configurable:!0}),Object.defineProperty(WebRequest.prototype,"readyState",{get:function(){return this._xhr.readyState},enumerable:!0,configurable:!0}),Object.defineProperty(WebRequest.prototype,"status",{get:function(){return this._xhr.status},enumerable:!0,configurable:!0}),Object.defineProperty(WebRequest.prototype,"statusText",{get:function(){return this._xhr.statusText},enumerable:!0,configurable:!0}),Object.defineProperty(WebRequest.prototype,"response",{get:function(){return this._xhr.response},enumerable:!0,configurable:!0}),Object.defineProperty(WebRequest.prototype,"responseURL",{get:function(){return this._xhr.responseURL},enumerable:!0,configurable:!0}),Object.defineProperty(WebRequest.prototype,"responseText",{get:function(){return this._xhr.responseText},enumerable:!0,configurable:!0}),Object.defineProperty(WebRequest.prototype,"responseType",{get:function(){return this._xhr.responseType},set:function(t){this._xhr.responseType=t},enumerable:!0,configurable:!0}),WebRequest.prototype.addEventListener=function(t,e,r){this._xhr.addEventListener(t,e,r)},WebRequest.prototype.removeEventListener=function(t,e,r){this._xhr.removeEventListener(t,e,r)},WebRequest.prototype.abort=function(){this._xhr.abort()},WebRequest.prototype.send=function(t){WebRequest.CustomRequestHeaders&&this._injectCustomRequestHeaders(),this._xhr.send(t)},WebRequest.prototype.open=function(t,e){for(var r=0,n=WebRequest.CustomRequestModifiers;r<n.length;r++){(0,n[r])(this._xhr)}return this._xhr.open(t,e,!0)},WebRequest.CustomRequestHeaders={},WebRequest.CustomRequestModifiers=new Array,WebRequest}(),P=(function(){function ColorGradient(){}ColorGradient.prototype.getColorToRef=function(t){this.color2?o.LerpToRef(this.color1,this.color2,Math.random(),t):t.copyFrom(this.color1)}}(),function(){}(),function(){function FactorGradient(){}FactorGradient.prototype.getFactor=function(){return void 0===this.factor2?this.factor1:r.Lerp(this.factor1,this.factor2,Math.random())}}(),function(t){function LoadFileError(e,r){var n=t.call(this,e)||this;return n.request=r,n.name="LoadFileError",LoadFileError._setPrototypeOf(n,LoadFileError.prototype),n}return function __extends(t,e){function __(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}(LoadFileError,t),LoadFileError._setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},LoadFileError}(Error)),M=function(){function RetryStrategy(){}return RetryStrategy.ExponentialBackoff=function(t,e){return void 0===t&&(t=3),void 0===e&&(e=500),function(r,n,o){return 0!==n.status||o>=t||-1!==r.indexOf("file:")?-1:Math.pow(2,o)*e}},RetryStrategy}(),L=function(){function Tools(){}return Tools.FetchToRef=function(t,e,r,n,o,i){var a=4*((Math.abs(t)*r%r|0)+(Math.abs(e)*n%n|0)*r);i.r=o[a]/255,i.g=o[a+1]/255,i.b=o[a+2]/255,i.a=o[a+3]/255},Tools.Mix=function(t,e,r){return t*(1-r)+e*r},Tools.Instantiate=function(t){if(Tools.RegisteredExternalClasses&&Tools.RegisteredExternalClasses[t])return Tools.RegisteredExternalClasses[t];var e=C.GetClass(t);if(e)return e;x.Warn(t+" not found, you may have missed an import.");for(var r=t.split("."),n=window||this,o=0,i=r.length;o<i;o++)n=n[r[o]];return"function"!=typeof n?null:n},Tools.Slice=function(t,e,r){return t.slice?t.slice(e,r):Array.prototype.slice.call(t,e,r)},Tools.SetImmediate=function(t){A.IsWindowObjectExist()&&window.setImmediate?window.setImmediate(t):setTimeout(t,1)},Tools.IsExponentOfTwo=function(t){var e=1;do{e*=2}while(e<t);return e===t},Tools.FloatRound=function(t){return Math.fround?Math.fround(t):Tools._tmpFloatArray[0]=t},Tools.CeilingPOT=function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t},Tools.FloorPOT=function(t){return t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)-(t>>1)},Tools.NearestPOT=function(t){var e=Tools.CeilingPOT(t),r=Tools.FloorPOT(t);return e-t>t-r?r:e},Tools.GetExponentOfTwo=function(t,e,r){var n;switch(void 0===r&&(r=T.SCALEMODE_NEAREST),r){case T.SCALEMODE_FLOOR:n=Tools.FloorPOT(t);break;case T.SCALEMODE_NEAREST:n=Tools.NearestPOT(t);break;case T.SCALEMODE_CEILING:default:n=Tools.CeilingPOT(t)}return Math.min(n,e)},Tools.GetFilename=function(t){var e=t.lastIndexOf("/");return e<0?t:t.substring(e+1)},Tools.GetFolderPath=function(t,e){void 0===e&&(e=!1);var r=t.lastIndexOf("/");return r<0?e?t:"":t.substring(0,r+1)},Tools.ToDegrees=function(t){return 180*t/Math.PI},Tools.ToRadians=function(t){return t*Math.PI/180},Tools.EncodeArrayBufferTobase64=function(t){for(var e,r,n,o,i,a,s,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",l=0,f=new Uint8Array(t);l<f.length;)o=(e=f[l++])>>2,i=(3&e)<<4|(r=l<f.length?f[l++]:Number.NaN)>>4,a=(15&r)<<2|(n=l<f.length?f[l++]:Number.NaN)>>6,s=63&n,isNaN(r)?a=s=64:isNaN(n)&&(s=64),c+=u.charAt(o)+u.charAt(i)+u.charAt(a)+u.charAt(s);return"data:image/png;base64,"+c},Tools.ExtractMinAndMaxIndexed=function(t,e,r,n,o){void 0===o&&(o=null);for(var i=new a(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),s=new a(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),u=r;u<r+n;u++){var c=3*e[u],l=t[c],f=t[c+1],h=t[c+2];i.minimizeInPlaceFromFloats(l,f,h),s.maximizeInPlaceFromFloats(l,f,h)}return o&&(i.x-=i.x*o.x+o.y,i.y-=i.y*o.x+o.y,i.z-=i.z*o.x+o.y,s.x+=s.x*o.x+o.y,s.y+=s.y*o.x+o.y,s.z+=s.z*o.x+o.y),{minimum:i,maximum:s}},Tools.ExtractMinAndMax=function(t,e,r,n,o){void 0===n&&(n=null);var i=new a(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),s=new a(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);o||(o=3);for(var u=e,c=e*o;u<e+r;u++,c+=o){var l=t[c],f=t[c+1],h=t[c+2];i.minimizeInPlaceFromFloats(l,f,h),s.maximizeInPlaceFromFloats(l,f,h)}return n&&(i.x-=i.x*n.x+n.y,i.y-=i.y*n.x+n.y,i.z-=i.z*n.x+n.y,s.x+=s.x*n.x+n.y,s.y+=s.y*n.x+n.y,s.z+=s.z*n.x+n.y),{minimum:i,maximum:s}},Tools.MakeArray=function(t,e){return!0===e||void 0!==t&&null!=t?Array.isArray(t)?t:[t]:null},Tools.GetPointerPrefix=function(){var t="pointer";return!A.IsWindowObjectExist()||window.PointerEvent||navigator.pointerEnabled||(t="mouse"),t},Tools.QueueNewFrame=function(t,e){return A.IsWindowObjectExist()?(e||(e=window),e.requestAnimationFrame?e.requestAnimationFrame(t):e.msRequestAnimationFrame?e.msRequestAnimationFrame(t):e.webkitRequestAnimationFrame?e.webkitRequestAnimationFrame(t):e.mozRequestAnimationFrame?e.mozRequestAnimationFrame(t):e.oRequestAnimationFrame?e.oRequestAnimationFrame(t):window.setTimeout(t,16)):setTimeout(t,16)},Tools.RequestFullscreen=function(t){var e=t.requestFullscreen||t.msRequestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullScreen;e&&e.call(t)},Tools.ExitFullscreen=function(){var t=document;document.exitFullscreen?document.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msCancelFullScreen&&t.msCancelFullScreen()},Tools.SetCorsBehavior=function(t,e){if((!t||0!==t.indexOf("data:"))&&Tools.CorsBehavior)if("string"==typeof Tools.CorsBehavior||Tools.CorsBehavior instanceof String)e.crossOrigin=Tools.CorsBehavior;else{var r=Tools.CorsBehavior(t);r&&(e.crossOrigin=r)}},Tools.CleanUrl=function(t){return t=t.replace(/#/gm,"%23")},Tools.LoadImage=function(t,e,r,n){var o,i=!1;t instanceof ArrayBuffer?(o=URL.createObjectURL(new Blob([t])),i=!0):t instanceof Blob?(o=URL.createObjectURL(t),i=!0):(o=Tools.CleanUrl(t),o=Tools.PreprocessUrl(t));var a=new Image;Tools.SetCorsBehavior(o,a);var s=function(){a.removeEventListener("load",s),a.removeEventListener("error",u),e(a),i&&a.src&&URL.revokeObjectURL(a.src)},u=function(e){a.removeEventListener("load",s),a.removeEventListener("error",u),x.Error("Error while trying to load image: "+t),r&&r("Error while trying to load image: "+t,e),i&&a.src&&URL.revokeObjectURL(a.src)};a.addEventListener("load",s),a.addEventListener("error",u);var c=function(){a.src=o};if("data:"!==o.substr(0,5)&&n&&n.enableTexturesOffline)n.open(function(){n&&n.loadImage(o,a)},c);else{if(-1!==o.indexOf("file:")){var l=decodeURIComponent(o.substring(5).toLowerCase());if(b.FilesToLoad[l]){try{var f;try{f=URL.createObjectURL(b.FilesToLoad[l])}catch(t){f=URL.createObjectURL(b.FilesToLoad[l])}a.src=f,i=!0}catch(t){a.src=""}return a}}c()}return a},Tools.LoadFile=function(t,e,r,n,o,i){if(t=Tools.CleanUrl(t),-1!==(t=Tools.PreprocessUrl(t)).indexOf("file:")){var a=decodeURIComponent(t.substring(5).toLowerCase());if(b.FilesToLoad[a])return Tools.ReadFile(b.FilesToLoad[a],e,r,o)}var s=Tools.BaseUrl+t,u=!1,c={onCompleteObservable:new _,abort:function(){return u=!0}},l=function(){var t=new O,n=null;c.abort=function(){u=!0,t.readyState!==(XMLHttpRequest.DONE||4)&&t.abort(),null!==n&&(clearTimeout(n),n=null)};var a=function(l){t.open("GET",s),o&&(t.responseType="arraybuffer"),r&&t.addEventListener("progress",r);var f=function(){t.removeEventListener("loadend",f),c.onCompleteObservable.notifyObservers(c),c.onCompleteObservable.clear()};t.addEventListener("loadend",f);var h=function(){if(!u&&t.readyState===(XMLHttpRequest.DONE||4)){if(t.removeEventListener("readystatechange",h),t.status>=200&&t.status<300||0===t.status&&(!A.IsWindowObjectExist()||Tools.IsFileURL()))return void e(o?t.response:t.responseText,t.responseURL);var r=Tools.DefaultRetryStrategy;if(r){var c=r(s,t,l);if(-1!==c)return t.removeEventListener("loadend",f),t=new O,void(n=setTimeout(function(){return a(l+1)},c))}var p=new P("Error status: "+t.status+" "+t.statusText+" - Unable to load "+s,t);if(!i)throw p;i(t,p)}};t.addEventListener("readystatechange",h),t.send()};a(0)};if(n&&n.enableSceneOffline){var f=function(t){t&&t.status>400?i&&i(t):u||l()};n.open(function(){u||n&&n.loadFile(t,function(t){u||e(t),c.onCompleteObservable.notifyObservers(c)},r?function(t){u||r(t)}:void 0,f,o)},f)}else l();return c},Tools.LoadScript=function(t,e,r,n){if(A.IsWindowObjectExist()){var o=document.getElementsByTagName("head")[0],i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",t),n&&(i.id=n),i.onload=function(){e&&e()},i.onerror=function(e){r&&r("Unable to load script '"+t+"'",e)},o.appendChild(i)}},Tools.LoadScriptAsync=function(t,e){return new Promise(function(r,n){if(A.IsWindowObjectExist()){var o=document.getElementsByTagName("head")[0],i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",t),e&&(i.id=e),i.onload=function(){r(!0)},i.onerror=function(t){r(!1)},o.appendChild(i)}else r(!1)})},Tools.ReadFileAsDataURL=function(t,e,r){var n=new FileReader,o={onCompleteObservable:new _,abort:function(){return n.abort()}};return n.onloadend=function(t){o.onCompleteObservable.notifyObservers(o)},n.onload=function(t){e(t.target.result)},n.onprogress=r,n.readAsDataURL(t),o},Tools.ReadFile=function(t,e,r,n){var o=new FileReader,i={onCompleteObservable:new _,abort:function(){return o.abort()}};return o.onloadend=function(t){return i.onCompleteObservable.notifyObservers(i)},o.onerror=function(r){x.Log("Error while reading file: "+t.name),e(JSON.stringify({autoClear:!0,clearColor:[1,0,0],ambientColor:[0,0,0],gravity:[0,-9.807,0],meshes:[],cameras:[],lights:[]}))},o.onload=function(t){e(t.target.result)},r&&(o.onprogress=r),n?o.readAsArrayBuffer(t):o.readAsText(t),i},Tools.FileAsURL=function(t){var e=new Blob([t]);return(window.URL||window.webkitURL).createObjectURL(e)},Tools.Format=function(t,e){return void 0===e&&(e=2),t.toFixed(e)},Tools.CheckExtends=function(t,e,r){e.minimizeInPlace(t),r.maximizeInPlace(t)},Tools.DeepCopy=function(t,e,r,n){I.DeepCopy(t,e,r,n)},Tools.IsEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},Tools.EndsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},Tools.RegisterTopRootEvents=function(t){for(var e=0;e<t.length;e++){var r=t[e];window.addEventListener(r.name,r.handler,!1);try{window.parent&&window.parent.addEventListener(r.name,r.handler,!1)}catch(t){}}},Tools.UnregisterTopRootEvents=function(t){for(var e=0;e<t.length;e++){var r=t[e];window.removeEventListener(r.name,r.handler);try{window.parent&&window.parent.removeEventListener(r.name,r.handler)}catch(t){}}},Tools.DumpFramebuffer=function(t,e,r,n,o,i){void 0===o&&(o="image/png");for(var a=4*t,s=e/2,u=r.readPixels(0,0,t,e),c=0;c<s;c++)for(var l=0;l<a;l++){var f=l+c*a,h=l+(e-c-1)*a,p=u[f];u[f]=u[h],u[h]=p}Tools._ScreenshotCanvas||(Tools._ScreenshotCanvas=document.createElement("canvas")),Tools._ScreenshotCanvas.width=t,Tools._ScreenshotCanvas.height=e;var y=Tools._ScreenshotCanvas.getContext("2d");if(y){var d=y.createImageData(t,e);d.data.set(u),y.putImageData(d,0,0),Tools.EncodeScreenshotCanvasData(n,o,i)}},Tools.ToBlob=function(t,e,r){void 0===r&&(r="image/png"),t.toBlob||(t.toBlob=function(t,e,r){var n=this;setTimeout(function(){for(var o=atob(n.toDataURL(e,r).split(",")[1]),i=o.length,a=new Uint8Array(i),s=0;s<i;s++)a[s]=o.charCodeAt(s);t(new Blob([a]))})}),t.toBlob(function(t){e(t)},r)},Tools.EncodeScreenshotCanvasData=function(t,e,r){(void 0===e&&(e="image/png"),t)?t(Tools._ScreenshotCanvas.toDataURL(e)):this.ToBlob(Tools._ScreenshotCanvas,function(t){if("download"in document.createElement("a")){if(!r){var e=new Date,n=(e.getFullYear()+"-"+(e.getMonth()+1)).slice(2)+"-"+e.getDate()+"_"+e.getHours()+"-"+("0"+e.getMinutes()).slice(-2);r="screenshot_"+n+".png"}Tools.Download(t,r)}else{var o=URL.createObjectURL(t),i=window.open("");if(!i)return;var a=i.document.createElement("img");a.onload=function(){URL.revokeObjectURL(o)},a.src=o,i.document.body.appendChild(a)}},e)},Tools.Download=function(t,e){if(navigator&&navigator.msSaveBlob)navigator.msSaveBlob(t,e);else{var r=window.URL.createObjectURL(t),n=document.createElement("a");document.body.appendChild(n),n.style.display="none",n.href=r,n.download=e,n.addEventListener("click",function(){n.parentElement&&n.parentElement.removeChild(n)}),n.click(),window.URL.revokeObjectURL(r)}},Tools.CreateScreenshot=function(t,e,r,n,o){throw void 0===o&&(o="image/png"),E.WarnImport("ScreenshotTools")},Tools.CreateScreenshotUsingRenderTarget=function(t,e,r,n,o,i,a,s){throw void 0===o&&(o="image/png"),void 0===i&&(i=1),void 0===a&&(a=!1),E.WarnImport("ScreenshotTools")},Tools.RandomId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},Tools.IsBase64=function(t){return!(t.length<5)&&"data:"===t.substr(0,5)},Tools.DecodeBase64=function(t){for(var e=atob(t.split(",")[1]),r=e.length,n=new Uint8Array(new ArrayBuffer(r)),o=0;o<r;o++)n[o]=e.charCodeAt(o);return n.buffer},Tools.GetAbsoluteUrl=function(t){var e=document.createElement("a");return e.href=t,e.href},Object.defineProperty(Tools,"errorsCount",{get:function(){return x.errorsCount},enumerable:!0,configurable:!0}),Tools.Log=function(t){x.Log(t)},Tools.Warn=function(t){x.Warn(t)},Tools.Error=function(t){x.Error(t)},Object.defineProperty(Tools,"LogCache",{get:function(){return x.LogCache},enumerable:!0,configurable:!0}),Tools.ClearLogCache=function(){x.ClearLogCache()},Object.defineProperty(Tools,"LogLevels",{set:function(t){x.LogLevels=t},enumerable:!0,configurable:!0}),Tools.IsFileURL=function(){return"file:"===location.protocol},Object.defineProperty(Tools,"PerformanceLogLevel",{set:function(t){return(t&Tools.PerformanceUserMarkLogLevel)===Tools.PerformanceUserMarkLogLevel?(Tools.StartPerformanceCounter=Tools._StartUserMark,void(Tools.EndPerformanceCounter=Tools._EndUserMark)):(t&Tools.PerformanceConsoleLogLevel)===Tools.PerformanceConsoleLogLevel?(Tools.StartPerformanceCounter=Tools._StartPerformanceConsole,void(Tools.EndPerformanceCounter=Tools._EndPerformanceConsole)):(Tools.StartPerformanceCounter=Tools._StartPerformanceCounterDisabled,void(Tools.EndPerformanceCounter=Tools._EndPerformanceCounterDisabled))},enumerable:!0,configurable:!0}),Tools._StartPerformanceCounterDisabled=function(t,e){},Tools._EndPerformanceCounterDisabled=function(t,e){},Tools._StartUserMark=function(t,e){if(void 0===e&&(e=!0),!Tools._performance){if(!A.IsWindowObjectExist())return;Tools._performance=window.performance}e&&Tools._performance.mark&&Tools._performance.mark(t+"-Begin")},Tools._EndUserMark=function(t,e){void 0===e&&(e=!0),e&&Tools._performance.mark&&(Tools._performance.mark(t+"-End"),Tools._performance.measure(t,t+"-Begin",t+"-End"))},Tools._StartPerformanceConsole=function(t,e){void 0===e&&(e=!0),e&&(Tools._StartUserMark(t,e),console.time&&console.time(t))},Tools._EndPerformanceConsole=function(t,e){void 0===e&&(e=!0),e&&(Tools._EndUserMark(t,e),console.time&&console.timeEnd(t))},Object.defineProperty(Tools,"Now",{get:function(){return w.Now},enumerable:!0,configurable:!0}),Tools.GetClassName=function(t,e){void 0===e&&(e=!1);var r=null;if(!e&&t.getClassName)r=t.getClassName();else{if(t instanceof Object)r=(e?t:Object.getPrototypeOf(t)).constructor.__bjsclassName__;r||(r=typeof t)}return r},Tools.First=function(t,e){for(var r=0,n=t;r<n.length;r++){var o=n[r];if(e(o))return o}return null},Tools.getFullClassName=function(t,e){void 0===e&&(e=!1);var r=null,n=null;if(!e&&t.getClassName)r=t.getClassName();else{if(t instanceof Object){var o=e?t:Object.getPrototypeOf(t);r=o.constructor.__bjsclassName__,n=o.constructor.__bjsmoduleName__}r||(r=typeof t)}return r?(null!=n?n+".":"")+r:null},Tools.DelayAsync=function(t){return new Promise(function(e){setTimeout(function(){e()},t)})},Tools.GetCurrentGradient=function(t,e,r){for(var n=0;n<e.length-1;n++){var o=e[n],i=e[n+1];if(t>=o.gradient&&t<=i.gradient)return void r(o,i,(t-o.gradient)/(i.gradient-o.gradient))}var a=e.length-1;r(e[a],e[a],1)},Tools.BaseUrl="",Tools.UseCustomRequestHeaders=!1,Tools.CustomRequestHeaders=O.CustomRequestHeaders,Tools.DefaultRetryStrategy=M.ExponentialBackoff(),Tools.CorsBehavior="anonymous",Tools.UseFallbackTexture=!0,Tools.RegisteredExternalClasses={},Tools.fallbackTexture="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBmRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAAQAAAATgAAAAAAAABgAAAAAQAAAGAAAAABcGFpbnQubmV0IDQuMC41AP/bAEMABAIDAwMCBAMDAwQEBAQFCQYFBQUFCwgIBgkNCw0NDQsMDA4QFBEODxMPDAwSGBITFRYXFxcOERkbGRYaFBYXFv/bAEMBBAQEBQUFCgYGChYPDA8WFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFv/AABEIAQABAAMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APH6KKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76P//Z",Tools._tmpFloatArray=new Float32Array(1),Tools.GetDOMTextContent=A.GetDOMTextContent,Tools.PreprocessUrl=function(t){return t},Tools.NoneLogLevel=x.NoneLogLevel,Tools.MessageLogLevel=x.MessageLogLevel,Tools.WarningLogLevel=x.WarningLogLevel,Tools.ErrorLogLevel=x.ErrorLogLevel,Tools.AllLogLevel=x.AllLogLevel,Tools.IsWindowObjectExist=A.IsWindowObjectExist,Tools.PerformanceNoneLogLevel=0,Tools.PerformanceUserMarkLogLevel=1,Tools.PerformanceConsoleLogLevel=2,Tools.StartPerformanceCounter=Tools._StartPerformanceCounterDisabled,Tools.EndPerformanceCounter=Tools._EndPerformanceCounterDisabled,Tools}();!function(){function PerfCounter(){this._startMonitoringTime=0,this._min=0,this._max=0,this._average=0,this._lastSecAverage=0,this._current=0,this._totalValueCount=0,this._totalAccumulated=0,this._lastSecAccumulated=0,this._lastSecTime=0,this._lastSecValueCount=0}Object.defineProperty(PerfCounter.prototype,"min",{get:function(){return this._min},enumerable:!0,configurable:!0}),Object.defineProperty(PerfCounter.prototype,"max",{get:function(){return this._max},enumerable:!0,configurable:!0}),Object.defineProperty(PerfCounter.prototype,"average",{get:function(){return this._average},enumerable:!0,configurable:!0}),Object.defineProperty(PerfCounter.prototype,"lastSecAverage",{get:function(){return this._lastSecAverage},enumerable:!0,configurable:!0}),Object.defineProperty(PerfCounter.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(PerfCounter.prototype,"total",{get:function(){return this._totalAccumulated},enumerable:!0,configurable:!0}),Object.defineProperty(PerfCounter.prototype,"count",{get:function(){return this._totalValueCount},enumerable:!0,configurable:!0}),PerfCounter.prototype.fetchNewFrame=function(){this._totalValueCount++,this._current=0,this._lastSecValueCount++},PerfCounter.prototype.addCount=function(t,e){PerfCounter.Enabled&&(this._current+=t,e&&this._fetchResult())},PerfCounter.prototype.beginMonitoring=function(){PerfCounter.Enabled&&(this._startMonitoringTime=w.Now)},PerfCounter.prototype.endMonitoring=function(t){if(void 0===t&&(t=!0),PerfCounter.Enabled){t&&this.fetchNewFrame();var e=w.Now;this._current=e-this._startMonitoringTime,t&&this._fetchResult()}},PerfCounter.prototype._fetchResult=function(){this._totalAccumulated+=this._current,this._lastSecAccumulated+=this._current,this._min=Math.min(this._min,this._current),this._max=Math.max(this._max,this._current),this._average=this._totalAccumulated/this._totalValueCount;var t=w.Now;t-this._lastSecTime>1e3&&(this._lastSecAverage=this._lastSecAccumulated/this._lastSecValueCount,this._lastSecTime=t,this._lastSecAccumulated=0,this._lastSecValueCount=0)},PerfCounter.Enabled=!0}();!function(){function AsyncLoop(t,e,r,n){void 0===n&&(n=0),this.iterations=t,this.index=n-1,this._done=!1,this._fn=e,this._successCallback=r}AsyncLoop.prototype.executeNext=function(){this._done||(this.index+1<this.iterations?(++this.index,this._fn(this)):this.breakLoop())},AsyncLoop.prototype.breakLoop=function(){this._done=!0,this._successCallback()},AsyncLoop.Run=function(t,e,r,n){void 0===n&&(n=0);var o=new AsyncLoop(t,e,r,n);return o.executeNext(),o},AsyncLoop.SyncAsyncForLoop=function(t,e,r,n,o,i){return void 0===i&&(i=0),AsyncLoop.Run(Math.ceil(t/e),function(n){o&&o()?n.breakLoop():setTimeout(function(){for(var i=0;i<e;++i){var a=n.index*e+i;if(a>=t)break;if(r(a),o&&o()){n.breakLoop();break}}n.executeNext()},i)},n)}}();var S=function(){function AndOrNotEvaluator(){}return AndOrNotEvaluator.Eval=function(t,e){return"true"===(t=t.match(/\([^\(\)]*\)/g)?t.replace(/\([^\(\)]*\)/g,function(t){return t=t.slice(1,t.length-1),AndOrNotEvaluator._HandleParenthesisContent(t,e)}):AndOrNotEvaluator._HandleParenthesisContent(t,e))||"false"!==t&&AndOrNotEvaluator.Eval(t,e)},AndOrNotEvaluator._HandleParenthesisContent=function(t,e){var r;e=e||function(t){return"true"===t};var n=t.split("||");for(var o in n)if(n.hasOwnProperty(o)){var i=AndOrNotEvaluator._SimplifyNegation(n[o].trim()),a=i.split("&&");if(a.length>1)for(var s=0;s<a.length;++s){var u=AndOrNotEvaluator._SimplifyNegation(a[s].trim());if(!(r="true"!==u&&"false"!==u?"!"===u[0]?!e(u.substring(1)):e(u):"true"===u)){i="false";break}}if(r||"true"===i){r=!0;break}r="true"!==i&&"false"!==i?"!"===i[0]?!e(i.substring(1)):e(i):"true"===i}return r?"true":"false"},AndOrNotEvaluator._SimplifyNegation=function(t){return"!true"===(t=(t=t.replace(/^[\s!]+/,function(t){return(t=t.replace(/[\s]/g,function(){return""})).length%2?"!":""})).trim())?t="false":"!false"===t&&(t="true"),t},AndOrNotEvaluator}(),F=function(){function Tags(){}return Tags.EnableFor=function(t){t._tags=t._tags||{},t.hasTags=function(){return Tags.HasTags(t)},t.addTags=function(e){return Tags.AddTagsTo(t,e)},t.removeTags=function(e){return Tags.RemoveTagsFrom(t,e)},t.matchesTagsQuery=function(e){return Tags.MatchesQuery(t,e)}},Tags.DisableFor=function(t){delete t._tags,delete t.hasTags,delete t.addTags,delete t.removeTags,delete t.matchesTagsQuery},Tags.HasTags=function(t){return!!t._tags&&!L.IsEmpty(t._tags)},Tags.GetTags=function(t,e){if(void 0===e&&(e=!0),!t._tags)return null;if(e){var r=[];for(var n in t._tags)t._tags.hasOwnProperty(n)&&!0===t._tags[n]&&r.push(n);return r.join(" ")}return t._tags},Tags.AddTagsTo=function(t,e){e&&("string"==typeof e&&e.split(" ").forEach(function(e,r,n){Tags._AddTagTo(t,e)}))},Tags._AddTagTo=function(t,e){""!==(e=e.trim())&&"true"!==e&&"false"!==e&&(e.match(/[\s]/)||e.match(/^([!]|([|]|[&]){2})/)||(Tags.EnableFor(t),t._tags[e]=!0))},Tags.RemoveTagsFrom=function(t,e){if(Tags.HasTags(t)){var r=e.split(" ");for(var n in r)Tags._RemoveTagFrom(t,r[n])}},Tags._RemoveTagFrom=function(t,e){delete t._tags[e]},Tags.MatchesQuery=function(t,e){return void 0===e||(""===e?Tags.HasTags(t):S.Eval(e,function(e){return Tags.HasTags(t)&&t._tags[e]}))},Tags}(),N={},z={},V=function(t,e,r){var n=t();F&&F.AddTagsTo(n,e.tags);var o=getMergedStore(n);for(var i in o){var a=o[i],s=e[i],u=a.type;if(null!=s&&"uniqueId"!==i)switch(u){case 0:case 6:case 11:n[i]=s;break;case 1:n[i]=r||s.isRenderTarget?s:s.clone();break;case 2:case 3:case 4:case 5:case 7:case 10:case 12:n[i]=r?s:s.clone()}}return n};function getMergedStore(t){var e=t.getClassName();if(z[e])return z[e];z[e]={};for(var r=z[e],n=t,o=e;o;){var i=N[o];for(var a in i)r[a]=i[a];var s=void 0,u=!1;do{if(!(s=Object.getPrototypeOf(n)).getClassName){u=!0;break}if(s.getClassName()!==o)break;n=s}while(s);if(u)break;o=s.getClassName(),n=s}return r}function generateSerializableMember(t,e){return function(r,n){var o=function getDirectStore(t){var e=t.getClassName();return N[e]||(N[e]={}),N[e]}(r);o[n]||(o[n]={type:t,sourceName:e})}}function serialize(t){return generateSerializableMember(0,t)}var k,j=function(){function SerializationHelper(){}return SerializationHelper.AppendSerializedAnimations=function(t,e){if(t.animations){e.animations=[];for(var r=0;r<t.animations.length;r++){var n=t.animations[r];e.animations.push(n.serialize())}}},SerializationHelper.Serialize=function(t,e){e||(e={}),F&&(e.tags=F.GetTags(t));var r=getMergedStore(t);for(var n in r){var o=r[n],i=o.sourceName||n,a=o.type,s=t[n];if(null!=s)switch(a){case 0:e[i]=s;break;case 1:e[i]=s.serialize();break;case 2:e[i]=s.asArray();break;case 3:e[i]=s.serialize();break;case 4:case 5:e[i]=s.asArray();break;case 6:e[i]=s.id;break;case 7:e[i]=s.serialize();break;case 8:e[i]=s.asArray();break;case 9:e[i]=s.serialize();break;case 10:e[i]=s.asArray();break;case 11:e[i]=s.id;case 12:e[i]=s.asArray()}}return e},SerializationHelper.Parse=function(t,e,r,s){void 0===s&&(s=null);var u=t();s||(s=""),F&&F.AddTagsTo(u,e.tags);var f=getMergedStore(u);for(var h in f){var p=f[h],y=e[p.sourceName||h],d=p.type;if(null!=y){var g=u;switch(d){case 0:g[h]=y;break;case 1:r&&(g[h]=SerializationHelper._TextureParser(y,r,s));break;case 2:g[h]=n.FromArray(y);break;case 3:g[h]=SerializationHelper._FresnelParametersParser(y);break;case 4:g[h]=i.FromArray(y);break;case 5:g[h]=a.FromArray(y);break;case 6:r&&(g[h]=r.getLastMeshByID(y));break;case 7:g[h]=SerializationHelper._ColorCurvesParser(y);break;case 8:g[h]=o.FromArray(y);break;case 9:g[h]=SerializationHelper._ImageProcessingConfigurationParser(y);break;case 10:g[h]=c.FromArray(y);break;case 11:r&&(g[h]=r.getCameraByID(y));case 12:g[h]=l.FromArray(y)}}}return u},SerializationHelper.Clone=function(t,e){return V(t,e,!1)},SerializationHelper.Instanciate=function(t,e){return V(t,e,!0)},SerializationHelper._ImageProcessingConfigurationParser=function(t){throw E.WarnImport("ImageProcessingConfiguration")},SerializationHelper._FresnelParametersParser=function(t){throw E.WarnImport("FresnelParameters")},SerializationHelper._ColorCurvesParser=function(t){throw E.WarnImport("ColorCurves")},SerializationHelper._TextureParser=function(t,e,r){throw E.WarnImport("Texture")},SerializationHelper}();!function(t){t[t.STEP=1]="STEP"}(k||(k={}));var U=function(){function AnimationRange(t,e,r){this.name=t,this.from=e,this.to=r}return AnimationRange.prototype.clone=function(){return new AnimationRange(this.name,this.from,this.to)},AnimationRange}(),D=function(){function EngineStore(){}return Object.defineProperty(EngineStore,"LastCreatedEngine",{get:function(){return 0===this.Instances.length?null:this.Instances[this.Instances.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(EngineStore,"LastCreatedScene",{get:function(){return this._LastCreatedScene},enumerable:!0,configurable:!0}),EngineStore.Instances=new Array,EngineStore._LastCreatedScene=null,EngineStore}(),K=function(){function Node(t,e,r){void 0===e&&(e=null),void 0===r&&(r=!0),this.state="",this.metadata=null,this.reservedDataStore=null,this.doNotSerialize=!1,this._isDisposed=!1,this.animations=new Array,this._ranges={},this.onReady=null,this._isEnabled=!0,this._isParentEnabled=!0,this._isReady=!0,this._currentRenderId=-1,this._parentUpdateId=-1,this._childUpdateId=-1,this._waitingParentId=null,this._cache={},this._parentNode=null,this._children=null,this._worldMatrix=l.Identity(),this._worldMatrixDeterminant=0,this._worldMatrixDeterminantIsDirty=!0,this._sceneRootNodesIndex=-1,this._animationPropertiesOverride=null,this._isNode=!0,this.onDisposeObservable=new _,this._onDisposeObserver=null,this._behaviors=new Array,this.name=t,this.id=t,this._scene=e||D.LastCreatedScene,this.uniqueId=this._scene.getUniqueId(),this._initCache(),r&&this.addToSceneRootNodes()}return Node.AddNodeConstructor=function(t,e){this._NodeConstructors[t]=e},Node.Construct=function(t,e,r,n){var o=this._NodeConstructors[t];return o?o(e,r,n):null},Node.prototype.isDisposed=function(){return this._isDisposed},Object.defineProperty(Node.prototype,"parent",{get:function(){return this._parentNode},set:function(t){if(this._parentNode!==t){var e=this._parentNode;if(this._parentNode&&void 0!==this._parentNode._children&&null!==this._parentNode._children){var r=this._parentNode._children.indexOf(this);-1!==r&&this._parentNode._children.splice(r,1),t||this._isDisposed||this.addToSceneRootNodes()}this._parentNode=t,this._parentNode&&(void 0!==this._parentNode._children&&null!==this._parentNode._children||(this._parentNode._children=new Array),this._parentNode._children.push(this),e||this.removeFromSceneRootNodes()),this._syncParentEnabledState()}},enumerable:!0,configurable:!0}),Node.prototype.addToSceneRootNodes=function(){-1===this._sceneRootNodesIndex&&(this._sceneRootNodesIndex=this._scene.rootNodes.length,this._scene.rootNodes.push(this))},Node.prototype.removeFromSceneRootNodes=function(){if(-1!==this._sceneRootNodesIndex){var t=this._scene.rootNodes,e=t.length-1;t[this._sceneRootNodesIndex]=t[e],t[this._sceneRootNodesIndex]._sceneRootNodesIndex=this._sceneRootNodesIndex,this._scene.rootNodes.pop(),this._sceneRootNodesIndex=-1}},Object.defineProperty(Node.prototype,"animationPropertiesOverride",{get:function(){return this._animationPropertiesOverride?this._animationPropertiesOverride:this._scene.animationPropertiesOverride},set:function(t){this._animationPropertiesOverride=t},enumerable:!0,configurable:!0}),Node.prototype.getClassName=function(){return"Node"},Object.defineProperty(Node.prototype,"onDispose",{set:function(t){this._onDisposeObserver&&this.onDisposeObservable.remove(this._onDisposeObserver),this._onDisposeObserver=this.onDisposeObservable.add(t)},enumerable:!0,configurable:!0}),Node.prototype.getScene=function(){return this._scene},Node.prototype.getEngine=function(){return this._scene.getEngine()},Node.prototype.addBehavior=function(t,e){var r=this;return void 0===e&&(e=!1),-1!==this._behaviors.indexOf(t)?this:(t.init(),this._scene.isLoading&&!e?this._scene.onDataLoadedObservable.addOnce(function(){t.attach(r)}):t.attach(this),this._behaviors.push(t),this)},Node.prototype.removeBehavior=function(t){var e=this._behaviors.indexOf(t);return-1===e?this:(this._behaviors[e].detach(),this._behaviors.splice(e,1),this)},Object.defineProperty(Node.prototype,"behaviors",{get:function(){return this._behaviors},enumerable:!0,configurable:!0}),Node.prototype.getBehaviorByName=function(t){for(var e=0,r=this._behaviors;e<r.length;e++){var n=r[e];if(n.name===t)return n}return null},Node.prototype.getWorldMatrix=function(){return this._currentRenderId!==this._scene.getRenderId()&&this.computeWorldMatrix(),this._worldMatrix},Node.prototype._getWorldMatrixDeterminant=function(){return this._worldMatrixDeterminantIsDirty&&(this._worldMatrixDeterminantIsDirty=!1,this._worldMatrixDeterminant=this._worldMatrix.determinant()),this._worldMatrixDeterminant},Object.defineProperty(Node.prototype,"worldMatrixFromCache",{get:function(){return this._worldMatrix},enumerable:!0,configurable:!0}),Node.prototype._initCache=function(){this._cache={},this._cache.parent=void 0},Node.prototype.updateCache=function(t){!t&&this.isSynchronized()||(this._cache.parent=this.parent,this._updateCache())},Node.prototype._getActionManagerForTrigger=function(t,e){return void 0===e&&(e=!0),this.parent?this.parent._getActionManagerForTrigger(t,!1):null},Node.prototype._updateCache=function(t){},Node.prototype._isSynchronized=function(){return!0},Node.prototype._markSyncedWithParent=function(){this._parentNode&&(this._parentUpdateId=this._parentNode._childUpdateId)},Node.prototype.isSynchronizedWithParent=function(){return!this._parentNode||this._parentUpdateId===this._parentNode._childUpdateId&&this._parentNode.isSynchronized()},Node.prototype.isSynchronized=function(){return this._cache.parent!=this._parentNode?(this._cache.parent=this._parentNode,!1):!(this._parentNode&&!this.isSynchronizedWithParent())&&this._isSynchronized()},Node.prototype.isReady=function(t){return void 0===t&&(t=!1),this._isReady},Node.prototype.isEnabled=function(t){return void 0===t&&(t=!0),!1===t?this._isEnabled:!!this._isEnabled&&this._isParentEnabled},Node.prototype._syncParentEnabledState=function(){this._isParentEnabled=!this._parentNode||this._parentNode.isEnabled(),this._children&&this._children.forEach(function(t){t._syncParentEnabledState()})},Node.prototype.setEnabled=function(t){this._isEnabled=t,this._syncParentEnabledState()},Node.prototype.isDescendantOf=function(t){return!!this.parent&&(this.parent===t||this.parent.isDescendantOf(t))},Node.prototype._getDescendants=function(t,e,r){if(void 0===e&&(e=!1),this._children)for(var n=0;n<this._children.length;n++){var o=this._children[n];r&&!r(o)||t.push(o),e||o._getDescendants(t,!1,r)}},Node.prototype.getDescendants=function(t,e){var r=new Array;return this._getDescendants(r,t,e),r},Node.prototype.getChildMeshes=function(t,e){var r=[];return this._getDescendants(r,t,function(t){return(!e||e(t))&&void 0!==t.cullingStrategy}),r},Node.prototype.getChildren=function(t,e){return void 0===e&&(e=!0),this.getDescendants(e,t)},Node.prototype._setReady=function(t){t!==this._isReady&&(t?(this.onReady&&this.onReady(this),this._isReady=!0):this._isReady=!1)},Node.prototype.getAnimationByName=function(t){for(var e=0;e<this.animations.length;e++){var r=this.animations[e];if(r.name===t)return r}return null},Node.prototype.createAnimationRange=function(t,e,r){if(!this._ranges[t]){this._ranges[t]=Node._AnimationRangeFactory(t,e,r);for(var n=0,o=this.animations.length;n<o;n++)this.animations[n]&&this.animations[n].createRange(t,e,r)}},Node.prototype.deleteAnimationRange=function(t,e){void 0===e&&(e=!0);for(var r=0,n=this.animations.length;r<n;r++)this.animations[r]&&this.animations[r].deleteRange(t,e);this._ranges[t]=null},Node.prototype.getAnimationRange=function(t){return this._ranges[t]},Node.prototype.getAnimationRanges=function(){var t,e=[];for(t in this._ranges)e.push(this._ranges[t]);return e},Node.prototype.beginAnimation=function(t,e,r,n){var o=this.getAnimationRange(t);return o?this._scene.beginAnimation(this,o.from,o.to,e,r,n):null},Node.prototype.serializeAnimationRanges=function(){var t=[];for(var e in this._ranges){var r=this._ranges[e];if(r){var n={};n.name=e,n.from=r.from,n.to=r.to,t.push(n)}}return t},Node.prototype.computeWorldMatrix=function(t){return this._worldMatrix||(this._worldMatrix=l.Identity()),this._worldMatrix},Node.prototype.dispose=function(t,e){if(void 0===e&&(e=!1),this._isDisposed=!0,!t)for(var r=0,n=this.getDescendants(!0);r<n.length;r++){n[r].dispose(t,e)}this.parent?this.parent=null:this.removeFromSceneRootNodes(),this.onDisposeObservable.notifyObservers(this),this.onDisposeObservable.clear();for(var o=0,i=this._behaviors;o<i.length;o++){i[o].detach()}this._behaviors=[]},Node.ParseAnimationRanges=function(t,e,r){if(e.ranges)for(var n=0;n<e.ranges.length;n++){var o=e.ranges[n];t.createAnimationRange(o.name,o.from,o.to)}},Node.prototype.getHierarchyBoundingVectors=function(t,e){var r,n;void 0===t&&(t=!0),void 0===e&&(e=null),this.getScene().incrementRenderId(),this.computeWorldMatrix(!0);if(this.getBoundingInfo&&this.subMeshes){var o=this.getBoundingInfo();r=o.boundingBox.minimumWorld,n=o.boundingBox.maximumWorld}else r=new a(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),n=new a(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);if(t)for(var i=0,s=this.getDescendants(!1);i<s.length;i++){var u=s[i];if(u.computeWorldMatrix(!0),(!e||e(u))&&u.getBoundingInfo&&0!==u.getTotalVertices()){var c=u.getBoundingInfo().boundingBox,l=c.minimumWorld,f=c.maximumWorld;L.CheckExtends(l,r,n),L.CheckExtends(f,r,n)}}return{min:r,max:n}},Node._AnimationRangeFactory=function(t,e,r){throw E.WarnImport("AnimationRange")},Node._NodeConstructors={},__decorate([serialize()],Node.prototype,"name",void 0),__decorate([serialize()],Node.prototype,"id",void 0),__decorate([serialize()],Node.prototype,"uniqueId",void 0),__decorate([serialize()],Node.prototype,"state",void 0),__decorate([serialize()],Node.prototype,"metadata",void 0),Node}(),B=(function(){}(),function(){function Animation(t,e,r,n,o,i){this.name=t,this.targetProperty=e,this.framePerSecond=r,this.dataType=n,this.loopMode=o,this.enableBlending=i,this._runtimeAnimations=new Array,this._events=new Array,this.blendingSpeed=.01,this._ranges={},this.targetPropertyPath=e.split("."),this.dataType=n,this.loopMode=void 0===o?Animation.ANIMATIONLOOPMODE_CYCLE:o}return Animation._PrepareAnimation=function(t,e,r,o,s,l,f,h){var p=void 0;if(!isNaN(parseFloat(s))&&isFinite(s)?p=Animation.ANIMATIONTYPE_FLOAT:s instanceof c?p=Animation.ANIMATIONTYPE_QUATERNION:s instanceof a?p=Animation.ANIMATIONTYPE_VECTOR3:s instanceof i?p=Animation.ANIMATIONTYPE_VECTOR2:s instanceof n?p=Animation.ANIMATIONTYPE_COLOR3:s instanceof u&&(p=Animation.ANIMATIONTYPE_SIZE),null==p)return null;var y=new Animation(t,e,r,p,f),d=[{frame:0,value:s},{frame:o,value:l}];return y.setKeys(d),void 0!==h&&y.setEasingFunction(h),y},Animation.CreateAnimation=function(t,e,r,n){var o=new Animation(t+"Animation",t,r,e,Animation.ANIMATIONLOOPMODE_CONSTANT);return o.setEasingFunction(n),o},Animation.CreateAndStartAnimation=function(t,e,r,n,o,i,a,s,u,c){var l=Animation._PrepareAnimation(t,r,n,o,i,a,s,u);return l?e.getScene().beginDirectAnimation(e,[l],0,o,1===l.loopMode,1,c):null},Animation.CreateAndStartHierarchyAnimation=function(t,e,r,n,o,i,a,s,u,c,l){var f=Animation._PrepareAnimation(t,n,o,i,a,s,u,c);return f?e.getScene().beginDirectHierarchyAnimation(e,r,[f],0,i,1===f.loopMode,1,l):null},Animation.CreateMergeAndStartAnimation=function(t,e,r,n,o,i,a,s,u,c){var l=Animation._PrepareAnimation(t,r,n,o,i,a,s,u);return l?(e.animations.push(l),e.getScene().beginAnimation(e,0,o,1===l.loopMode,1,c)):null},Animation.TransitionTo=function(t,e,r,n,o,i,a,s){if(void 0===s&&(s=null),a<=0)return r[t]=e,s&&s(),null;var u=o*(a/1e3);i.setKeys([{frame:0,value:r[t].clone?r[t].clone():r[t]},{frame:u,value:e}]),r.animations||(r.animations=[]),r.animations.push(i);var c=n.beginAnimation(r,0,u,!1);return c.onAnimationEnd=s,c},Object.defineProperty(Animation.prototype,"runtimeAnimations",{get:function(){return this._runtimeAnimations},enumerable:!0,configurable:!0}),Object.defineProperty(Animation.prototype,"hasRunningRuntimeAnimations",{get:function(){for(var t=0,e=this._runtimeAnimations;t<e.length;t++){if(!e[t].isStopped)return!0}return!1},enumerable:!0,configurable:!0}),Animation.prototype.toString=function(t){var e="Name: "+this.name+", property: "+this.targetProperty;if(e+=", datatype: "+["Float","Vector3","Quaternion","Matrix","Color3","Vector2"][this.dataType],e+=", nKeys: "+(this._keys?this._keys.length:"none"),e+=", nRanges: "+(this._ranges?Object.keys(this._ranges).length:"none"),t){e+=", Ranges: {";var r=!0;for(var n in this._ranges)r&&(e+=", ",r=!1),e+=n;e+="}"}return e},Animation.prototype.addEvent=function(t){this._events.push(t)},Animation.prototype.removeEvents=function(t){for(var e=0;e<this._events.length;e++)this._events[e].frame===t&&(this._events.splice(e,1),e--)},Animation.prototype.getEvents=function(){return this._events},Animation.prototype.createRange=function(t,e,r){this._ranges[t]||(this._ranges[t]=new U(t,e,r))},Animation.prototype.deleteRange=function(t,e){void 0===e&&(e=!0);var r=this._ranges[t];if(r){if(e)for(var n=r.from,o=r.to,i=this._keys.length-1;i>=0;i--)this._keys[i].frame>=n&&this._keys[i].frame<=o&&this._keys.splice(i,1);this._ranges[t]=null}},Animation.prototype.getRange=function(t){return this._ranges[t]},Animation.prototype.getKeys=function(){return this._keys},Animation.prototype.getHighestFrame=function(){for(var t=0,e=0,r=this._keys.length;e<r;e++)t<this._keys[e].frame&&(t=this._keys[e].frame);return t},Animation.prototype.getEasingFunction=function(){return this._easingFunction},Animation.prototype.setEasingFunction=function(t){this._easingFunction=t},Animation.prototype.floatInterpolateFunction=function(t,e,n){return r.Lerp(t,e,n)},Animation.prototype.floatInterpolateFunctionWithTangents=function(t,e,n,o,i){return r.Hermite(t,e,n,o,i)},Animation.prototype.quaternionInterpolateFunction=function(t,e,r){return c.Slerp(t,e,r)},Animation.prototype.quaternionInterpolateFunctionWithTangents=function(t,e,r,n,o){return c.Hermite(t,e,r,n,o).normalize()},Animation.prototype.vector3InterpolateFunction=function(t,e,r){return a.Lerp(t,e,r)},Animation.prototype.vector3InterpolateFunctionWithTangents=function(t,e,r,n,o){return a.Hermite(t,e,r,n,o)},Animation.prototype.vector2InterpolateFunction=function(t,e,r){return i.Lerp(t,e,r)},Animation.prototype.vector2InterpolateFunctionWithTangents=function(t,e,r,n,o){return i.Hermite(t,e,r,n,o)},Animation.prototype.sizeInterpolateFunction=function(t,e,r){return u.Lerp(t,e,r)},Animation.prototype.color3InterpolateFunction=function(t,e,r){return n.Lerp(t,e,r)},Animation.prototype._getKeyValue=function(t){return"function"==typeof t?t():t},Animation.prototype._interpolate=function(t,e){if(e.loopMode===Animation.ANIMATIONLOOPMODE_CONSTANT&&e.repeatCount>0)return e.highLimitValue.clone?e.highLimitValue.clone():e.highLimitValue;var r=this._keys;if(1===r.length)return this._getKeyValue(r[0].value);var n=e.key;if(r[n].frame>=t)for(;n-1>=0&&r[n].frame>=t;)n--;for(var o=n;o<r.length;o++){var i=r[o+1];if(i.frame>=t){e.key=o;var a=r[o],s=this._getKeyValue(a.value);if(a.interpolation===k.STEP)return s;var u=this._getKeyValue(i.value),c=void 0!==a.outTangent&&void 0!==i.inTangent,l=i.frame-a.frame,f=(t-a.frame)/l,h=this.getEasingFunction();switch(null!=h&&(f=h.ease(f)),this.dataType){case Animation.ANIMATIONTYPE_FLOAT:var p=c?this.floatInterpolateFunctionWithTangents(s,a.outTangent*l,u,i.inTangent*l,f):this.floatInterpolateFunction(s,u,f);switch(e.loopMode){case Animation.ANIMATIONLOOPMODE_CYCLE:case Animation.ANIMATIONLOOPMODE_CONSTANT:return p;case Animation.ANIMATIONLOOPMODE_RELATIVE:return e.offsetValue*e.repeatCount+p}break;case Animation.ANIMATIONTYPE_QUATERNION:var y=c?this.quaternionInterpolateFunctionWithTangents(s,a.outTangent.scale(l),u,i.inTangent.scale(l),f):this.quaternionInterpolateFunction(s,u,f);switch(e.loopMode){case Animation.ANIMATIONLOOPMODE_CYCLE:case Animation.ANIMATIONLOOPMODE_CONSTANT:return y;case Animation.ANIMATIONLOOPMODE_RELATIVE:return y.addInPlace(e.offsetValue.scale(e.repeatCount))}return y;case Animation.ANIMATIONTYPE_VECTOR3:var d=c?this.vector3InterpolateFunctionWithTangents(s,a.outTangent.scale(l),u,i.inTangent.scale(l),f):this.vector3InterpolateFunction(s,u,f);switch(e.loopMode){case Animation.ANIMATIONLOOPMODE_CYCLE:case Animation.ANIMATIONLOOPMODE_CONSTANT:return d;case Animation.ANIMATIONLOOPMODE_RELATIVE:return d.add(e.offsetValue.scale(e.repeatCount))}case Animation.ANIMATIONTYPE_VECTOR2:var g=c?this.vector2InterpolateFunctionWithTangents(s,a.outTangent.scale(l),u,i.inTangent.scale(l),f):this.vector2InterpolateFunction(s,u,f);switch(e.loopMode){case Animation.ANIMATIONLOOPMODE_CYCLE:case Animation.ANIMATIONLOOPMODE_CONSTANT:return g;case Animation.ANIMATIONLOOPMODE_RELATIVE:return g.add(e.offsetValue.scale(e.repeatCount))}case Animation.ANIMATIONTYPE_SIZE:switch(e.loopMode){case Animation.ANIMATIONLOOPMODE_CYCLE:case Animation.ANIMATIONLOOPMODE_CONSTANT:return this.sizeInterpolateFunction(s,u,f);case Animation.ANIMATIONLOOPMODE_RELATIVE:return this.sizeInterpolateFunction(s,u,f).add(e.offsetValue.scale(e.repeatCount))}case Animation.ANIMATIONTYPE_COLOR3:switch(e.loopMode){case Animation.ANIMATIONLOOPMODE_CYCLE:case Animation.ANIMATIONLOOPMODE_CONSTANT:return this.color3InterpolateFunction(s,u,f);case Animation.ANIMATIONLOOPMODE_RELATIVE:return this.color3InterpolateFunction(s,u,f).add(e.offsetValue.scale(e.repeatCount))}case Animation.ANIMATIONTYPE_MATRIX:switch(e.loopMode){case Animation.ANIMATIONLOOPMODE_CYCLE:case Animation.ANIMATIONLOOPMODE_CONSTANT:if(Animation.AllowMatricesInterpolation)return this.matrixInterpolateFunction(s,u,f,e.workValue);case Animation.ANIMATIONLOOPMODE_RELATIVE:return s}}break}}return this._getKeyValue(r[r.length-1].value)},Animation.prototype.matrixInterpolateFunction=function(t,e,r,n){return Animation.AllowMatrixDecomposeForInterpolation?n?(l.DecomposeLerpToRef(t,e,r,n),n):l.DecomposeLerp(t,e,r):n?(l.LerpToRef(t,e,r,n),n):l.Lerp(t,e,r)},Animation.prototype.clone=function(){var t=new Animation(this.name,this.targetPropertyPath.join("."),this.framePerSecond,this.dataType,this.loopMode);if(t.enableBlending=this.enableBlending,t.blendingSpeed=this.blendingSpeed,this._keys&&t.setKeys(this._keys),this._ranges)for(var e in t._ranges={},this._ranges){var r=this._ranges[e];r&&(t._ranges[e]=r.clone())}return t},Animation.prototype.setKeys=function(t){this._keys=t.slice(0)},Animation.prototype.serialize=function(){var t={};t.name=this.name,t.property=this.targetProperty,t.framePerSecond=this.framePerSecond,t.dataType=this.dataType,t.loopBehavior=this.loopMode,t.enableBlending=this.enableBlending,t.blendingSpeed=this.blendingSpeed;var e=this.dataType;t.keys=[];for(var r=this.getKeys(),n=0;n<r.length;n++){var o=r[n],i={};switch(i.frame=o.frame,e){case Animation.ANIMATIONTYPE_FLOAT:i.values=[o.value];break;case Animation.ANIMATIONTYPE_QUATERNION:case Animation.ANIMATIONTYPE_MATRIX:case Animation.ANIMATIONTYPE_VECTOR3:case Animation.ANIMATIONTYPE_COLOR3:i.values=o.value.asArray()}t.keys.push(i)}for(var a in t.ranges=[],this._ranges){var s=this._ranges[a];if(s){var u={};u.name=a,u.from=s.from,u.to=s.to,t.ranges.push(u)}}return t},Object.defineProperty(Animation,"ANIMATIONTYPE_FLOAT",{get:function(){return Animation._ANIMATIONTYPE_FLOAT},enumerable:!0,configurable:!0}),Object.defineProperty(Animation,"ANIMATIONTYPE_VECTOR3",{get:function(){return Animation._ANIMATIONTYPE_VECTOR3},enumerable:!0,configurable:!0}),Object.defineProperty(Animation,"ANIMATIONTYPE_VECTOR2",{get:function(){return Animation._ANIMATIONTYPE_VECTOR2},enumerable:!0,configurable:!0}),Object.defineProperty(Animation,"ANIMATIONTYPE_SIZE",{get:function(){return Animation._ANIMATIONTYPE_SIZE},enumerable:!0,configurable:!0}),Object.defineProperty(Animation,"ANIMATIONTYPE_QUATERNION",{get:function(){return Animation._ANIMATIONTYPE_QUATERNION},enumerable:!0,configurable:!0}),Object.defineProperty(Animation,"ANIMATIONTYPE_MATRIX",{get:function(){return Animation._ANIMATIONTYPE_MATRIX},enumerable:!0,configurable:!0}),Object.defineProperty(Animation,"ANIMATIONTYPE_COLOR3",{get:function(){return Animation._ANIMATIONTYPE_COLOR3},enumerable:!0,configurable:!0}),Object.defineProperty(Animation,"ANIMATIONLOOPMODE_RELATIVE",{get:function(){return Animation._ANIMATIONLOOPMODE_RELATIVE},enumerable:!0,configurable:!0}),Object.defineProperty(Animation,"ANIMATIONLOOPMODE_CYCLE",{get:function(){return Animation._ANIMATIONLOOPMODE_CYCLE},enumerable:!0,configurable:!0}),Object.defineProperty(Animation,"ANIMATIONLOOPMODE_CONSTANT",{get:function(){return Animation._ANIMATIONLOOPMODE_CONSTANT},enumerable:!0,configurable:!0}),Animation._UniversalLerp=function(t,e,r){var n=t.constructor;return n.Lerp?n.Lerp(t,e,r):n.Slerp?n.Slerp(t,e,r):t.toFixed?t*(1-r)+r*e:e},Animation.Parse=function(t){var e,r,o=new Animation(t.name,t.property,t.framePerSecond,t.dataType,t.loopBehavior),i=t.dataType,s=[];for(t.enableBlending&&(o.enableBlending=t.enableBlending),t.blendingSpeed&&(o.blendingSpeed=t.blendingSpeed),r=0;r<t.keys.length;r++){var u,f,h=t.keys[r];switch(i){case Animation.ANIMATIONTYPE_FLOAT:e=h.values[0],h.values.length>=1&&(u=h.values[1]),h.values.length>=2&&(f=h.values[2]);break;case Animation.ANIMATIONTYPE_QUATERNION:if(e=c.FromArray(h.values),h.values.length>=8){var p=c.FromArray(h.values.slice(4,8));p.equals(c.Zero())||(u=p)}if(h.values.length>=12){var y=c.FromArray(h.values.slice(8,12));y.equals(c.Zero())||(f=y)}break;case Animation.ANIMATIONTYPE_MATRIX:e=l.FromArray(h.values);break;case Animation.ANIMATIONTYPE_COLOR3:e=n.FromArray(h.values);break;case Animation.ANIMATIONTYPE_VECTOR3:default:e=a.FromArray(h.values)}var d={};d.frame=h.frame,d.value=e,null!=u&&(d.inTangent=u),null!=f&&(d.outTangent=f),s.push(d)}if(o.setKeys(s),t.ranges)for(r=0;r<t.ranges.length;r++)e=t.ranges[r],o.createRange(e.name,e.from,e.to);return o},Animation.AppendSerializedAnimations=function(t,e){j.AppendSerializedAnimations(t,e)},Animation.AllowMatricesInterpolation=!1,Animation.AllowMatrixDecomposeForInterpolation=!0,Animation._ANIMATIONTYPE_FLOAT=0,Animation._ANIMATIONTYPE_VECTOR3=1,Animation._ANIMATIONTYPE_QUATERNION=2,Animation._ANIMATIONTYPE_MATRIX=3,Animation._ANIMATIONTYPE_COLOR3=4,Animation._ANIMATIONTYPE_VECTOR2=5,Animation._ANIMATIONTYPE_SIZE=6,Animation._ANIMATIONLOOPMODE_RELATIVE=0,Animation._ANIMATIONLOOPMODE_CYCLE=1,Animation._ANIMATIONLOOPMODE_CONSTANT=2,Animation}());function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var r,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;return _assertThisInitialized(t)}(this,r)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}C.RegisteredTypes["BABYLON.Animation"]=B,K._AnimationRangeFactory=function(t,e,r){return new U(t,e,r)};var W=__webpack_require__(96),q=__webpack_require__(171),G=__webpack_require__(187),H=__webpack_require__(267),Q=__webpack_require__(569).emojis,Y=__webpack_require__(569).animations,X=__webpack_require__(225).VoxelField,Z=__webpack_require__(719);var $=function getGlobal(){return void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:null}();$&&($.setInterval=function(t){return function(e,r){var n=r;if(!isNaN(parseInt(r,10))){parseInt(r,10)<30&&(n=30,console.log("setInterval minimum is 30ms"));for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];return t.call.apply(t,[$,e,n].concat(i))}console.error("setInterval interval is invalid")}}($.setInterval),$.emojis=Q,$.animations=Y);var J=function(t){_inherits(Parcel,G);var e=_createSuper(Parcel);function Parcel(t){var r;return _classCallCheck(this,Parcel),_defineProperty(_assertThisInitialized(r=e.call(this)),"fetchSnapshots",W(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r._fetchSnapshots(t)},500,{leading:!1,trailing:!0})),_defineProperty(_assertThisInitialized(r),"setSnapshot",W(function(t){r._setSnapshot(t)},500,{leading:!1,trailing:!0})),r.id=t,r.players=[],r.featuresList=[],r}return _createClass(Parcel,[{key:"listen",value:function listen(t){}},{key:"onMessage",value:function onMessage(t,e){if("playerenter"!==e.type){if(t.player)if("playerleave"===e.type)this.leave(t.player);else if("move"===e.type){if(!t.player.onMove)return;t.player.onMove(e)}else if("click"===e.type){var r,n=this.getFeatureByUuid(e.uuid);if(n||(r=this.getPlayerByUuid(e.uuid)),!n&&!r)return void console.log("cant find feature or player "+e.uuid);var o=Object.assign({},e.event,{player:t.player},!!r&&{targetPlayer:r});if(o.point&&(o.point=a.FromArray(o.point),o.normal=a.FromArray(o.normal)),n&&o.guiTarget&&n.gui){var i=n.gui.getControlByUuid(o.guiTarget);if(i)return void i.emit("click",o)}n&&n.emit("click",o),r&&r.emit("click",o)}else if("trigger"===e.type){var s=this.getFeatureByUuid(e.uuid);if(!s)return void console.log("cant find feature "+e.uuid);var u=Object.assign({},e.event,{player:t.player});s.emit("trigger",u)}else if("keys"===e.type){var c=this.getFeatureByUuid(e.uuid);if(!c)return;c.emit("keys",e.event)}else if("start"===e.type){var l=this.getFeatureByUuid(e.uuid);if(!l)return;l.emit("start")}else if("stop"===e.type){var f=this.getFeatureByUuid(e.uuid);if(!f)return;f.emit("stop")}else if("changed"===e.type){var h=this.getFeatureByUuid(e.uuid);if(!h)return;h.emit("changed",e.event)}}else this.join(e.player)}},{key:"join",value:function join(t){t.wallet&&(this.players.find(function(e){return e.wallet===t.wallet&&e.uuid===t.uuid})||(this.emit("playerenter",{player:t instanceof Z?t:new Z(t,this)}),!t instanceof Z||this.players.push(t)))}},{key:"leave",value:function leave(t){var e=this.getPlayerByWallet(t.wallet),r=this.players.indexOf(e);this.players.splice(r,1),this.emit("playerleave",{player:t instanceof Z?t:new Z(t,this)})}},{key:"broadcast",value:function broadcast(t){var e=JSON.stringify(t);postMessage(e)}},{key:"fetch",value:function fetch(){}},{key:"debug",value:function debug(){"undefined"!=typeof document&&(this.featuresList&&(document.querySelector("#debug").innerHTML=this.featuresList.map(function(t){return"\n        <li>\n          ".concat(t.type).concat(t.id?"#"+t.id:"","<br />\n          <small>").concat(t.uuid,"</small>\n        </li>\n       ")}).join("")))}},{key:"parse",value:function parse(t){var e=this;Object.assign(this,t),this.featuresList=Array.from(t.features).map(function(t){return!!t&&H.create(e,t)}),this.voxels=new X(this)}},{key:"getPlayerByUuid",value:function getPlayerByUuid(t){return this.players.find(function(e){return e.uuid===t})}},{key:"getPlayerByWallet",value:function getPlayerByWallet(t){return this.players.find(function(e){return e.wallet===t})}},{key:"getFeatureByUuid",value:function getFeatureByUuid(t){return this.featuresList.find(function(e){return e.uuid===t})}},{key:"getFeatureById",value:function getFeatureById(t){return this.featuresList.find(function(e){return e.id===t})}},{key:"getFeatures",value:function getFeatures(){return this.featuresList}},{key:"getFeaturesByType",value:function getFeaturesByType(t){return this.featuresList.filter(function(e){return e.type===t})}},{key:"getPlayers",value:function getPlayers(){return this.players}},{key:"_fetchSnapshots",value:function _fetchSnapshots(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r="https://www.cryptovoxels.com/api/parcels/".concat(this.id,"/snapshots.json");(void 0!==__webpack_require__.g&&__webpack_require__.g.fetchJson?fetchJson(r):fetch(r).then(function(t){return t.json()})).then(function(r){r.success?t.snapshots=r.snapshots:t.snapshots=[],e&&e(r.snapshots)})}},{key:"_setSnapshot",value:function _setSnapshot(t){if(this.snapshots)if(0!=this.snapshots.length){var e=this.snapshots.find(function(e){return e.id==t});if(e)if("content"in e&&!0===e.is_snapshot)if(e.content.voxels){delete e.id;var r=Object.assign({},this,e);delete r.players,delete r.featuresList,r.features=r.content.features,r.voxels=r.content.voxels,r.palette=r.content.palette,r.tileset=r.content.tileset,this.broadcast({type:"snapshot",parcel:r})}else console.error("Snapshot has no voxels");else console.error("Not a valid snapshot");else console.error("Could not find snapshot given ID")}else console.error("No snapshots for this parcel");else console.error("Call parcel.fetchSnapshots first")}},{key:"createFeature",value:function createFeature(t,e){var r=H.create(this,Object.assign({position:a.Zero(),rotation:a.Zero(),scale:new a(1,1,1),type:t,uuid:q()},e||{}));return this.featuresList.push(r),this.broadcast({type:"create",uuid:r.uuid,content:r._content}),r}},{key:"removeFeature",value:function removeFeature(t){this.broadcast({type:"remove",uuid:t.uuid});var e=this.featuresList.indexOf(t);e>-1&&(this.featuresList.splice(e),t.removeGui())}},{key:"start",value:function start(){var t=this,e={readyState:1};self.onmessage=function(r){if(r.data.player){var n=t.players.find(function(t){return t.wallet==r.data.player.wallet});if(n&&(e.player=n instanceof Z?n:new Z(n,t)),"join"===r.data.type)if(n&&r.data.player.wallet===n.wallet){e.player=new Z(r.data.player,t);var o=t.players.indexOf(n);-1!==o&&(t.players[o]=e.player)}else e.player=new Z(r.data.player,t),t.join(e.player);else parcel.onMessage(e,r.data)}}}}]),Parcel}(),tt=function(t){_inherits(Space,J);var e=_createSuper(Space);function Space(t){return _classCallCheck(this,Space),e.call(this,t)}return _createClass(Space,[{key:"_fetchSnapshots",value:function _fetchSnapshots(){}},{key:"_setSnapshot",value:function _setSnapshot(){}}]),Space}();"undefined"!=typeof self&&Object.assign(self,{Parcel:J,Space:tt,Feature:H,Animation:B,VoxelField:X,Vector3:a,Quaternion:c,Vector2:i,Color3:n,Matrix:l})})()})();